/**
 *	8.0.0
 *	Generation date: 2020-10-06T16:02:04.903Z
 *	Client name: unlocked
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2021/07/13"
 *	Domain lock: ["127.0.0.1","localhost","192.168.1.61","chartiq.com","fiddle.jshell.net","jsfiddle.net"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
Y2WW[516308]=(function(){var A=2;for(;A !== 9;){switch(A){case 1:return globalThis;break;case 2:A=typeof globalThis === '\u006f\x62\u006a\x65\u0063\u0074'?1:5;break;case 5:var O;try{var c=2;for(;c !== 6;){switch(c){case 3:throw "";c=9;break;case 9:delete O['\u006b\x74\x37\u0068\x44'];var R=Object['\u0070\u0072\u006f\x74\u006f\x74\x79\u0070\u0065'];delete R['\x62\u0043\u0076\x42\u006c'];c=6;break;case 2:Object['\x64\x65\x66\x69\x6e\u0065\x50\x72\u006f\x70\x65\x72\x74\u0079'](Object['\u0070\x72\x6f\x74\x6f\u0074\u0079\x70\u0065'],'\u0062\x43\u0076\x42\x6c',{'\x67\x65\x74':function(){var j=2;for(;j !== 1;){switch(j){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});O=bCvBl;O['\u006b\x74\u0037\x68\x44']=O;c=4;break;case 4:c=typeof kt7hD === '\u0075\x6e\x64\x65\u0066\x69\u006e\u0065\x64'?3:9;break;}}}catch(M){O=window;}return O;break;}}})();Y2WW[251947]=m1RR(Y2WW[516308]);Y2WW[315644]=F8PP(Y2WW[516308]);Y2WW.a0T=function(){return typeof Y2WW[575515].X0T === 'function'?Y2WW[575515].X0T.apply(Y2WW[575515],arguments):Y2WW[575515].X0T;};Y2WW.h0T=function(){return typeof Y2WW[575515].l0T === 'function'?Y2WW[575515].l0T.apply(Y2WW[575515],arguments):Y2WW[575515].l0T;};Y2WW[516308].N4kk=Y2WW;function Y2WW(){}Y2WW[575515]=(function(o0T){return {X0T:function(){var S0T,b0T=arguments;switch(o0T){case 55:S0T=b0T[3] + b0T[0] + b0T[6] + b0T[7] + b0T[2] + b0T[4] + b0T[5] + b0T[1];break;case 78:S0T=b0T[3] - b0T[2] * (b0T[1] | b0T[0]) - b0T[4];break;case 1:S0T=b0T[2] - b0T[1] + b0T[0];break;case 60:S0T=b0T[2] * b0T[0] / b0T[1];break;case 3:S0T=b0T[0] - b0T[3] + b0T[1] + b0T[2];break;case 59:S0T=b0T[0] + b0T[3] + b0T[2] + b0T[1];break;case 36:S0T=(b0T[0] << b0T[2]) / b0T[1];break;case 50:S0T=b0T[4] + (b0T[5] - b0T[0]) / (b0T[2] - b0T[3]) * (b0T[6] - b0T[1]);break;case 14:S0T=b0T[0] ^ b0T[1];break;case 4:S0T=(b0T[2] + b0T[0]) / +b0T[1];break;case 11:S0T=b0T[2] - b0T[1] * b0T[0];break;case 56:S0T=b0T[0] * +b0T[1];break;case 49:S0T=(b0T[2] - b0T[3]) * b0T[1] + b0T[0];break;case 13:S0T=b0T[0] >> b0T[1];break;case 25:S0T=b0T[0] + b0T[2] / +b0T[1];break;case 27:S0T=b0T[0] << b0T[1];break;case 47:S0T=b0T[2] + b0T[1] + b0T[0];break;case 31:S0T=(b0T[3] ^ b0T[2]) * b0T[0] - b0T[1];break;case 61:S0T=(b0T[1] + b0T[0]) * b0T[2];break;case 38:S0T=b0T[1] / (b0T[2] << b0T[0]);break;case 66:S0T=b0T[3] - b0T[2] / (b0T[1] + b0T[4] / b0T[0]);break;case 81:S0T=b0T[4] + (b0T[5] / (b0T[3] ^ b0T[0]) - b0T[1] / b0T[2]);break;case 15:S0T=b0T[1] - (b0T[2] - b0T[0]);break;case 42:S0T=b0T[1] * (b0T[0] + b0T[2]) / b0T[3];break;case 58:S0T=(b0T[2] - (b0T[3] + b0T[0])) / b0T[1];break;case 46:S0T=b0T[1] * b0T[2] + b0T[0];break;case 40:S0T=b0T[3] - b0T[2] * (b0T[0] - b0T[1]);break;case 51:S0T=b0T[1] + (b0T[2] << b0T[0]);break;case 5:S0T=b0T[0] + b0T[1] - b0T[2];break;case 21:S0T=b0T[1] * b0T[0];break;case 65:S0T=b0T[0] * b0T[2] * b0T[1];break;case 74:S0T=b0T[1] - b0T[0] / (b0T[3] + b0T[2]);break;case 41:S0T=b0T[0] - (b0T[1] >> b0T[2]);break;case 76:S0T=b0T[3] - b0T[0] * b0T[2] - b0T[1];break;case 43:S0T=b0T[0] * (+b0T[4] * b0T[2] + b0T[1]) / b0T[3];break;case 10:S0T=b0T[0] + b0T[1] * b0T[2];break;case 22:S0T=b0T[0] - b0T[1] / b0T[2];break;case 79:S0T=b0T[1] == b0T[0];break;case 28:S0T=b0T[1] * b0T[2] - b0T[0];break;case 44:S0T=(b0T[1] * b0T[2] - b0T[6] * b0T[0]) / (b0T[4] * b0T[3] - b0T[5]);break;case 16:S0T=(b0T[0] - b0T[1]) / b0T[2];break;case 19:S0T=b0T[1] | b0T[0];break;case 80:S0T=b0T[1] + b0T[0] / b0T[2] + b0T[3];break;case 52:S0T=(b0T[1] * b0T[2] + b0T[0]) / b0T[3];break;case 71:S0T=b0T[0] - (b0T[2] & b0T[1]);break;case 0:S0T=b0T[0] + b0T[1];break;case 32:S0T=(b0T[0] - b0T[4]) * (b0T[2] - b0T[5]) / (b0T[1] - b0T[3]) + b0T[6];break;case 2:S0T=b0T[1] - b0T[0];break;case 23:S0T=b0T[2] + b0T[1] / b0T[0];break;case 68:S0T=b0T[3] + b0T[1] * (b0T[0] - b0T[2]);break;case 48:S0T=-(b0T[2] - b0T[1]) * b0T[0] + b0T[3];break;case 72:S0T=b0T[0] > b0T[1];break;case 69:S0T=(b0T[3] % b0T[1] + b0T[2]) * b0T[0];break;case 37:S0T=(b0T[1] >> b0T[2]) / b0T[0];break;case 33:S0T=b0T[0] - +b0T[1];break;case 57:S0T=b0T[2] - b0T[0] - b0T[1];break;case 62:S0T=b0T[3] * b0T[4] * b0T[5] + (b0T[6] - b0T[2] * b0T[0]) * b0T[1];break;case 18:S0T=b0T[2] + (b0T[1] - b0T[0]);break;case 8:S0T=b0T[0] / b0T[1];break;case 20:S0T=b0T[3] * b0T[0] - b0T[1] - b0T[2];break;case 9:S0T=(b0T[1] + b0T[0] + b0T[3] + b0T[4]) / b0T[2];break;case 6:S0T=b0T[1] + b0T[3] - b0T[0] - b0T[2];break;case 24:S0T=b0T[1] - b0T[2] / +b0T[0];break;case 64:S0T=+b0T[2] * b0T[0] / (b0T[1] + b0T[3]);break;case 34:S0T=b0T[1] & b0T[0];break;case 12:S0T=b0T[2] - (b0T[1] << b0T[0]);break;case 30:S0T=(b0T[1] - b0T[2]) / (b0T[0] - b0T[3]);break;case 53:S0T=(b0T[0] + (b0T[4] - b0T[3]) * b0T[2]) / b0T[1];break;case 35:S0T=b0T[0] + +b0T[1];break;case 67:S0T=b0T[3] * (b0T[1] / b0T[2] - b0T[0]);break;case 26:S0T=(b0T[0] - b0T[4]) / (b0T[3] - b0T[2]) > b0T[1];break;case 77:S0T=b0T[0] + b0T[2] * b0T[3] + b0T[1];break;case 17:S0T=b0T[1] * b0T[0] < b0T[2];break;case 73:S0T=b0T[1] * (b0T[0] + b0T[2]);break;case 39:S0T=b0T[2] + (b0T[1] - b0T[3]) / b0T[0];break;case 45:S0T=(b0T[0] - b0T[2] * b0T[3]) / b0T[1];break;case 29:S0T=b0T[0] < b0T[1];break;case 54:S0T=(b0T[0] + b0T[1] * b0T[3]) / b0T[2];break;case 63:S0T=b0T[0] / b0T[1] - b0T[2];break;case 7:S0T=(b0T[1] + b0T[2]) / b0T[0];break;case 75:S0T=b0T[0] * -b0T[1];break;case 70:S0T=b0T[3] / (b0T[2] * b0T[1]) <= +b0T[0];break;}return S0T;},l0T:function(Z0T){o0T=Z0T;}};})();Y2WW[117406]=(function(){var f5s=function(Y5s,o5s){var K5s=o5s & 0xffff;var s5s=o5s - K5s;return (s5s * Y5s | 0) + (K5s * Y5s | 0) | 0;},T5s=function(q5s,p5s,B5s){var y5s=0xcc9e2d51,R5s=0x1b873593;var e5s=B5s;var F5s=p5s & ~0x3;for(var i5s=0;i5s < F5s;i5s+=4){var z5s=q5s.g1RR(i5s) & 0xff | (q5s.g1RR(i5s + 1) & 0xff) << 8 | (q5s.g1RR(i5s + 2) & 0xff) << 16 | (q5s.g1RR(i5s + 3) & 0xff) << 24;z5s=f5s(z5s,y5s);z5s=(z5s & 0x1ffff) << 15 | z5s >>> 17;z5s=f5s(z5s,R5s);e5s^=z5s;e5s=(e5s & 0x7ffff) << 13 | e5s >>> 19;e5s=e5s * 5 + 0xe6546b64 | 0;}z5s=0;switch(p5s % 4){case 3:z5s=(q5s.g1RR(F5s + 2) & 0xff) << 16;case 2:z5s|=(q5s.g1RR(F5s + 1) & 0xff) << 8;case 1:z5s|=q5s.g1RR(F5s) & 0xff;z5s=f5s(z5s,y5s);z5s=(z5s & 0x1ffff) << 15 | z5s >>> 17;z5s=f5s(z5s,R5s);e5s^=z5s;}e5s^=p5s;e5s^=e5s >>> 16;e5s=f5s(e5s,0x85ebca6b);e5s^=e5s >>> 13;e5s=f5s(e5s,0xc2b2ae35);e5s^=e5s >>> 16;return e5s;};return {h5s:T5s};})();Y2WW.H0T=function(){return typeof Y2WW[575515].X0T === 'function'?Y2WW[575515].X0T.apply(Y2WW[575515],arguments):Y2WW[575515].X0T;};Y2WW.F6f=function(){return typeof Y2WW[234673].w9s === 'function'?Y2WW[234673].w9s.apply(Y2WW[234673],arguments):Y2WW[234673].w9s;};Y2WW.E6f=function(){return typeof Y2WW[234673].w9s === 'function'?Y2WW[234673].w9s.apply(Y2WW[234673],arguments):Y2WW[234673].w9s;};Y2WW.z5J=function(){return typeof Y2WW[117406].h5s === 'function'?Y2WW[117406].h5s.apply(Y2WW[117406],arguments):Y2WW[117406].h5s;};Y2WW[415570]=Y2WW[315644];Y2WW[232311]="h4E";function m1RR(p5J){function E7J(Q5J,u5J,i5J,O5J,t5J){var G5J=2;for(;G5J !== 14;){switch(G5J){case 9:J5J[7]=6;J5J[7]=8;J5J[7]=9;try{var P5J=2;for(;P5J !== 8;){switch(P5J){case 2:J5J[9]={};J5J[1]=(1,J5J[0][1])(J5J[0][0]);J5J[2]=[J5J[7],J5J[1].prototype][J5J[0][3]];P5J=4;break;case 4:J5J[9].value=J5J[2][J5J[0][2]];try{var H5J=2;for(;H5J !== 3;){switch(H5J){case 4:J5J[0][0].Object[J5J[3]](J5J[2],J5J[0][4],J5J[9]);H5J=3;break;case 2:J5J[3]=J5J[6];J5J[3]+=J5J[4];J5J[3]+=J5J[5];H5J=4;break;}}}catch(v7J){}J5J[2][J5J[0][4]]=J5J[9].value;P5J=8;break;}}}catch(g7J){}G5J=14;break;case 2:var J5J=[arguments];J5J[5]="ty";J5J[4]="";J5J[4]="roper";J5J[6]="defineP";G5J=9;break;}}}var b5J=2;for(;b5J !== 11;){switch(b5J){case 3:c5J[3]="g";c5J[7]="1";c5J[4]=1;c5J[1]=c5J[3];b5J=6;break;case 2:var c5J=[arguments];c5J[5]="";c5J[5]="";c5J[5]="RR";b5J=3;break;case 13:var r7J=function(a5J,D5J,I5J,R5J){var V5J=2;for(;V5J !== 5;){switch(V5J){case 2:var x5J=[arguments];E7J(c5J[0][0],x5J[0][0],x5J[0][1],x5J[0][2],x5J[0][3]);V5J=5;break;}}};b5J=12;break;case 6:c5J[1]+=c5J[7];c5J[1]+=c5J[5];b5J=13;break;case 12:r7J(s7J,"charCodeAt",c5J[4],c5J[1]);b5J=11;break;}}function s7J(f5J){var q5J=2;for(;q5J !== 5;){switch(q5J){case 2:var m5J=[arguments];return m5J[0][0].String;break;}}}}Y2WW.F0T=function(){return typeof Y2WW[575515].l0T === 'function'?Y2WW[575515].l0T.apply(Y2WW[575515],arguments):Y2WW[575515].l0T;};Y2WW[150122]=false;Y2WW[234673]=(function(){var M6f=2;for(;M6f !== 9;){switch(M6f){case 3:return c6f[4];break;case 2:var c6f=[arguments];c6f[8]=undefined;c6f[4]={};c6f[4].w9s=function(){var O6f=2;for(;O6f !== 90;){switch(O6f){case 54:V6f[8].Y2PP(V6f[31]);V6f[8].Y2PP(V6f[7]);V6f[8].Y2PP(V6f[5]);V6f[8].Y2PP(V6f[29]);O6f=50;break;case 70:V6f[16]++;O6f=57;break;case 2:var V6f=[arguments];O6f=1;break;case 69:O6f=(function(S6f){var R6f=2;for(;R6f !== 22;){switch(R6f){case 26:R6f=P6f[2] >= 0.5?25:24;break;case 5:return;break;case 11:P6f[5][P6f[4][V6f[84]]].t+=true;R6f=10;break;case 20:P6f[5][P6f[4][V6f[84]]].h+=true;R6f=19;break;case 10:R6f=P6f[4][V6f[61]] === V6f[38]?20:19;break;case 25:P6f[6]=true;R6f=24;break;case 6:P6f[4]=P6f[0][0][P6f[9]];R6f=14;break;case 1:R6f=P6f[0][0].length === 0?5:4;break;case 2:var P6f=[arguments];R6f=1;break;case 14:R6f=typeof P6f[5][P6f[4][V6f[84]]] === 'undefined'?13:11;break;case 12:P6f[3].Y2PP(P6f[4][V6f[84]]);R6f=11;break;case 18:P6f[6]=false;R6f=17;break;case 24:P6f[9]++;R6f=16;break;case 23:return P6f[6];break;case 4:P6f[5]={};P6f[3]=[];P6f[9]=0;R6f=8;break;case 8:P6f[9]=0;R6f=7;break;case 15:P6f[7]=P6f[3][P6f[9]];P6f[2]=P6f[5][P6f[7]].h / P6f[5][P6f[7]].t;R6f=26;break;case 19:P6f[9]++;R6f=7;break;case 16:R6f=P6f[9] < P6f[3].length?15:23;break;case 7:R6f=P6f[9] < P6f[0][0].length?6:18;break;case 17:P6f[9]=0;R6f=16;break;case 13:P6f[5][P6f[4][V6f[84]]]=(function(){var X6f=2;for(;X6f !== 9;){switch(X6f){case 2:var G6f=[arguments];G6f[9]={};G6f[9].h=0;G6f[9].t=0;return G6f[9];break;}}}).g2PP(this,arguments);R6f=12;break;}}})(V6f[34])?68:67;break;case 44:V6f[37]=V6f[59];V6f[52]={};V6f[52].O0T=['t0T'];V6f[52].D0T=function(){var n6s=false;var l6s=[];try{for(var v6s in console){l6s.Y2PP(v6s);}n6s=l6s.length === 0;}catch(c6s){}var j6s=n6s;return j6s;};O6f=40;break;case 16:V6f[3].D0T=function(){var s6s=typeof w2PP === 'function';return s6s;};V6f[5]=V6f[3];V6f[72]={};V6f[72].O0T=['u0T'];V6f[72].D0T=function(){var f6s=function(){return ('x').repeat(2);};var d6s=(/\x78\x78/).I2PP(f6s + []);return d6s;};V6f[39]=V6f[72];V6f[55]={};O6f=22;break;case 57:O6f=V6f[16] < V6f[8].length?56:69;break;case 62:V6f[41]='O0T';V6f[61]='g0T';V6f[97]='D0T';O6f=59;break;case 76:O6f=V6f[35] < V6f[82][V6f[41]].length?75:70;break;case 1:O6f=c6f[8]?5:4;break;case 68:O6f=92?68:67;break;case 12:V6f[2]=V6f[6];V6f[9]={};V6f[9].O0T=['u0T'];V6f[9].D0T=function(){var q6s=function(){return ('aa').charCodeAt(1);};var U6s=(/\x39\u0037/).I2PP(q6s + []);return U6s;};V6f[7]=V6f[9];V6f[3]={};V6f[3].O0T=['t0T'];O6f=16;break;case 40:V6f[87]=V6f[52];V6f[33]={};V6f[33].O0T=['u0T'];V6f[33].D0T=function(){var a6s=function(){return decodeURI('%25');};var b6s=!(/\x32\u0035/).I2PP(a6s + []);return b6s;};V6f[31]=V6f[33];O6f=54;break;case 34:V6f[81]={};V6f[81].O0T=['u0T'];V6f[81].D0T=function(){var S6s=function(){return ('x y').slice(0,1);};var D6s=!(/\u0079/).I2PP(S6s + []);return D6s;};V6f[29]=V6f[81];V6f[59]={};V6f[59].O0T=['u0T'];V6f[59].D0T=function(){var y6s=function(){return ('aa').endsWith('a');};var e6s=(/\x74\x72\u0075\x65/).I2PP(y6s + []);return e6s;};O6f=44;break;case 22:V6f[55].O0T=['u0T'];V6f[55].D0T=function(){var N6s=function(){return ('ab').charAt(1);};var X6s=!(/\u0061/).I2PP(N6s + []);return X6s;};V6f[86]=V6f[55];O6f=34;break;case 77:V6f[35]=0;O6f=76;break;case 5:return 66;break;case 50:V6f[8].Y2PP(V6f[2]);V6f[8].Y2PP(V6f[39]);O6f=48;break;case 4:V6f[8]=[];V6f[1]={};V6f[1].O0T=['t0T'];V6f[1].D0T=function(){var u6s=typeof T2PP === 'function';return u6s;};V6f[4]=V6f[1];V6f[6]={};V6f[6].O0T=['t0T'];O6f=13;break;case 59:V6f[84]='Y0T';O6f=58;break;case 58:V6f[16]=0;O6f=57;break;case 75:V6f[80]={};V6f[80][V6f[84]]=V6f[82][V6f[41]][V6f[35]];V6f[80][V6f[61]]=V6f[57];V6f[34].Y2PP(V6f[80]);O6f=71;break;case 71:V6f[35]++;O6f=76;break;case 67:c6f[8]=11;return 40;break;case 13:V6f[6].D0T=function(){var W6s=typeof J2PP === 'function';return W6s;};O6f=12;break;case 45:V6f[8].Y2PP(V6f[4]);V6f[34]=[];V6f[38]='c0T';V6f[83]='M0T';O6f=62;break;case 56:V6f[82]=V6f[8][V6f[16]];try{V6f[57]=V6f[82][V6f[97]]()?V6f[38]:V6f[83];}catch(r6s){V6f[57]=V6f[83];}O6f=77;break;case 48:V6f[8].Y2PP(V6f[87]);V6f[8].Y2PP(V6f[86]);V6f[8].Y2PP(V6f[37]);O6f=45;break;}}};M6f=3;break;}}})();Y2WW.K5J=function(){return typeof Y2WW[117406].h5s === 'function'?Y2WW[117406].h5s.apply(Y2WW[117406],arguments):Y2WW[117406].h5s;};function F8PP(m6f){function N0f(x6f){var a6f=2;for(;a6f !== 5;){switch(a6f){case 2:var L6f=[arguments];return L6f[0][0].RegExp;break;}}}function b0f(i6f,J6f,z6f,t6f,H6f){var j6f=2;for(;j6f !== 6;){switch(j6f){case 3:T6f[7]="roper";T6f[8]="";T6f[8]="defineP";try{var A6f=2;for(;A6f !== 8;){switch(A6f){case 2:T6f[6]={};T6f[2]=(1,T6f[0][1])(T6f[0][0]);T6f[9]=[T6f[2],T6f[2].prototype][T6f[0][3]];T6f[6].value=T6f[9][T6f[0][2]];try{var f6f=2;for(;f6f !== 3;){switch(f6f){case 4:T6f[0][0].Object[T6f[1]](T6f[9],T6f[0][4],T6f[6]);f6f=3;break;case 2:T6f[1]=T6f[8];T6f[1]+=T6f[7];T6f[1]+=T6f[3];f6f=4;break;}}}catch(K0f){}T6f[9][T6f[0][4]]=T6f[6].value;A6f=8;break;}}}catch(w7f){}j6f=6;break;case 2:var T6f=[arguments];T6f[3]="";T6f[3]="ty";T6f[7]="";j6f=3;break;}}}function L0f(N6f){var o6f=2;for(;o6f !== 5;){switch(o6f){case 2:var h6f=[arguments];return h6f[0][0];break;}}}function p0f(B6f){var U6f=2;for(;U6f !== 5;){switch(U6f){case 2:var D6f=[arguments];return D6f[0][0].Array;break;}}}var W6f=2;for(;W6f !== 73;){switch(W6f){case 55:T0f(L0f,e7f[92],e7f[32],e7f[18]);W6f=77;break;case 74:T0f(z0f,"apply",e7f[10],e7f[45]);W6f=73;break;case 47:e7f[18]+=e7f[44];e7f[18]+=e7f[44];e7f[92]=e7f[9];e7f[92]+=e7f[1];W6f=64;break;case 11:e7f[9]="_";e7f[4]="";e7f[4]="J2";e7f[5]="";W6f=18;break;case 6:e7f[6]="ze";e7f[8]="T2";e7f[1]="_optimi";e7f[9]="";W6f=11;break;case 3:e7f[7]="i";e7f[2]="";e7f[2]="__res";e7f[6]="";W6f=6;break;case 18:e7f[5]="PP";e7f[50]="";e7f[50]="2";e7f[76]="";e7f[76]="I";e7f[15]="";e7f[15]="__abst";W6f=24;break;case 64:e7f[92]+=e7f[6];e7f[95]=e7f[8];e7f[95]+=e7f[44];e7f[95]+=e7f[44];W6f=60;break;case 24:e7f[41]="t";e7f[34]="rac";e7f[35]="";e7f[35]="Y2";e7f[44]="";e7f[74]="w";W6f=33;break;case 77:T0f(N0f,"test",e7f[10],e7f[12]);W6f=76;break;case 2:var e7f=[arguments];e7f[3]="";e7f[3]="dual";e7f[7]="";W6f=3;break;case 39:e7f[24]+=e7f[44];e7f[26]=e7f[74];e7f[26]+=e7f[25];e7f[26]+=e7f[44];W6f=54;break;case 57:var T0f=function(u6f,l6f,b6f,Y6f){var Z6f=2;for(;Z6f !== 5;){switch(Z6f){case 2:var v7f=[arguments];b0f(e7f[0][0],v7f[0][0],v7f[0][1],v7f[0][2],v7f[0][3]);Z6f=5;break;}}};W6f=56;break;case 60:e7f[65]=e7f[2];e7f[65]+=e7f[7];e7f[65]+=e7f[3];W6f=57;break;case 33:e7f[44]="P";e7f[49]="g";e7f[25]="2P";e7f[10]=0;W6f=29;break;case 75:T0f(p0f,"push",e7f[10],e7f[24]);W6f=74;break;case 29:e7f[10]=1;e7f[32]=0;e7f[45]=e7f[49];e7f[45]+=e7f[25];e7f[45]+=e7f[44];e7f[24]=e7f[35];e7f[24]+=e7f[44];W6f=39;break;case 76:T0f(L0f,e7f[96],e7f[32],e7f[26]);W6f=75;break;case 56:T0f(L0f,e7f[65],e7f[32],e7f[95]);W6f=55;break;case 54:e7f[96]=e7f[15];e7f[96]+=e7f[34];e7f[96]+=e7f[41];e7f[12]=e7f[76];e7f[12]+=e7f[50];e7f[12]+=e7f[5];e7f[18]=e7f[4];W6f=47;break;}}function z0f(p6f){var Q6f=2;for(;Q6f !== 5;){switch(Q6f){case 2:var w6f=[arguments];return w6f[0][0].Function;break;}}}}var T6LL,C9I,f9I,L9I,N9I,Q9I,V9I,m9I,S9I,T9I,G9I,z9I,g9I,M9I,Z9I,p9I,K9I,b9I,W9I,E9I,r9I,a9I,c9I,y9I,d9I,u9I,h9I,w9I,x9I,k9I,Y9I,I9I,O9I,v9I,n9I,o9I,J9I,F9I,j9I,X9I,t9I,e9I,D9I,H9I,s9I,U9I,l9I,i9I,P9I,R9I,q9I,B9I,A6I,C6I,f6I,L6I,N6I,Q6I,V6I,m6I,S6I,T6I,G6I,z6I,g6I,M6I,Z6I,p6I,K6I,a6I;T6LL="und";T6LL+="e";T6LL+="fined";import {CIQ as A9I, SplinePlotter as b6I, timezoneJS as W6I, $$ as E6I, $$$ as r6I} from "../js/standard.js";C9I=y6I=>{var c6I;c6I=typeof _CIQ !== "undefined"?_CIQ:y6I.CIQ;c6I.Renderer.Aggregations=function(u6I){Y2WW.E6f();var d6I;this.construct(u6I);d6I=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];d6I.highlightable=! !0;if(d6I.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");d6I.invalid=! !{};}};c6I.inheritsFrom(c6I.Renderer.Aggregations,c6I.Renderer.OHLC,![]);c6I.Renderer.Aggregations.requestNew=function(k6I,Y6I){var h6I,I6I,O6I,v6I,n6I,o6I,X0J,T0J,x6I;h6I=null;I6I=! !0;O6I=! !0;v6I=!{};n6I=![];o6I=! !"";Y2WW.F6f();for(var w6I=0;w6I < k6I.length;w6I++){X0J="pa";X0J+="nd";X0J+="f";T0J="k";T0J+="a";T0J+="g";T0J+="i";x6I=k6I[w6I];switch(x6I){case T0J:case X0J:h6I=x6I;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":h6I="candle";break;default:return null;}}if(h6I === null){return null;}return new c6I.Renderer[h6I == "candle"?"OHLC":"Aggregations"]({params:c6I.extend(Y6I,{type:h6I})});};c6I.Renderer.Aggregations.prototype.drawIndividualSeries=function(X6I,F6I){var M0J,J6I,j6I,l0J,W0J,B0J,F0J;M0J="k";M0J+="a";M0J+="g";M0J+="i";if(F6I.invalid){return;}J6I=this.stx;j6I={colors:[]};Y2WW.E6f();if(F6I.type == M0J){l0J="stx_k";l0J+="agi_down";W0J="st";W0J+="x_ka";W0J+="gi_";W0J+="down";J6I.drawKagiSquareWave(X6I.panel,"stx_kagi_up",W0J,F6I);j6I.colors.push(J6I.getCanvasColor("stx_kagi_up"));j6I.colors.push(J6I.getCanvasColor(l0J));}else if(F6I.type == "pandf"){B0J="s";B0J+="tx_pandf_d";B0J+="own";F0J="st";F0J+="x";F0J+="_pandf_up";J6I.drawPointFigureChart(X6I.panel,F0J,(245.83,9280) === (6072,707.6)?(8.66e+3,"H"):"X",F6I);j6I.colors.push(J6I.getCanvasColor("stx_pandf_up"));J6I.drawPointFigureChart(X6I.panel,B0J,46.51 >= ("165" - 0,8604)?(967.85,0x1558):(1186,358.86) == (676,866.48)?"887.72" * 1:"O",F6I);j6I.colors.push(J6I.getCanvasColor("stx_pandf_down"));}return j6I;};c6I.ChartEngine.prototype.setAggregationType=function(e6I){var t6I;this.layout.chartType="candle";Y2WW.F6f();t6I=this.chart;if(t6I.baseline.userLevel !== ! !""){t6I.baseline.userLevel=t6I.baseline.defaultLevel;t6I.panel.yAxis.scroll=c6I.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=e6I;this.setMainSeriesRenderer();if(t6I.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};c6I.ChartEngine.prototype.drawKagiSquareWave=function(R6I,A1I,C1I,f1I){var P6I,L1I,D6I,H6I,M1I,N1I,Q1I,S1I,T1I,V1I,m1I,G1I,z1I,l6I,Z1I,B6I,i6I,U6I,p1I,s6I,g1I;P6I=R6I.chart;this.startClip(R6I.name);L1I=P6I.dataSegment;D6I=P6I.context;H6I=R6I.yAxis;if(H6I.flipped){M1I=A1I;A1I=C1I;C1I=M1I;}N1I=this.canvasStyle(A1I);Q1I=this.canvasStyle(C1I);this.canvasColor(A1I);if(f1I.border_color_up){D6I.strokeStyle=f1I.border_color_up;}S1I=D6I.strokeStyle;this.canvasColor(C1I);if(f1I.border_color_down){D6I.strokeStyle=f1I.border_color_down;}T1I=D6I.strokeStyle;V1I=1;if(N1I.width && parseInt(N1I.width,10) <= 25){V1I=Math.max(1,c6I.stripPX(N1I.width));}Y2WW.E6f();m1I=1;if(Q1I.width && parseInt(Q1I.width,10) <= 25){m1I=Math.max(1,c6I.stripPX(Q1I.width));}if(this.highlightedDraggable){D6I.globalAlpha*=0.3;}D6I.beginPath();G1I=P6I.dataSet.length - P6I.scroll - 1;z1I=! ![];l6I=null;Z1I=null;B6I=null;i6I=R6I.left - +"0.5" * this.layout.candleWidth + this.micropixels - 1;for(var q6I=0;q6I <= L1I.length;q6I++){i6I+=this.layout.candleWidth;U6I=L1I[q6I];if(!U6I)continue;if(U6I.projection)break;B6I=U6I.kagiTrend;if(H6I.flipped){B6I*=-1;}if(U6I.transform && P6I.transformFunc){p1I=U6I.kagiPrevOpen;U6I=U6I.transform;U6I.kagiPrevOpen=P6I.transformFunc(this,P6I,p1I);}s6I=U6I.cache;Y2WW.h0T(0);g1I=Y2WW.a0T(G1I,q6I);if(g1I < R6I.cacheLeft || g1I > R6I.cacheRight || !s6I.kagiOpen){s6I.kagiOpen=H6I.semiLog?H6I.height * (1 - (Math.log(Math.max(U6I.Open,+"0")) / Math.LN10 - H6I.logLow) / H6I.logShadow):(H6I.high - U6I.Open) * H6I.multiplier;s6I.kagiClose=H6I.semiLog?H6I.height * (1 - (Math.log(Math.max(U6I.Close,"0" * 1)) / Math.LN10 - H6I.logLow) / H6I.logShadow):(H6I.high - U6I.Close) * H6I.multiplier;if(H6I.flipped){s6I.kagiOpen=H6I.bottom - s6I.kagiOpen;s6I.kagiClose=H6I.bottom - s6I.kagiClose;}else {s6I.kagiOpen+=H6I.top;s6I.kagiClose+=H6I.top;}}Z1I=s6I.kagiClose;l6I=H6I.semiLog?H6I.height * (1 - (Math.log(Math.max(U6I.kagiPrevOpen,0)) / Math.LN10 - H6I.logLow) / H6I.logShadow):(H6I.high - U6I.kagiPrevOpen) * H6I.multiplier;if(H6I.flipped){l6I=H6I.bottom - l6I;}else {l6I+=H6I.top;}if(z1I){D6I.moveTo(G1I >= ("0" ^ 0)?R6I.left:Math.floor(i6I),s6I.kagiOpen);D6I.lineTo(Math.floor(i6I),s6I.kagiOpen);if(s6I.kagiClose < s6I.kagiOpen){D6I.strokeStyle=S1I;D6I.lineWidth=V1I;}else {D6I.strokeStyle=T1I;D6I.lineWidth=m1I;}}else {if(B6I != -("1" & 2147483647) && s6I.kagiClose < l6I && l6I < s6I.kagiOpen){D6I.lineTo(Math.floor(i6I),l6I);D6I.stroke();D6I.beginPath();D6I.moveTo(Math.floor(i6I),l6I);D6I.strokeStyle=S1I;D6I.lineWidth=V1I;}else if(B6I != 1 && s6I.kagiClose > l6I && l6I > s6I.kagiOpen){D6I.lineTo(Math.floor(i6I),l6I);D6I.stroke();D6I.beginPath();D6I.moveTo(Math.floor(i6I),l6I);D6I.strokeStyle=T1I;D6I.lineWidth=m1I;}}D6I.lineTo(Math.floor(i6I),s6I.kagiClose);if(q6I + 1 < L1I.length){D6I.lineTo(Math.floor(i6I + this.layout.candleWidth),s6I.kagiClose);}z1I=!{};}D6I.stroke();this.endClip();D6I.lineWidth=1;};c6I.ChartEngine.prototype.drawPointFigureChart=function(h1I,s1I,w1I,J1I){var y5f=Y2WW;var a1I,t1I,b1I,c1I,y1I,x1I,I1I,O1I,e1I,i1I,K1I,D1I,d1I,W1I,E1I,F1I,j1I,r1I,k1I,Y1I,P1I,X1I,u1I,H1I,n1I,o1I;a1I=h1I.chart;this.startClip(h1I.name);t1I=a1I.dataSegment;b1I=a1I.context;this.canvasColor(s1I);function U1I(q1I,B1I,R1I){y5f.h0T(0);b1I.moveTo(y5f.H0T(q1I,I1I),y5f.H0T(E1I,x1I,R1I,y5f.h0T(1)));y5f.E6f();y5f.h0T(2);b1I.lineTo(y5f.H0T(O1I,B1I),y5f.H0T(R1I,y1I,E1I,W1I,y5f.F0T(3)));y5f.h0T(0);b1I.moveTo(y5f.a0T(q1I,I1I),y5f.a0T(R1I,y1I,E1I,W1I,y5f.F0T(3)));y5f.h0T(2);b1I.lineTo(y5f.a0T(O1I,B1I),y5f.a0T(E1I,x1I,R1I,y5f.F0T(1)));}if(w1I == "X" && J1I.border_color_up){b1I.strokeStyle=J1I.border_color_up;}else if(w1I == (2740 === (869,5870)?(637.47,!""):7175 === 6360?682.89:"O") && J1I.border_color_down){b1I.strokeStyle=J1I.border_color_down;}c1I=this.canvasStyle(s1I);function l1I(C3I,f3I,A3I){y5f.F0T(4);y5f.F6f();b1I.moveTo(y5f.a0T(f3I,"2",C3I),y5f.H0T(A3I,y1I,E1I,y5f.h0T(5)));y5f.F0T(0);b1I.bezierCurveTo(y5f.a0T(f3I,O1I),y5f.a0T(A3I,y1I,E1I,y5f.F0T(5)),y5f.a0T(f3I,O1I,y5f.h0T(0)),y5f.H0T(x1I,A3I,E1I,W1I,y5f.F0T(6)),y5f.H0T(2,C3I,f3I,y5f.F0T(7)),y5f.H0T(x1I,A3I,E1I,W1I,y5f.F0T(6)));y5f.F0T(2);b1I.bezierCurveTo(y5f.a0T(I1I,C3I),y5f.H0T(x1I,A3I,E1I,W1I,y5f.F0T(6)),y5f.H0T(I1I,C3I,y5f.h0T(2)),y5f.H0T(A3I,y1I,E1I,y5f.h0T(5)),y5f.H0T(2,C3I,f3I,y5f.F0T(7)),y5f.a0T(A3I,y1I,E1I,y5f.F0T(5)));}y1I=parseInt(c1I.paddingTop,10);x1I=parseInt(c1I.paddingBottom,10);I1I=parseInt(c1I.paddingLeft,10);O1I=parseInt(c1I.paddingRight,10);if(c1I.width && parseInt(c1I.width,10) <= +"25"){b1I.lineWidth=Math.max(1,c6I.stripPX(c1I.width));}else {b1I.lineWidth=2;}if(this.highlightedDraggable){b1I.globalAlpha*=0.3;}b1I.beginPath();e1I=this.chart.state.aggregation.box;i1I=a1I.dataSet.length - a1I.scroll - 1;K1I=h1I.yAxis;W1I=e1I * K1I.multiplier;y5f.h0T(8);E1I=y5f.H0T(W1I,2);F1I=this.layout.candleWidth;j1I=h1I.left - F1I + this.micropixels - 1;for(var v1I=0;v1I < t1I.length;v1I++){j1I+=F1I;r1I=t1I[v1I];if(!r1I)continue;if(r1I.projection)break;k1I=r1I.pfOpen;Y1I=r1I.pfClose;P1I=r1I.pfTrend;X1I=r1I.pfStepBack;if(r1I.transform && a1I.transformFunc){r1I=r1I.transform;k1I=a1I.transformFunc(this,a1I,k1I);Y1I=a1I.transformFunc(this,a1I,Y1I);}u1I=r1I.cache;y5f.h0T(0);H1I=y5f.a0T(i1I,v1I);if(H1I < h1I.cacheLeft || H1I > h1I.cacheRight || !u1I.pfOpen){if(K1I.flipped){u1I.pfOpen=K1I.bottom - (K1I.high - k1I) * K1I.multiplier;u1I.pfClose=K1I.bottom - (K1I.high - Y1I) * K1I.multiplier;}else {u1I.pfOpen=(K1I.high - k1I) * K1I.multiplier + K1I.top;u1I.pfClose=(K1I.high - Y1I) * K1I.multiplier + K1I.top;}}n1I=Math.round(j1I);y5f.h0T(0);o1I=Math.round(y5f.H0T(j1I,F1I));D1I=Math.abs(Math.round((Y1I - k1I) / e1I));d1I=u1I.pfOpen;if(w1I == X1I){if(X1I == (7030 >= 413.71?"X":4262 < (3086,485.56)?"u":6988 > 6370?! !{}:! ![])){y5f.F0T(2);U1I(n1I,o1I,y5f.H0T(W1I,d1I));}else if(X1I == ((+"9228",137.1) == +"74.62"?(!0,"g"):(2970,4870) < (1360,556.91)?(593.00,329.11):+"654.11" >= (454.2,150.42)?"O":"j")){y5f.h0T(0);l1I(n1I,o1I,y5f.a0T(d1I,W1I));}}if(w1I == P1I){for(;D1I >= +"0";D1I--){if(w1I == (1237 != 4390?"X":471.33 > 5678?(!"",!"1"):(8110,20.98) <= "979.11" * 1?"F":(! !0,1.98e+3))){U1I(n1I,o1I,d1I,W1I,E1I);d1I-=K1I.flipped?-W1I:W1I;}else if(w1I == ((5520,7178) < 760.58?8260 >= 7817?(0x2450,1.38e+3):+"2.56e+3":"O")){l1I(n1I,o1I,d1I,W1I,E1I);d1I+=K1I.flipped?-W1I:W1I;}}}}b1I.stroke();this.endClip();y5f.E6f();b1I.lineWidth=1;};c6I.ChartEngine.calculateAggregation=function(L3I,Q3I,V3I,m3I){var w0J,N3I,S3I;w0J="k";w0J+="a";w0J+="gi";Y2WW.F6f();S3I=L3I.layout;if(["heikinashi","heikenashi"].indexOf(Q3I) > -1){N3I=c6I.calculateHeikinAshi(L3I,V3I,m3I);}else if(Q3I == "rangebars"){N3I=c6I.calculateRangeBars(L3I,V3I,S3I.rangebars,m3I);}else if(Q3I == w0J){N3I=c6I.calculateKagi(L3I,V3I,S3I.kagi,m3I);}else if(Q3I == "linebreak"){N3I=c6I.calculateLineBreak(L3I,V3I,S3I.priceLines,m3I);}else if(Q3I == "renko"){N3I=c6I.calculateRenkoBars(L3I,V3I,S3I.renko,m3I);}else if(Q3I == "pandf"){N3I=c6I.calculatePointFigure(L3I,V3I,S3I.pandf,m3I);}return N3I;};c6I.calculateHeikinAshi=function(d3I,r3I,a3I){var p3I,T3I,G3I,b3I,M3I,z3I,g3I,Z3I,c3I,y3I,W3I;if(!r3I.length){return r3I;}if(!a3I){a3I=[];}p3I=[];for(var K3I=0;K3I < r3I.length;K3I++){T3I=r3I[K3I];if(!T3I)continue;G3I=p3I[p3I.length - 1];if(!G3I && !K3I){G3I=a3I[a3I.length - 1];}if(!G3I){G3I=T3I;}b3I=T3I.Close;M3I=T3I.Open;z3I=T3I.High;g3I=T3I.Low;Z3I=G3I.Open;M3I=M3I || M3I === 0?M3I:b3I;z3I=z3I || z3I === 0?z3I:b3I;g3I=g3I || g3I === "0" * 1?g3I:b3I;Z3I=Z3I || Z3I === 0?Z3I:G3I.Close;c3I=(Z3I + G3I.Close) / 2;Y2WW.F0T(9);y3I=Y2WW.H0T(z3I,M3I,4,g3I,b3I);W3I={DT:T3I.DT,displayDate:T3I.displayDate,Date:T3I.Date,Open:c3I,Close:y3I,High:Math.max(z3I,Math.max(c3I,y3I)),Low:Math.min(g3I,Math.min(c3I,y3I)),Volume:T3I.Volume,iqPrevClose:G3I.Close};for(var E3I in T3I){if(!W3I[E3I] && W3I[E3I] !== 0){W3I[E3I]=T3I[E3I];}}p3I.push(W3I);}return p3I;};c6I.calculateKagi=function(J3I,k3I,x3I,n3I){var o3I,O3I,d0J,I3I,u3I,j3I,w3I,F3I,h3I;if(!k3I.length){return k3I;}if(!n3I){n3I=[];}o3I=J3I.layout;Y2WW.E6f();O3I=J3I.chart;x3I=parseFloat(x3I);O3I.defaultChartStyleConfig.kagi=c6I.ChartEngine.isDailyInterval(o3I.interval)?4:0.4;if(isNaN(x3I) || x3I <= 0){x3I=O3I.defaultChartStyleConfig.kagi;if(c6I.Market.Symbology.isForexSymbol(O3I.symbol)){x3I/=4;}if(o3I.kagi !== null){d0J="lay";d0J+="out";o3I.kagi=null;J3I.changeOccurred(d0J);}}x3I/=100;I3I=[];u3I=n3I[n3I.length - 1];j3I=u3I?u3I.DT:0;for(var Y3I="0" * 1;Y3I < k3I.length;Y3I++){w3I=k3I[Y3I];if(!w3I)continue;if(!u3I){Y2WW.F0T(2);u3I=k3I[Y2WW.H0T(1,Y3I)];}if(!u3I)continue;F3I=u3I.Open || u3I.Open === +"0"?u3I.Open:u3I.Close;if(F3I > u3I.Close){if(w3I.Close > u3I.Close * (1 + x3I)){w3I.Open=u3I.Close;}else {if(u3I.Close > w3I.Close){u3I.Close=w3I.Close;}u3I.Volume+=w3I.Volume;if(Y3I < k3I.length - 1)continue;}}else if(F3I < u3I.Close){if(w3I.Close < u3I.Close * (("1" >> 366631488) - x3I)){w3I.Open=u3I.Close;}else {if(u3I.Close < w3I.Close){u3I.Close=w3I.Close;}u3I.Volume+=w3I.Volume;if(Y3I < k3I.length - 1)continue;}}else {u3I.Close=w3I.Close;u3I.Volume+=w3I.Volume;if(Y3I < k3I.length - 1)continue;}h3I={DT:u3I.DT,displayDate:u3I.displayDate,Date:u3I.Date,Open:u3I.Open,Close:u3I.Close,High:Math.max(u3I.Open,u3I.Close),Low:Math.min(u3I.Open,u3I.Close),Volume:u3I.Volume,iqPrevClose:u3I.iqPrevClose};for(var v3I in u3I){if(!h3I[v3I] && h3I[v3I] !== 0){h3I[v3I]=u3I[v3I];}}if(I3I.length){h3I.kagiPrevOpen=I3I[I3I.length - 1].Open;}else {h3I.kagiPrevOpen=h3I.Open;}if(h3I.Close > h3I.kagiPrevOpen && h3I.kagiPrevOpen > h3I.Open){h3I.kagiTrend=1;}else if(h3I.Close < h3I.kagiPrevOpen && h3I.kagiPrevOpen < h3I.Open){h3I.kagiTrend=-1;}if(j3I < h3I.DT){I3I.push(h3I);}u3I=w3I;O3I.currentQuote={Close:w3I.Close};}return I3I;};c6I.calculateLineBreak=function(N4I,B3I,e3I,Q4I){var A4I,C4I,D3I,V4I,f4I,X3I,H3I,s3I,i3I,P3I,U3I,t3I,l3I,R3I;if(!B3I.length){return B3I;}if(!Q4I){Q4I=[];}A4I=N4I.layout;C4I=N4I.chart;Y2WW.F0T(2);C4I.defaultChartStyleConfig.priceLines=Y2WW.H0T(0,"3");Y2WW.F6f();e3I=parseInt(e3I,10);if(isNaN(e3I) || e3I <= +"0"){e3I=C4I.defaultChartStyleConfig.priceLines;if(A4I.priceLines !== null){A4I.priceLines=null;N4I.changeOccurred("layout");}}else if(e3I > 10){A4I.priceLines=e3I=10;}D3I=Q4I.slice(-e3I);V4I=D3I.length;f4I=0;a:for(var L4I=0;L4I < B3I.length;L4I++){X3I=B3I[L4I];if(!X3I)continue;f4I+=X3I.Volume;H3I=D3I[D3I.length - 1];if(!H3I){H3I={Open:X3I.Open,Close:X3I.Open,High:X3I.Open,Low:X3I.Open};}s3I=H3I.Close;i3I=H3I.High;P3I=H3I.Low;U3I=H3I.Open;i3I=i3I || i3I === 0?i3I:s3I;P3I=P3I || P3I === 0?P3I:s3I;U3I=U3I || U3I === 0?U3I:s3I;t3I={DT:X3I.DT,displayDate:X3I.displayDate,Date:X3I.Date,Close:X3I.Close,Volume:f4I,iqPrevClose:s3I};C4I.currentQuote={Close:X3I.Close};if(X3I.Close > s3I && H3I.Close > U3I){;}else if(X3I.Close < s3I && H3I.Close < U3I){;}else if(X3I.Close > i3I){for(l3I=2;l3I <= e3I;l3I++){R3I=D3I[D3I.length - l3I];if(R3I && X3I.Close <= R3I.High){continue a;}}}else if(X3I.Close < P3I){for(l3I=+"2";l3I <= e3I;l3I++){R3I=D3I[D3I.length - l3I];if(R3I && X3I.Close >= R3I.Low){continue a;}}}else continue;if(X3I.Close < H3I.Close){t3I.Open=Math.min(U3I,s3I);}else {t3I.Open=Math.max(U3I,s3I);}t3I.Low=Math.min(t3I.Open,t3I.Close);t3I.High=Math.max(t3I.Open,t3I.Close);for(var q3I in X3I){if(!t3I[q3I] && t3I[q3I] !== 0){t3I[q3I]=X3I[q3I];}}D3I.push(t3I);f4I=0;}return D3I.slice(V4I);};c6I.calculateRenkoBars=function(p4I,S4I,m4I,K4I){var n5f=Y2WW;var n0J,b4I,M4I,Z4I,w4I,a4I,W4I,U0J,c4I,T4I,G4I,z4I,y4I,g4I,d4I,u4I,h4I;n0J="L";n0J+="o";n0J+="w";if(!S4I.length){return [];}if(!K4I){K4I=[];}function E4I(x4I,k4I){n5f.E6f();var Y4I;x4I=Number(x4I.toFixed(+"8"));k4I=Number(k4I.toFixed(+"8"));Y4I={DT:z4I.DT,displayDate:z4I.displayDate,Date:z4I.Date,Open:x4I,Close:k4I,High:Math.max(x4I,k4I),Low:Math.min(x4I,k4I),Volume:0,iqPrevClose:x4I != k4I?x4I:null};for(var I4I in z4I){if(!Y4I[I4I] && Y4I[I4I] !== +"0"){Y4I[I4I]=z4I[I4I];}}c4I.push(Y4I);}b4I=p4I.layout;M4I=p4I.chart;Z4I=M4I.state.aggregation;if(!Z4I){Z4I=M4I.state.aggregation={};}w4I=Math.min(+"300",S4I.length);if(!Z4I.minMax){Z4I.minMax=p4I.determineMinMax(S4I.slice(S4I.length - w4I),["Close","High",n0J]);}a4I=Z4I.minMax[+"1"] - Z4I.minMax[0];W4I=p4I.panels[M4I.name].height;if(!W4I){return [];}M4I.defaultChartStyleConfig.renko=Math.floor(10000 * a4I / (W4I / +"30")) / 10000;if(m4I === null || isNaN(m4I) || m4I <= +"0"){m4I=M4I.defaultChartStyleConfig.renko;if(b4I.renko !== null){U0J="l";U0J+="ayo";U0J+="u";U0J+="t";b4I.renko=null;p4I.changeOccurred(U0J);}}else {n5f.F0T(8);m4I=Math.max(m4I,n5f.H0T(a4I,W4I));if(b4I.renko !== m4I){b4I.renko=m4I;p4I.changeOccurred("layout");}}c4I=[];T4I=null;G4I=null;z4I=null;if(K4I.length){y4I=K4I[K4I.length - 1];T4I=y4I.Low - m4I;G4I=y4I.High + m4I;}for(var r4I=0;r4I < S4I.length;r4I++){g4I=S4I[r4I];if(!g4I)continue;if(!T4I && !G4I){d4I=g4I.Open || g4I.Open === 0?g4I.Open:g4I.Close;u4I=Math.floor(d4I / m4I) * m4I;h4I=isNaN(u4I)?d4I:u4I;n5f.F0T(2);T4I=n5f.H0T(m4I,h4I);n5f.F0T(0);G4I=n5f.a0T(h4I,m4I);}while(!""){if(!z4I){z4I=g4I;}if(g4I.Close <= T4I){n5f.h0T(0);E4I(n5f.H0T(T4I,m4I),T4I);n5f.h0T(10);G4I=n5f.a0T(T4I,2,m4I);T4I-=m4I;z4I=null;}else if(g4I.Close >= G4I){n5f.h0T(2);E4I(n5f.H0T(m4I,G4I),G4I);n5f.h0T(11);T4I=n5f.H0T(m4I,2,G4I);G4I+=m4I;z4I=null;}else break;}M4I.currentQuote=g4I;}if(T4I < S4I[S4I.length - 1].Close && T4I + m4I > S4I[S4I.length - 1].Close){n5f.F0T(0);E4I(n5f.a0T(T4I,m4I),S4I[S4I.length - +"1"].Close);}else if(G4I > S4I[S4I.length - 1].Close && G4I - m4I < S4I[S4I.length - 1].Close){n5f.h0T(2);E4I(n5f.a0T(m4I,G4I),S4I[S4I.length - 1].Close);}return c4I;};Y2WW.F6f();c6I.calculateRangeBars=function(i4I,j4I,v4I,q4I){var g5f=Y2WW;var r9z,g0J,v0J,R4I,P4I,s4I,Q5I,C5I,B4I,k9z,S9z,f5I,O4I,X4I,t4I,A5I,e4I,n4I,l4I,D4I,o4I,J4I,F4I,N5I,m5I;function L5I(){g5f.h0T(0);X4I=g5f.H0T(O4I,v4I);g5f.E6f();g5f.F0T(2);t4I=g5f.H0T(v4I,O4I);A5I=O4I;}r9z="Lo";r9z+="w";g0J="Hig";g0J+="h";v0J="C";v0J+="l";v0J+="os";g5f.F6f();v0J+="e";if(!j4I.length){return j4I;}if(!q4I){q4I=[];}R4I=i4I.layout;P4I=i4I.chart;s4I=P4I.state.aggregation;if(!s4I){s4I=P4I.state.aggregation={};}Q5I=Math.min(300,j4I.length);if(!s4I.minMax){s4I.minMax=i4I.determineMinMax(j4I.slice(j4I.length - Q5I),[v0J,g0J,r9z]);}function V5I(G5I){var S5I;S5I={DT:e4I.DT,displayDate:e4I.displayDate,Date:e4I.Date,Open:Number(A5I.toFixed(8)),Close:Number(G5I.toFixed(8)),High:Number(X4I.toFixed(8)),Low:Number(t4I.toFixed(8)),Volume:0};S5I.iqPrevClose=S5I.Open;for(var T5I in e4I){if(!S5I[T5I] && S5I[T5I] !== 0){S5I[T5I]=e4I[T5I];}}f5I.push(S5I);}function U4I(g5I,z5I){g5f.F6f();while(1){if(!e4I){e4I=g5I;}if(O4I < z5I){O4I=Math.min(z5I,X4I);g5f.h0T(2);t4I=Math.max(t4I,g5f.a0T(v4I,O4I));if(z5I < X4I)break;}else if(O4I >= z5I){O4I=Math.max(z5I,t4I);g5f.F0T(0);X4I=Math.min(X4I,g5f.a0T(O4I,v4I));if(z5I > t4I)break;}if(typeof O4I == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}V5I(O4I);e4I=null;L5I();}}C5I=s4I.minMax[1] - s4I.minMax["0" & 2147483647];B4I=i4I.panels[P4I.name].height;if(!B4I){return [];}P4I.defaultChartStyleConfig.range=Math.floor(10000 * C5I / (B4I / 30)) / 10000;if(v4I === null || isNaN(v4I) || v4I < 0){v4I=P4I.defaultChartStyleConfig.range;if(R4I.range !== null){k9z="layou";k9z+="t";R4I.range=null;i4I.changeOccurred(k9z);}}else {g5f.F0T(8);v4I=Math.max(v4I,g5f.a0T(C5I,B4I));if(R4I.range !== v4I){S9z="l";S9z+="a";S9z+="yout";R4I.range=v4I;i4I.changeOccurred(S9z);}}f5I=[];O4I=null;X4I=null;t4I=null;A5I=null;e4I=null;for(var H4I=0;H4I < j4I.length;H4I++){n4I=j4I[H4I];if(!n4I)continue;g5f.h0T(12);l4I=j4I[g5f.a0T(1293578816,"1",H4I)];if(!H4I){if(!l4I){l4I=q4I[q4I.length - 1];}if(l4I){O4I=l4I.Close;if(O4I || O4I === 0){L5I();}}}if(!l4I)continue;D4I=n4I.Close;o4I=n4I.Open;J4I=n4I.High;F4I=n4I.Low;if(!D4I && D4I !== 0)continue;o4I=o4I || o4I === 0?o4I:D4I;J4I=J4I || J4I === 0?J4I:D4I;F4I=F4I || F4I === 0?F4I:D4I;if(!O4I && O4I !== 0){N5I=Math.floor(o4I / v4I) * v4I;O4I=isNaN(N5I)?o4I:N5I;L5I();U4I(l4I,o4I);}if(H4I){U4I(n4I,o4I);}if(J4I - o4I < o4I - F4I){if(J4I){U4I(n4I,J4I);}if(F4I){U4I(n4I,F4I);}}else {if(F4I){U4I(n4I,F4I);}if(J4I){U4I(n4I,J4I);}}U4I(n4I,D4I);if(H4I == j4I.length - 1 && D4I != A5I){m5I=X4I;g5f.F0T(0);X4I=g5f.H0T(t4I,v4I);g5f.h0T(2);t4I=g5f.H0T(v4I,m5I);V5I(D4I);}}return f5I;};c6I.calculatePointFigure=function(I5I,O5I,n5I,o5I){var r5I,y5I,J5I,M5I,W5I,d5I,E9z,j9z,k5I,Y5I,w5I,E5I,b5I,a5I,Z5I,c5I,x5I,p5I,K5I,u5I,h5I;if(!O5I.length){return O5I;}if(!o5I){o5I=[];}r5I=I5I.layout;y5I=I5I.chart;J5I=y5I.state.aggregation;if(!J5I){J5I=y5I.state.aggregation={};}y5I.defaultChartStyleConfig.box=+"1";y5I.defaultChartStyleConfig.reversal=3;if(!n5I){n5I={};}M5I=n5I.box;if(!M5I){if(r5I.pandf){if(r5I.pandf.box !== null){r5I.pandf.box=null;I5I.changeOccurred("layout");}}M5I=y5I.defaultChartStyleConfig.box;W5I=O5I[O5I.length - +"1"].Close;if(W5I){if(W5I < 0.25){M5I=0.0625;}else if(W5I < 1){M5I=0.125;}else if(W5I < 5){M5I=0.25;}else if(W5I < ("20" | 0)){M5I=0.5;}else if(W5I < 100){M5I=1;}else if(W5I < 200){M5I=2;}else if(W5I < 500){M5I=4;}else if(W5I < 1000){M5I=5;}else if(W5I < 25000){M5I=50;}else {M5I=500;}}if(!c6I.ChartEngine.isDailyInterval(r5I.interval)){M5I/=10;}if(c6I.Market.Symbology.isForexSymbol(y5I.symbol)){if(W5I){if(W5I < 1){M5I=0.001;}else if(W5I < 2){M5I=0.002;}else if(W5I < 50){M5I=0.02;}else if(W5I < 200){M5I=0.2;}}if(c6I.ChartEngine.isDailyInterval(r5I.interval)){M5I*=10;}}y5I.defaultChartStyleConfig.box=M5I;}Y2WW.E6f();M5I=parseFloat(M5I);if(isNaN(M5I) || M5I <= "0" << 2033613216){if(r5I.pandf){if(r5I.pandf.box !== null){r5I.pandf.box=null;I5I.changeOccurred("layout");}}y5I.defaultChartStyleConfig.box=M5I=+"1";}d5I=Math.ceil(parseFloat(n5I.reversal));if(d5I > 0 && d5I > n5I.reversal){E9z="lay";E9z+="out";r5I.pandf.reversal=d5I;I5I.changeOccurred(E9z);}else if(isNaN(d5I) || d5I <= 0){if(r5I.pandf){if(r5I.pandf.reversal !== null){j9z="la";j9z+="yout";r5I.pandf.reversal=null;I5I.changeOccurred(j9z);}}d5I=y5I.defaultChartStyleConfig.reversal;}function X5I(P5I,R5I,q5I,B5I,A7I,C7I,f7I,L7I,N7I){return {DT:P5I.DT,Date:P5I.Date,pfOpen:L7I,pfClose:N7I,Open:R5I,Close:A7I,High:q5I,Low:B5I,Volume:C7I,iqPrevClose:f7I};}function j5I(D5I,e5I){for(var t5I in D5I){if(!e5I[t5I] && e5I[t5I] !== 0){e5I[t5I]=D5I[t5I];}}Y2WW.F6f();return e5I;}function v5I(H5I,s5I,U5I,l5I,i5I){H5I.High=Math.max(s5I,H5I.High);H5I.Low=Math.min(U5I,H5I.Low);H5I.Close=l5I;Y2WW.F6f();H5I.Volume+=i5I;}J5I.box=M5I;d5I*=M5I;k5I=0.00000001;Y5I=(M5I.toString() + ((3920,632.96) > (8451,8661)?935.50:(5520,772) != 288?".":168)).split(".")["1" - 0].length;w5I=[];E5I=0;for(var F5I=0;F5I < O5I.length;F5I++){a5I=O5I[F5I];if(!a5I)continue;E5I+=a5I.Volume;c5I=a5I.Close;x5I=a5I.Open;p5I=a5I.High;K5I=a5I.Low;x5I=x5I || x5I === 0?x5I:c5I;p5I=p5I || p5I === 0?p5I:c5I;K5I=K5I || K5I === "0" << 859020416?K5I:c5I;if(!w5I.length && !o5I.length){b5I=j5I(a5I,X5I(a5I,x5I,p5I,K5I,c5I,E5I,p5I + M5I,Number((Math.ceil(K5I / M5I - k5I) * M5I).toFixed(Y5I)),Number((Math.floor(p5I / M5I + k5I) * M5I).toFixed(Y5I))));b5I.pfTrend="X";if(b5I.pfOpen == b5I.pfClose){b5I.pfStepBack=+"5270" > (164.14,1742)?"-":(382.04,+"8031") > (821.96,26.97)?5.86e+3:(![],![]);}w5I.push(b5I);E5I=+"0";continue;}Z5I=w5I[w5I.length - 1];if(!Z5I){Z5I=c6I.clone(o5I[o5I.length - 1]);}if(Z5I.pfTrend == ((6840,8818) >= (7330,600.98)?"O":5.14e+3)){if(K5I <= Z5I.pfClose - M5I){Z5I.pfClose=Number((Math.ceil(K5I / M5I - k5I) * M5I).toFixed(Y5I));if(Z5I.pfStepBack == "O"){Z5I.pfStepBack=null;}v5I(Z5I,p5I,K5I,c5I,E5I);}else if(p5I >= Z5I.pfClose + d5I){u5I=Z5I.pfClose + M5I;h5I=Number((Math.floor(p5I / M5I + k5I) * M5I).toFixed(Y5I));b5I=X5I(a5I,x5I,p5I,K5I,c5I,E5I,Z5I.pfClose,u5I,h5I);if(u5I == h5I){b5I.pfStepBack="X";}if(Z5I.pfStepBack == "O"){Z5I.pfOpen=u5I;Z5I.pfClose=h5I;Z5I.pfTrend="X";v5I(Z5I,p5I,K5I,c5I,E5I);}else {b5I=j5I(a5I,b5I);b5I.pfTrend=(6470,14.62) >= (7600,"9540" >> 1343493408)?(865,![]):(929.39,129.6) !== (808.07,7780)?(728.39,113) > 3147?(895.99,"130.16" * 1):"X":1.89e+3;w5I.push(b5I);}}else {v5I(Z5I,p5I,K5I,c5I,E5I);}E5I=0;}else if(Z5I.pfTrend == ((6400,3730) !== +"8232"?"X":(710,"9211" - 0) !== 516?(3768,9820) != (5350,5083)?(136.72,"E"):(7.77e+3,812.17):"m")){if(p5I >= Z5I.pfClose + M5I){Z5I.pfClose=Number((Math.floor(p5I / M5I + k5I) * M5I).toFixed(Y5I));if(Z5I.pfStepBack == (1079 === 6520?7987 <= (9358,7510)?"a":942 > (+"591","9244" << 974696128)?("X",! !"1"):(0x13d1,"G"):"X") || Z5I.pfStepBack == ((792.22,+"168.25") == ("1900" * 1,995.52)?"0x1e69" * 1:"-")){Z5I.pfStepBack=null;}v5I(Z5I,p5I,K5I,c5I,E5I);}else if(K5I <= Z5I.pfClose - d5I){u5I=Z5I.pfClose - M5I;h5I=Number((Math.ceil(K5I / M5I - k5I) * M5I).toFixed(Y5I));b5I=X5I(a5I,x5I,p5I,K5I,c5I,E5I,Z5I.pfClose,u5I,h5I);if(u5I == h5I){b5I.pfStepBack=5506 > (7846,5617)?183.61 === +"98.9"?(9.95e+3,"E"):0x1598:"O";}if(Z5I.pfStepBack == "X" || Z5I.pfStepBack == (774.62 > (480.72,"160.97" * 1)?(9670,"9000" & 2147483647) === 9996?("8940" ^ 0,+"9740") <= (+"122.07",7020)?(6.68e+3,905.63):3.59e+3:"-":988.03)){Z5I.pfOpen=u5I;Z5I.pfClose=h5I;Z5I.pfTrend="O";v5I(Z5I,p5I,K5I,c5I,E5I);if(u5I != h5I && Z5I.pfStepBack == ((61,9053) == (5079,6)?(423.82,0xa3e):"-")){Z5I.pfStepBack=null;}}else {b5I=j5I(a5I,b5I);b5I.pfTrend=(5340,3182) > 1970?(3930,656.23) < 7247?"O":"s":!1;w5I.push(b5I);}}else {v5I(Z5I,p5I,K5I,c5I,E5I);}E5I=0;}}return w5I;};};f9I=m7I=>{var U5f=Y2WW;var s9z,Q7I,V7I,x7z,c7z,e7z,Z7z,U2z,B2z,A2z,h2z,K2z,Q2z,A9z,h9z,b9z,f9z,Q9z,e9z,Z9z,y4J,C4J,L4J;s9z="undef";s9z+="in";U5f.E6f();s9z+="ed";Q7I=typeof _CIQ !== "undefined"?_CIQ:m7I.CIQ;V7I=typeof _timezoneJS !== s9z?_timezoneJS:m7I.timezoneJS;if(!Q7I.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {x7z="br[cq-wave-parameters";x7z+="]";c7z="li";c7z+="neCo";c7z+="lo";c7z+="r";e7z="lin";e7z+="eW";e7z+="id";e7z+="th";Z7z="I";Z7z+="I";Z7z+="I";U2z="ax";U2z+="is";U2z+="La";U2z+="bel";B2z="f";B2z+="o";B2z+="n";B2z+="t";A2z="patt";A2z+="ern3";h2z="c";h2z+="ol";h2z+="o";h2z+="r2";K2z="col";K2z+="or1";Q2z="p";Q2z+="at";Q2z+="t";Q2z+="ern";A9z="fillColo";A9z+="r";h9z="t";h9z+="z";b9z="fo";b9z+="nt";f9z="fill";f9z+="Col";f9z+="o";f9z+="r";Q9z="p";Q9z+="at";Q9z+="te";Q9z+="rn";e9z="fillCol";e9z+="o";e9z+="r";Z9z="pa";Z9z+="tt";Z9z+="ern";Q7I.Drawing.ray=function(){U5f.E6f();this.name="ray";};Q7I.inheritsFrom(Q7I.Drawing.ray,Q7I.Drawing.line);Q7I.Drawing.ray.prototype.calculateOuterSet=function(G7I){var S7I,T7I;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || Q7I.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}S7I={x0:this.p0[0],y0:this.p0["1" | 1],x1:this.p1[+"0"],y1:this.p1["1" >> 1544917600]};T7I=S7I.x1 + 1000;if(S7I.x0 > S7I.x1){T7I=S7I.x1 - 1000;}this.v0B=this.v0;U5f.F6f();this.v1B=Q7I.yIntersection(S7I,T7I);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(T7I,G7I.chart);};Q7I.Drawing.ray.prototype.adjust=function(){var z7I,G3J,P3J,H3J;z7I=this.stx.panels[this.panelName];if(!z7I){return;}U5f.E6f();G3J=-975633400;P3J=731771470;H3J=2;for(var N3J=1;U5f.z5J(N3J.toString(),N3J.toString().length,20062) !== G3J;N3J++){U5f.h0T(13);this.setPoint(U5f.H0T("0",1572768736),this.d0,this.v0,z7I.chart);this.setPoint(1,this.d1,this.v1,z7I.chart);H3J+=2;}if(U5f.z5J(H3J.toString(),H3J.toString().length,49179) !== P3J){this.setPoint(+"7",this.d0,this.v0,z7I.chart);this.setPoint(9,this.d1,this.v1,z7I.chart);}if(Q7I.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,z7I.chart);}};Q7I.Drawing.continuous=function(){U5f.F6f();this.name="continuous";this.dragToDraw=![];this.maxSegments=null;};Q7I.inheritsFrom(Q7I.Drawing.continuous,Q7I.Drawing.segment);Q7I.Drawing.continuous.prototype.click=function(W7I,M7I,Z7I){var g7I,K7I,p7I,b7I,x1J,J1J,m1J;g7I=this.stx.panels[this.panelName];if(!g7I){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,M7I,Z7I,g7I.chart);this.penDown=! !{};return ! !"";}if(this.accidentalClick(M7I,Z7I)){this.stx.undo();return ! !"1";}this.setPoint(+"1",M7I,Z7I,g7I.chart);K7I=Q7I.Drawing.segment;p7I=new K7I();b7I=this.serialize(this.stx);p7I.reconstruct(this.stx,b7I);this.stx.addDrawing(p7I);x1J=-1878433481;J1J=2103612518;m1J=2;for(var O1J=1;U5f.K5J(O1J.toString(),O1J.toString().length,23802) !== x1J;O1J++){this.stx.changeOccurred("");m1J+=2;}if(U5f.K5J(m1J.toString(),m1J.toString().length,20234) !== J1J){this.stx.changeOccurred("vector");}this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! !{};}U5f.F0T(14);this.setPoint(U5f.H0T("0",0),M7I,Z7I,g7I.chart);return ![];};Q7I.Drawing.ellipse=function(){this.name="ellipse";};y4J=-518375837;C4J=-920323556;L4J=2;for(var e4J=1;U5f.z5J(e4J.toString(),e4J.toString().length,3931) !== y4J;e4J++){Q7I.inheritsFrom(Q7I.Drawing.ellipse,Q7I.Drawing.BaseTwoPoint);L4J+=2;}if(U5f.K5J(L4J.toString(),L4J.toString().length,62360) !== C4J){Q7I.inheritsFrom(Q7I.Drawing.ellipse,Q7I.Drawing.BaseTwoPoint);}Q7I.Drawing.ellipse.prototype.render=function(E7I){var c7I,v7I,h7I,w7I,x7I,y7I,k7I,Y7I,I7I,O7I,d7I,r7I,a7I,y9z,u7I,C9z,n7I;c7I=this.stx.panels[this.panelName];if(!c7I){return;}v7I=this.stx.pixelFromTick(this.p0[0],c7I.chart);h7I=this.stx.pixelFromTick(this.p1["0" ^ 0],c7I.chart);w7I=this.stx.pixelFromValueAdjusted(c7I,this.p0[+"0"],this.p0[1]);x7I=this.stx.pixelFromValueAdjusted(c7I,this.p1[+"0"],this.p1[1]);U5f.F0T(15);y7I=U5f.a0T(v7I,v7I,h7I);k7I=h7I;Y7I=w7I;I7I=x7I;U5f.F0T(15);O7I=U5f.H0T(w7I,w7I,x7I);U5f.h0T(16);d7I=U5f.a0T(I7I,O7I,6);r7I=this.lineWidth;if(!r7I){r7I=1.1;}a7I=this.color;if(a7I == "auto" || Q7I.isTransparent(a7I)){a7I=this.stx.defaultColor;}if(this.highlighted){y9z="stx_highlight_";y9z+="vector";a7I=this.stx.getCanvasColor(y9z);if(r7I == "0.1" - 0){r7I=1.1;}}u7I=this.fillColor;E7I.beginPath();E7I.moveTo(y7I,Y7I);U5f.h0T(0);E7I.bezierCurveTo(y7I,U5f.H0T(I7I,d7I),k7I,U5f.a0T(I7I,d7I),k7I,Y7I);U5f.F0T(2);E7I.bezierCurveTo(k7I,U5f.H0T(d7I,O7I),y7I,U5f.H0T(d7I,O7I),y7I,Y7I);if(u7I && !Q7I.isTransparent(u7I) && u7I != "auto"){E7I.fillStyle=u7I;E7I.globalAlpha=0.2;E7I.fill();E7I.globalAlpha=+"1";}if(a7I && this.pattern != "none"){E7I.strokeStyle=a7I;E7I.lineWidth=r7I;if(E7I.setLineDash){E7I.setLineDash(Q7I.borderPatternToArray(r7I,this.pattern));E7I.lineDashOffset=0;;}E7I.stroke();}E7I.closePath();if(this.highlighted){C9z="p";C9z+="1";n7I=this.highlighted == C9z?! !1:![];this.littleCircle(E7I,h7I,x7I,n7I);}};Q7I.Drawing.ellipse.prototype.intersected=function(t7I,e7I,o7I){var L9z,J7I,F7I,j7I,X7I;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[+"1"],o7I)){L9z="p";L9z+="1";this.highlighted=L9z;return {action:"drag",point:"p1"};}J7I=this.p0["0" & 2147483647] - (this.p1["0" << 1216411520] - this.p0[0]);F7I=this.p1[0];U5f.E6f();j7I=this.p1[1];X7I=this.p0[1] - (this.p1[1] - this.p0[1]);if(o7I.x0 > Math.max(J7I,F7I) || o7I.x1 < Math.min(J7I,F7I)){return ! !"";}if(o7I.y1 > Math.max(X7I,j7I) || o7I.y0 < Math.min(X7I,j7I)){return !{};}this.highlighted=! ![];return {action:"move",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:t7I,value:e7I};};Q7I.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth",Z9z];Q7I.Drawing.ellipse.prototype.reconstruct=function(H7I,D7I){U5f.E6f();this.stx=H7I;this.color=D7I.col;this.fillColor=D7I.fc;this.panelName=D7I.pnl;this.pattern=D7I.ptrn;this.lineWidth=D7I.lw;this.d0=D7I.d0;this.d1=D7I.d1;this.tzo0=D7I.tzo0;this.tzo1=D7I.tzo1;this.v0=D7I.v0;this.v1=D7I.v1;this.adjust();};Q7I.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};Q7I.Drawing.channel=function(){U5f.E6f();this.name="channel";this.dragToDraw=!1;this.p2=null;};Q7I.inheritsFrom(Q7I.Drawing.channel,Q7I.Drawing.segment);Q7I.Drawing.channel.prototype.configs=["color",e9z,"lineWidth","pattern"];Q7I.Drawing.channel.prototype.move=function(i7I,s7I,U7I){var l7I;if(!this.penDown){return;}U5f.F6f();this.copyConfig();if(this.p2 === null){this.p1=[s7I,U7I];}else {l7I=U7I - (this.p1[1] - this.p0["1" * 1]) / (this.p1[0] - this.p0[0]) * (s7I - this.p1[0]);this.p2=[this.p1[0],l7I];}this.render(i7I);};Q7I.Drawing.channel.prototype.click=function(B7I,R7I,q7I){var P7I;P7I=this.stx.panels[this.panelName];if(!P7I){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,R7I,q7I,P7I.chart);this.penDown=! !{};return ![];}if(this.accidentalClick(R7I,q7I)){this.stx.undo();return ! !1;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],P7I.chart);this.penDown=!{};return !0;}this.setPoint(+"1",R7I,q7I,P7I.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !{};}this.p2=[this.p1[0],this.p1[+"1"]];return ! !"";};Q7I.Drawing.channel.prototype.boxIntersection=function(N2I,m2I,f2I){var A2I,C2I,L2I,Q2I,V2I;A2I=this.p0;C2I=this.p1;L2I=this.p2;if(!A2I || !C2I || !L2I){return !{};}if(f2I.x0 > Math.max(A2I[0],C2I[0]) || f2I.x1 < Math.min(A2I[0],C2I["0" ^ 0])){return !1;}Q2I=(C2I[0] - A2I["0" & 2147483647]) * ((L2I[1] < A2I[1]?f2I.y1:f2I.y0) - A2I["1" >> 639582816]) - (C2I[1] - A2I[1]) * (N2I - A2I[0]);V2I=(L2I[0] - A2I[0]) * ((L2I[1] > A2I[1]?f2I.y1:f2I.y0) - (A2I[1] + L2I[1] - C2I[1])) - (C2I[1] - A2I[1]) * (N2I - A2I["0" - 0]);U5f.F0T(17);return U5f.H0T(V2I,Q2I,0);};Q7I.Drawing.channel.prototype.intersected=function(G2I,z2I,g2I){var T2I,c9z;U5f.F6f();if(!this.p0 || !this.p1 || !this.p2){return null;}T2I={0:this.p0,1:this.p1,2:this.p2};for(var S2I in T2I){if(this.pointIntersection(T2I[S2I][0],T2I[S2I][1],g2I)){c9z="d";c9z+="r";c9z+="a";c9z+="g";U5f.h0T(0);this.highlighted=U5f.a0T("p",S2I);return {action:c9z,point:"p" + S2I};}}if(this.boxIntersection(G2I,z2I,g2I)){this.highlighted=! !{};return {action:"move",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),p2:Q7I.clone(this.p2),tick:G2I,value:z2I};}return null;};Q7I.Drawing.channel.prototype.render=function(M2I){var x9z,Z2I,b2I,p2I,W2I,E2I,K2I,y2I,c2I,r2I,a2I,J9z,d2I,u2I,h2I;x9z="d";x9z+="ot";x9z+="te";x9z+="d";Z2I=this.stx.panels[this.panelName];U5f.E6f();if(!Z2I){return;}b2I=this.stx.pixelFromTick(this.p0[0],Z2I.chart);p2I=this.stx.pixelFromTick(this.p1[0],Z2I.chart);W2I=this.stx.pixelFromValueAdjusted(Z2I,this.p0[0],this.p0[1]);E2I=this.stx.pixelFromValueAdjusted(Z2I,this.p1[0],this.p1["1" | 0]);K2I=null;if(this.p2){K2I=this.stx.pixelFromValueAdjusted(Z2I,this.p2[0],this.p2[1]);}y2I=this.lineWidth;c2I=this.getLineColor();r2I=this.fillColor;if(this.p2 && r2I && !Q7I.isTransparent(r2I) && r2I != "auto"){M2I.beginPath();M2I.moveTo(b2I,W2I);M2I.lineTo(p2I,E2I);M2I.lineTo(p2I,K2I);U5f.F0T(18);M2I.lineTo(b2I,U5f.a0T(E2I,K2I,W2I));M2I.closePath();M2I.globalAlpha=0.2;M2I.fillStyle=r2I;M2I.fill();U5f.F0T(19);M2I.globalAlpha=U5f.H0T(0,"1");}a2I={pattern:this.pattern,lineWidth:y2I};if((this.penDown || this.highlighted) && this.pattern == "none"){a2I.pattern=x9z;}this.stx.plotLine(b2I,p2I,W2I,E2I,c2I,"segment",M2I,Z2I,a2I);if(this.p2){U5f.h0T(18);this.stx.plotLine(b2I,p2I,U5f.a0T(E2I,K2I,W2I),K2I,c2I,"segment",M2I,Z2I,a2I);}if(this.highlighted){J9z="p";J9z+="2";d2I=this.highlighted == "p0"?! ![]:!1;u2I=this.highlighted == "p1"?! !{}:!1;h2I=this.highlighted == J9z?! !{}:![];this.littleCircle(M2I,b2I,W2I,d2I);this.littleCircle(M2I,p2I,E2I,u2I);this.littleCircle(M2I,p2I,K2I,h2I);}};Q7I.Drawing.channel.prototype.reposition=function(I2I,w2I,O2I,v2I){var m9z,x2I,k2I,Y2I;m9z="m";U5f.F6f();m9z+="o";m9z+="v";m9z+="e";if(!w2I){return;}x2I=this.stx.panels[this.panelName];k2I=w2I.tick - O2I;Y2I=w2I.value - v2I;if(w2I.action == m9z){this.setPoint(+"0",w2I.p0[0] - k2I,w2I.p0[1] - Y2I,x2I.chart);this.setPoint(1,w2I.p1[0] - k2I,w2I.p1[1] - Y2I,x2I.chart);this.setPoint(+"2",w2I.p2[0] - k2I,w2I.p2[1] - Y2I,x2I.chart);this.render(I2I);}else if(w2I.action == "drag"){this[w2I.point]=[O2I,v2I];this.setPoint(+"0",this.p0[0],this.p0[1],x2I.chart);this.setPoint(1,this.p1[+"0"],this.p1[1],x2I.chart);this.setPoint(2,this.p2[0],this.p2[1],x2I.chart);this.render(I2I);}};Q7I.Drawing.channel.prototype.adjust=function(){var n2I;n2I=this.stx.panels[this.panelName];U5f.F6f();if(!n2I){return;}this.setPoint(0,this.d0,this.v0,n2I.chart);this.setPoint(1,this.d1,this.v1,n2I.chart);this.setPoint(2,this.d1,this.v2,n2I.chart);;};Q7I.Drawing.channel.prototype.reconstruct=function(J2I,o2I){this.stx=J2I;this.color=o2I.col;this.fillColor=o2I.fc;this.panelName=o2I.pnl;U5f.E6f();this.pattern=o2I.ptrn;this.lineWidth=o2I.lw;this.d0=o2I.d0;this.d1=o2I.d1;this.tzo0=o2I.tzo0;this.tzo1=o2I.tzo1;this.v0=o2I.v0;this.v1=o2I.v1;this.v2=o2I.v2;this.adjust();};Q7I.Drawing.channel.prototype.serialize=function(){U5f.E6f();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};Q7I.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=![];this.p2=null;};Q7I.inheritsFrom(Q7I.Drawing.pitchfork,Q7I.Drawing.channel);Q7I.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];Q7I.Drawing.pitchfork.prototype.move=function(X2I,F2I,j2I){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[F2I,j2I];}else {this.p2=[F2I,j2I];}this.render(X2I);};Q7I.Drawing.pitchfork.prototype.intersected=function(s2I,U2I,l2I){var D2I,H2I,p9z;if(!this.p0 || !this.p1 || !this.p2){return null;}D2I={0:this.p0,1:this.p1,2:this.p2};for(var e2I in D2I){if(this.pointIntersection(D2I[e2I]["0" >> 280698368],D2I[e2I][1],l2I)){U5f.h0T(0);this.highlighted=U5f.a0T("p",e2I);return {action:"drag",point:(423.35 != 7690?"p":463.17 !== 5210?"428.7" - 0 != (6420,605.42)?! !"":(0x1fd0,0xa7):(9.15e+3,! !"")) + e2I};}}H2I=this.rays;for(var t2I=0;t2I < H2I.length;t2I++){p9z="seg";p9z+="ment";if(this.lineIntersection(s2I,U2I,l2I,t2I?"ray":p9z,H2I[t2I][0],H2I[t2I][1],! !{})){this.highlighted=! !{};return {action:"move",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),p2:Q7I.clone(this.p2),tick:s2I,value:U2I};}}return null;};Q7I.Drawing.pitchfork.prototype.render=function(Q8I){var i2I,P2I,C8I,V8I,R2I,q2I,m8I,B2I,A8I,G8I,z8I,g8I,f8I,S8I,T8I,a9z,N8I,M8I,D9z,Z8I,p8I,K8I;i2I=this.stx.panels[this.panelName];if(!i2I){return;}P2I=this.stx;C8I=this.p2;if(!C8I){C8I=this.p1;}V8I=P2I.pixelFromTick(this.p0[0],i2I.chart);R2I=P2I.pixelFromTick(this.p1[0],i2I.chart);q2I=P2I.pixelFromTick(C8I[0],i2I.chart);m8I=P2I.pixelFromValueAdjusted(i2I,this.p0[0],this.p0[1]);B2I=P2I.pixelFromValueAdjusted(i2I,this.p1[0],this.p1[1]);A8I=P2I.pixelFromValueAdjusted(i2I,C8I[0],C8I[1]);G8I=this.lineWidth;z8I=this.getLineColor();g8I={pattern:this.pattern,lineWidth:G8I};f8I=50;U5f.F0T(20);S8I=U5f.a0T(m8I,B2I,A8I,2);U5f.h0T(20);T8I=U5f.H0T(V8I,R2I,q2I,2);if(T8I < 0){f8I*=-1;}U5f.F0T(8);S8I*=U5f.a0T(f8I,T8I);U5f.h0T(7);this.rays=[[[R2I,B2I],[q2I,A8I]],[[V8I,m8I],[U5f.H0T(2,R2I,q2I),U5f.a0T(2,B2I,A8I)]]];if(!(R2I == q2I && B2I == A8I)){U5f.F0T(2);this.rays.push([[R2I,B2I],[U5f.a0T(f8I,R2I),U5f.H0T(S8I,B2I)]],[[q2I,A8I],[U5f.H0T(f8I,q2I),U5f.a0T(S8I,A8I)]]);}U5f.F6f();for(var L8I=0;L8I < this.rays.length;L8I++){a9z="se";a9z+="gme";a9z+="n";a9z+="t";N8I=this.rays[L8I];M8I=L8I?"ray":a9z;P2I.plotLine(N8I[+"0"][0],N8I[1]["0" * 1],N8I[0][1],N8I[1][1],z8I,M8I,Q8I,i2I,g8I);}if(this.highlighted){D9z="p";D9z+="1";Z8I=this.highlighted == "p0"?! !{}:! !"";p8I=this.highlighted == D9z?! !{}:!{};K8I=this.highlighted == "p2"?! !{}:! !"";this.littleCircle(Q8I,V8I,m8I,Z8I);this.littleCircle(Q8I,R2I,B2I,p8I);this.littleCircle(Q8I,q2I,A8I,K8I);}};Q7I.Drawing.pitchfork.prototype.adjust=function(){var b8I;b8I=this.stx.panels[this.panelName];U5f.E6f();if(!b8I){return;}this.setPoint(0,this.d0,this.v0,b8I.chart);this.setPoint(1,this.d1,this.v1,b8I.chart);this.setPoint(2,this.d2,this.v2,b8I.chart);};Q7I.Drawing.pitchfork.prototype.reconstruct=function(E8I,W8I){U5f.F6f();var b4J,V4J,G4J;this.stx=E8I;b4J=404610730;V4J=-923716576;G4J=+"2";for(var H4J=1;U5f.K5J(H4J.toString(),H4J.toString().length,262) !== b4J;H4J++){this.color=W8I.col;this.panelName=W8I.pnl;this.pattern=W8I.ptrn;this.lineWidth=W8I.lw;this.d0=W8I.d0;this.d1=W8I.d1;this.d2=W8I.d2;G4J+=2;}if(U5f.z5J(G4J.toString(),G4J.toString().length,11588) !== V4J){this.color=W8I.col;this.panelName=W8I.pnl;this.pattern=W8I.ptrn;this.lineWidth=W8I.lw;this.d0=W8I.d0;this.d1=W8I.d1;this.d2=W8I.d2;}this.tzo0=W8I.tzo0;this.tzo1=W8I.tzo1;this.tzo2=W8I.tzo2;this.v0=W8I.v0;this.v1=W8I.v1;this.v2=W8I.v2;this.adjust();};Q7I.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};Q7I.Drawing.gartley=function(){var I9z,g8J,r0J,k0J;I9z="g";I9z+="artle";I9z+="y";this.name=I9z;this.dragToDraw=!{};g8J=-275147605;U5f.h0T(19);r0J=-U5f.H0T(1351811715,"1978916539");k0J=2;U5f.F6f();for(var E0J=1;U5f.K5J(E0J.toString(),E0J.toString().length,51005) !== g8J;E0J++){U5f.F0T(14);this.maxSegments=U5f.H0T("1",0);this.shape=1;this.points=[];k0J+=2;}if(U5f.z5J(k0J.toString(),k0J.toString().length,50014) !== r0J){this.maxSegments=4;this.shape=null;this.points=[];}};Q7I.inheritsFrom(Q7I.Drawing.gartley,Q7I.Drawing.continuous);Q7I.Drawing.gartley.prototype.check=function(a8I,r8I){if(!r8I){return ! !1;}if(a8I[0] >= r8I[0] || a8I[1] == r8I["1" | 0]){return !{};}if(this.segment == 1){if(a8I[1] < r8I[1]){this.shape=(8500,471) === 100?+"0x6c4":(3062,8183) > (147.75,8850)?0xc21:6873 != +"134.31"?"M":0x243e;}else {this.shape=(9780,20.56) <= (566.09,"4920" >> 1605209888)?"W":3480 === "755.03" * 1?("u",262.11):(! !0,!1);}}else if(this.segment == 2){if(this.shape == "M" && a8I[1] < r8I[1]){return !1;}else if(this.shape == ((6790,7049) != (5825,2810)?(877.18,762.9) >= (8457,262.48)?"W":(667.43,9660) === 54.38?(0x1a86,! ![]):("d","P"):("A",! !"")) && a8I[1] > r8I[1]){return ![];}else if((r8I[1] - a8I[1]) / (this.points[0][1] - a8I[1]) < 0.618){return !1;}else if((r8I[1] - a8I[1]) / (this.points[0][1] - a8I[1]) >= 0.786){return !{};}}else if(this.segment == 3){if(this.shape == ((481,5900) !== (2060,68.69)?724.92 >= (8180,+"8000")?7370 < +"9049"?525.47:(0x100c,53.66):"M":("m",678.81)) && a8I["1" >> 1640597408] > r8I["1" ^ 0]){return !{};}else if(this.shape == (5980 > 4294?"W":5840 > "254" * 1?2806 === 8651?0x9f7:(0x1b5c,"T"):("M",! !{})) && a8I[1] < r8I[1]){return ! !0;}else if((r8I[1] - a8I[1]) / (this.points[1]["1" ^ 0] - a8I[1]) < 0.618){return ! !"";}else if((r8I[1] - a8I[1]) / (this.points[1][1] - a8I["1" >> 1188481056]) >= "0.786" * 1){return !{};}}else if(this.segment == 4){if(this.shape == ((2750,7220) >= 4545?(4089,8720) === (649.43,1890)?(!"","257.66" * 1):"M":946.94) && (a8I[1] < r8I[1] || r8I[1] < this.points["0" & 2147483647][1])){return !{};}else if(this.shape == ((+"927",3650) < +"959"?2.47e+3:6902 <= ("858.29" - 0,+"7860")?"W":(!"",5.30e+3)) && (a8I[1] > r8I[1] || r8I[1] > this.points[0]["1" << 863234688])){return ![];}else if((this.points[1][1] - r8I[1]) / (this.points[1][+"1"] - this.points[2][1]) < 1.27){return ! !"";}else if((this.points[1][1] - r8I[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return ! !0;}}return ! !{};};Q7I.Drawing.gartley.prototype.click=function(u8I,y8I,d8I){var c8I;c8I=this.stx.panels[this.panelName];if(!c8I){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",y8I,d8I,c8I.chart);this.pts=[];this.penDown=! !{};this.segment=1;return ! !"";}if(this.accidentalClick(y8I,d8I)){this.penDown=! ![];return !{};}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,y8I,d8I,c8I.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][+"0"],this.points[0][1],c8I.chart);this.penDown=!{};return ! ![];}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,y8I,d8I,c8I.chart);;}return ! !0;};Q7I.Drawing.gartley.prototype.render=function(w8I){var R9z,h8I,e8I,n8I,D8I,o8I,Y8I,H8I,J8I,v8I,O8I,k8I,F8I,j8I,X8I,t8I,E3J,j3J,s3J;R9z="do";R9z+="tted";h8I=this.stx.panels[this.panelName];if(!h8I){return;}e8I=this.stx.pixelFromTick(this.p0[+"0"],h8I.chart);n8I=this.stx.pixelFromTick(this.p1[0],h8I.chart);D8I=this.stx.pixelFromValueAdjusted(h8I,this.p0[0],this.p0[1]);o8I=this.stx.pixelFromValueAdjusted(h8I,this.p1[0],this.p1[1]);if(this.segment == +"2"){this.drawDropZone(w8I,0.618 * this.points[0][1] + 0.382 * this.p0[1],0.786 * this.points[0]["1" ^ 0] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(w8I,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[+"1"][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == ("4" | 4)){Y8I=1.618 * this.points[2][+"1"] - 0.618 * this.points[1][1];if(this.shape == (1404 < (4020,8250)?"M":340)){Y8I=Math.max(Y8I,this.points[0][1]);}else {Y8I=Math.min(Y8I,this.points[0][1]);}this.drawDropZone(w8I,Y8I,1.27 * this.points[2][+"1"] - 0.27 * this.points["1" & 2147483647]["1" << 506440896],this.p0[+"0"]);}H8I=this.lineWidth;J8I=this.getLineColor();v8I={pattern:this.pattern,lineWidth:H8I};if((this.penDown || this.highlighted) && this.pattern == "none"){v8I.pattern=R9z;}if(this.segment <= this.maxSegments){this.stx.plotLine(e8I,n8I,D8I,o8I,J8I,this.name,w8I,h8I,v8I);}O8I=this.fillColor;k8I=[];if(this.points.length){w8I.beginPath();for(var x8I=+"1";x8I < this.points.length && x8I <= 4;x8I++){F8I=this.stx.pixelFromTick(this.points[x8I - 1][0],h8I.chart);j8I=this.stx.pixelFromTick(this.points[x8I][0],h8I.chart);X8I=this.stx.pixelFromValueAdjusted(h8I,this.points[x8I - +"1"][0],this.points[x8I - 1][1]);t8I=this.stx.pixelFromValueAdjusted(h8I,this.points[x8I][0],this.points[x8I][1]);if(x8I == 1){k8I.push(F8I,X8I);}k8I.push(j8I,t8I);this.stx.plotLine(F8I,j8I,X8I,t8I,J8I,this.name,w8I,h8I,v8I);}if(this.points.length == 2 || this.points.length == 4){k8I.push(n8I,o8I);}if(this.points["2" >> 1656419328]){E3J=-1885620338;j3J=-1978916539;s3J=2;for(var C3J=1;U5f.z5J(C3J.toString(),C3J.toString().length,72043) !== E3J;C3J++){k8I.push(this.stx.pixelFromTick(this.points[+"4"][5],h8I.chart),this.stx.pixelFromValueAdjusted(h8I,this.points[8][8],this.points[4][6]));s3J+=2;}if(U5f.z5J(s3J.toString(),s3J.toString().length,50014) !== j3J){k8I.push(this.stx.pixelFromTick(this.points[2][0],h8I.chart),this.stx.pixelFromValueAdjusted(h8I,this.points[2][0],this.points[2][1]));}}if(O8I && O8I != "auto" && !Q7I.isTransparent(O8I)){for(var I8I=0;I8I < k8I.length;I8I+=2){if(I8I === 0){w8I.moveTo(k8I[0],k8I[1]);}w8I.lineTo(k8I[I8I],k8I[I8I + 1]);}w8I.fillStyle=O8I;w8I.globalAlpha=0.2;w8I.closePath();w8I.fill();w8I.globalAlpha=1;}};};Q7I.Drawing.gartley.prototype.lineIntersection=function(i8I,P8I,R8I,q8I){var s8I,l8I;U5f.E6f();s8I=this.points;l8I=this.stx.panels[this.panelName];if(s8I.length != this.maxSegments + 1 || !l8I){return !{};}for(var U8I=0;U8I < s8I.length - 1;U8I++){if(Q7I.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,i8I,P8I,R8I,"segment",s8I[U8I],s8I[U8I + 1])){return !0;}}return !1;};Q7I.Drawing.gartley.prototype.boxIntersection=function(L0I,N0I,A0I){var C0I,f0I;if(!this.p0 || !this.p1){return !"1";}if(A0I.x0 > Math.max(this.p0[0],this.p1[+"0"]) || A0I.x1 < Math.min(this.p0[0],this.p1[0])){return ! !0;}C0I=Math.min(this.p0[1],this.p1[1]);f0I=Math.max(this.p0["1" & 2147483647],this.p1[+"1"]);for(var B8I=0;B8I < this.points.length;B8I++){C0I=Math.min(C0I,this.points[B8I][1]);f0I=Math.max(f0I,this.points[B8I][1]);}if(A0I.y1 > f0I || A0I.y0 < C0I){return !"1";}U5f.E6f();return !0;};Q7I.Drawing.gartley.prototype.reposition=function(g0I,V0I,S0I,T0I){var m0I,G0I,z0I;if(!V0I){return;}m0I=this.stx.panels[this.panelName];G0I=V0I.tick - S0I;V0I.tick=S0I;z0I=V0I.value - T0I;V0I.value=T0I;if(V0I.action == "move"){this.pts=[];for(var Q0I=0;Q0I < this.points.length;Q0I++){this.points[Q0I][0]-=G0I;this.points[Q0I][1]-=z0I;this.setPoint(+"1",this.points[Q0I][0],this.points[Q0I][1],m0I.chart);if(Q0I && Q0I < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[Q0I]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],m0I.chart);this.render(g0I);;}};Q7I.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth",Q9z];Q7I.Drawing.gartley.prototype.adjust=function(){var M0I;M0I=this.stx.panels[this.panelName];if(!M0I){return;}U5f.E6f();this.reconstructPoints();this.setPoint(0,this.d0,this.v0,M0I.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,M0I.chart);this.points.push(this.p1);};Q7I.Drawing.gartley.prototype.reconstructPoints=function(){var w8J,d8J,n8J,K0I,p0I;U5f.h0T(21);w8J=-U5f.H0T(1,"1784892584");d8J=- +"782773154";n8J=+"2";for(var v8J=+"1";U5f.K5J(v8J.toString(),v8J.toString().length,+"7083") !== w8J;v8J++){K0I=this.stx.panels[this.panelName];if(+K0I){return;}this.points=[];n8J+=2;}U5f.E6f();if(U5f.K5J(n8J.toString(),n8J.toString().length,24016) !== d8J){K0I=this.stx.panels[this.panelName];if(!K0I){return;}this.points=[];}for(var Z0I=0;Z0I < this.pts.length;Z0I+="3" ^ 0){p0I=Q7I.strToDateTime(this.pts[Z0I]);p0I.setMinutes(p0I.getMinutes() + Number(this.pts[Z0I + ("1" | 1)]) - p0I.getTimezoneOffset());this.points.push([this.stx.tickFromDate(Q7I.yyyymmddhhmmssmmm(p0I),K0I.chart),this.pts[Z0I + 2]]);}};Q7I.Drawing.gartley.prototype.reconstruct=function(W0I,b0I){this.stx=W0I;this.color=b0I.col;this.fillColor=b0I.fc;this.panelName=b0I.pnl;this.pattern=b0I.ptrn;this.lineWidth=b0I.lw;this.d0=b0I.d0;this.d1=b0I.d1;this.tzo0=b0I.tzo0;this.tzo1=b0I.tzo1;this.v0=b0I.v0;this.v1=b0I.v1;this.pts=b0I.pts.split(",");this.adjust();};Q7I.Drawing.gartley.prototype.serialize=function(){var c4J,x4J,J4J;U5f.h0T(2);c4J=-U5f.a0T(0,"1377543995");x4J=1897835752;J4J=2;for(var p4J=+"1";U5f.z5J(p4J.toString(),p4J.toString().length,+"98320") !== c4J;p4J++){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join("")};}U5f.E6f();if(U5f.z5J(J4J.toString(),J4J.toString().length,61005) !== x4J){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};}};Q7I.Drawing.freeform=function(){this.name="freeform";U5f.h0T(2);this.splineTension=U5f.H0T(0,"0.3");U5f.E6f();this.dragToDraw=! !"1";};Q7I.inheritsFrom(Q7I.Drawing.freeform,Q7I.Drawing.segment);Q7I.Drawing.freeform.prototype.measure=function(){};Q7I.Drawing.freeform.prototype.intersected=function(r0I,a0I,E0I){if(E0I.x0 > this.hiX || E0I.x1 < this.lowX){return null;}if(E0I.y1 > this.hiY || E0I.y0 < this.lowY){return null;}this.highlighted=! ![];U5f.F6f();return {action:"move",p0:Q7I.clone(this.p0),tick:r0I,value:a0I};};Q7I.Drawing.freeform.prototype.reposition=function(h0I,c0I,w0I,x0I){var y0I,d0I,u0I;if(!c0I){return;}y0I=this.stx.panels[this.panelName];d0I=c0I.tick - w0I;u0I=c0I.value - x0I;U5f.F6f();if(c0I.action == "move"){this.setPoint(0,c0I.p0[0] - d0I,c0I.p0[1] - u0I,y0I.chart);this.adjust();this.render(h0I);}};Q7I.Drawing.freeform.prototype.click=function(v0I,Y0I,O0I){var k0I,u9z,I0I,I3J,R3J,Q3J;k0I=this.stx.panels[this.panelName];if(!k0I){return;}if(this.penDown === ! !""){u9z="po";u9z+="inter";this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(Y0I,k0I.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(k0I,Y0I,O0I)));I0I=this.stx.dateFromTick(Y0I,k0I.chart,! !1);this.d0=Q7I.yyyymmddhhmmssmmm(I0I);this.tzo0=I0I.getTimezoneOffset();this.v0=O0I;this.p0=[Q7I.ChartEngine.crosshairX - this.startX,Q7I.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=k0I.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor=u9z;this.penDown=! !{};return ! !"";}this.penDown=!1;this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";U5f.h0T(19);I3J=U5f.H0T(1077167104,"1320502500");R3J=-1211003796;Q3J=+"2";for(var i3J=1;U5f.z5J(i3J.toString(),i3J.toString().length,93054) !== I3J;i3J++){return ! !{};}U5f.E6f();if(U5f.z5J(Q3J.toString(),Q3J.toString().length,20546) !== R3J){return ! !"";}};Q7I.Drawing.freeform.prototype.move=function(J0I,F0I,j0I){var n0I,o0I;if(!this.penDown){return;}n0I=this.stx.panels[this.panelName];o0I=this.stx.dateFromTick(F0I,n0I.chart,! ![]);this.d1=Q7I.yyyymmddhhmmssmmm(o0I);this.tzo1=o0I.getTimezoneOffset();this.v1=j0I;this.p1=[Q7I.ChartEngine.crosshairX - this.startX,n0I.yAxis.flipped?this.startY - Q7I.ChartEngine.crosshairY:Q7I.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > "2" >> 757723008){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][+"0"] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][+"1"] && this.p1[1] == this.pNodes[this.pNodes.length - ("1" ^ 0)][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(J0I);return ![];};Q7I.Drawing.freeform.prototype.intervalRatio=function(H0I,X0I,P0I,R0I,e0I,D0I){var t0I,i9z,O9z,t9z;function U0I(A9d,C9d){U5f.F6f();return 5;}t0I=0;function s0I(Q9d,N9d){var a4J,D4J,I4J;a4J=226880433;D4J=1421299076;I4J=2;for(var Q4J="1" & 2147483647;U5f.z5J(Q4J.toString(),Q4J.toString().length,80879) !== a4J;Q4J++){if(Q7I.Market.Symbology.isForexSymbol(N9d)){return 2274;}I4J+=2;}U5f.F6f();if(U5f.K5J(I4J.toString(),I4J.toString().length,"4124" - 0) !== D4J){if(Q7I.Market.Symbology.isForexSymbol(N9d)){return 1440;}}return 390;}function i0I(q0I,B0I){return 5;}if(H0I == X0I){t0I=+"1";}else if(!isNaN(H0I) && !isNaN(X0I)){U5f.F0T(8);t0I=U5f.a0T(H0I,X0I);}else if(isNaN(H0I)){i9z="mont";i9z+="h";if(H0I == i9z){O9z="we";O9z+="e";O9z+="k";if(X0I == O9z){t0I=i0I(e0I,D0I);}else if(X0I == "day"){t0I=l0I(e0I,D0I);}else if(!isNaN(X0I)){t0I=l0I(e0I,D0I) * s0I(e0I,D0I) / X0I;}}else if(H0I == "week"){if(X0I == "month"){t0I=1 / i0I(e0I,D0I);}if(X0I == "day"){t0I=U0I(e0I,D0I);}else if(!isNaN(X0I)){t0I=U0I(e0I,D0I) * s0I(e0I,D0I) / X0I;}}else if(H0I == "day"){if(X0I == "week"){t0I=1 / U0I(e0I,D0I);}else if(X0I == "month"){t0I=1 / l0I(e0I,D0I);}else if(!isNaN(X0I)){t0I=s0I(e0I,D0I) / X0I;}}}else if(!isNaN(H0I)){t9z="mo";t9z+="nth";if(X0I == t9z){t0I=H0I / (l0I(e0I,D0I) * s0I(e0I,D0I));}else if(X0I == "week"){t0I=H0I / (U0I(e0I,D0I) * s0I(e0I,D0I));}else if(X0I == "day"){t0I=H0I / s0I(e0I,D0I);}}function l0I(f9d,L9d){U5f.E6f();return 30;}U5f.F0T(8);t0I*=U5f.a0T(P0I,R0I);return t0I;};Q7I.Drawing.freeform.prototype.render=function(Z9d){U5f.F6f();var V9d,G9d,p9d,K9d,b9d,z9d,m9d,W9d,g9d,M9d,E9d,T9d;V9d=this.stx.panels[this.panelName];if(!V9d){return;}G9d=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,V9d.chart.symbol);if(G9d === 0){return;}p9d=this.stx.layout.candleWidth / this.candleWidth;K9d=V9d.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,V9d.chart);b9d=this.stx.pixelFromTick(this.p0[0],V9d.chart);z9d=this.stx.pixelFromValueAdjusted(V9d,this.p0[0],this.p0[1]);m9d=[];W9d=this.lineWidth;g9d=this.getLineColor();M9d={pattern:this.pattern,lineWidth:W9d};for(var S9d="0" << 2115012512;S9d < this.pNodes.length;S9d++){E9d=G9d * p9d * this.pNodes[S9d][0] + b9d;T9d=K9d * this.pNodes[S9d][1];if(V9d.yAxis.flipped){U5f.h0T(2);T9d=U5f.a0T(T9d,z9d);}else {T9d+=z9d;}m9d.push(E9d,T9d);}if(!m9d.length){return;}if(this.splineTension < +"0"){this.stx.connectTheDots(m9d,g9d,this.name,Z9d,V9d,M9d);}else {this.stx.plotSpline(m9d,this.splineTension,g9d,this.name,Z9d,! !{},M9d);}};Q7I.Drawing.freeform.prototype.adjust=function(){var r9d,x9d,a9d,u9d,h9d,y9d,w9d,d9d;r9d=this.stx.panels[this.panelName];if(!r9d){return;}x9d=[this.nodes[0],this.nodes[1]];this.pNodes=[x9d];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var c9d=2;c9d < this.nodes.length;c9d+=2){U5f.h0T(0);a9d=[this.nodes[c9d],this.nodes[U5f.a0T(c9d,1)]];this.pNodes.push(a9d);this.lowX=Math.min(this.lowX,a9d[0]);this.hiX=Math.max(this.hiX,a9d["0" * 1]);this.lowY=Math.max(this.lowY,a9d[1]);this.hiY=Math.min(this.hiY,a9d[1]);}u9d=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,r9d.chart.symbol);if(u9d === 0){return;}h9d=this.stx.layout.candleWidth / this.candleWidth;y9d=r9d.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,r9d.chart);w9d=this.stx.pixelFromTick(this.p0["0" << 1082654336],r9d.chart);d9d=this.stx.pixelFromValueAdjusted(r9d,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(u9d * h9d * this.lowX) + w9d,r9d.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(u9d * h9d * this.hiX) + w9d,r9d.chart);if(r9d.yAxis.flipped){this.lowY=this.stx.valueFromPixel(d9d - Math.floor(y9d * this.lowY),r9d);this.hiY=this.stx.valueFromPixel(d9d - Math.ceil(y9d * this.hiY),r9d);}else {this.lowY=this.stx.valueFromPixel(Math.floor(y9d * this.lowY) + d9d,r9d);this.hiY=this.stx.valueFromPixel(Math.ceil(y9d * this.hiY) + d9d,r9d);}};Q7I.Drawing.freeform.prototype.serialize=function(){U5f.F6f();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};Q7I.Drawing.freeform.prototype.reconstruct=function(Y9d,k9d){this.stx=Y9d;this.color=k9d.col;this.panelName=k9d.pnl;this.pattern=k9d.ptrn;this.lineWidth=k9d.lw;this.candleWidth=k9d.cw;this.multiplier=k9d.mlt;this.d0=k9d.d0;this.tzo0=k9d.tzo0;this.v0=k9d.v0;this.interval=k9d.inter;this.periodicity=k9d.pd;this.nodes=k9d.nodes;U5f.E6f();this.adjust();};Q7I.Drawing.callout=function(){this.name="callout";this.arr=[];U5f.E6f();this.w=0;U5f.F0T(14);this.h=U5f.a0T("0",0);U5f.F0T(13);this.padding=U5f.H0T("4",1693031552);this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};Q7I.inheritsFrom(Q7I.Drawing.callout,Q7I.Drawing.annotation);Q7I.Drawing.callout.prototype.configs=["color",f9z,"lineWidth","pattern",b9z];Q7I.Drawing.callout.prototype.copyConfig=function(I9d){Q7I.Drawing.copyConfig(this,I9d);U5f.F6f();this.borderColor=this.color;};Q7I.Drawing.callout.prototype.move=function(O9d,v9d,n9d){if(!this.penDown){return;}U5f.F6f();this.copyConfig();this.p0=[v9d,n9d];this.render(O9d);};Q7I.Drawing.callout.prototype.onChange=function(j9d){var F9d,J9d,o9d;F9d=this.stx.panels[this.panelName];if(!F9d){return;}J9d=j9d.target;U5f.E6f();this.w=J9d.clientWidth;this.h=J9d.clientHeight;o9d=this.context || this.stx.chart.tempCanvas.context;Q7I.clearCanvas(o9d.canvas,this.stx);this.render(o9d);this.edit(o9d);};Q7I.Drawing.callout.prototype.render=function(X9d){var G9z,V9z,R9d,N6d,L6d,e9d,t9d,H9d,D9d,q9d,B9d,P9d,U9d,A6d,l9d,C6d,s9d,l3J,F3J,B3J,W6J,F6J,d6J,i9d,P9z,t0J,f0J,b0J,N9z,q9z,H9z,Q6d,v5J,g5J,r3J;G9z="a";G9z+="uto";V9z="t";V9z+="o";V9z+="p";this.context=X9d;R9d=this.stx.panels[this.panelName];if(!R9d){return;}N6d=this.stx.pixelFromTick(this.p0[0],R9d.chart);L6d=this.stx.pixelFromValueAdjusted(R9d,this.p0[0],this.p0[1]);if(isNaN(L6d)){return;}X9d.font=this.fontString;X9d.textBaseline=V9z;e9d=N6d;t9d=L6d;H9d=this.w / 2;D9d=this.h / 2;if(this.penDown){H9d=this.defaultWidth;D9d=this.defaultHeight;if(!D9d){D9d=this.fontSize;}}q9d=this.lineWidth;if(!q9d){q9d=1.1;}B9d=this.color;if(B9d == "auto" || Q7I.isTransparent(B9d)){B9d=this.stx.defaultColor;}P9d=this.borderColor;if(P9d == G9z || Q7I.isTransparent(P9d)){P9d=this.stx.defaultColor;}if(this.highlighted){P9d=this.stx.getCanvasColor("stx_highlight_vector");}U5f.E6f();s9d=Math.min(Math.min(H9d,D9d) / 2,8);if(this.stem){if(this.stem.t){U9d=this.stx.pixelFromTick(this.stem.t);l3J=59381409;F3J=-1727290614;B3J=+"2";for(var d3J=1;U5f.z5J(d3J.toString(),d3J.toString().length,"93320" - 0) !== l3J;d3J++){l9d=this.stx.pixelFromValueAdjusted(R9d,this.stem.t,this.stem.v);B3J+=2;}if(U5f.K5J(B3J.toString(),B3J.toString().length,34803) !== F3J){l9d=this.stx.pixelFromValueAdjusted(R9d,this.stem.t,this.stem.v);}}else if(this.stem.x){U9d=e9d;l9d=t9d;e9d+=this.stem.x;t9d+=this.stem.y;}W6J=247811235;F6J=1062881164;d6J=2;for(var r8J=1;U5f.K5J(r8J.toString(),r8J.toString().length,99028) !== W6J;r8J++){i9d="";d6J+=2;}if(U5f.K5J(d6J.toString(),d6J.toString().length,31568) !== F6J){i9d="";}if(U9d >= e9d + H9d){U5f.h0T(0);A6d=U5f.H0T(e9d,H9d);i9d="r";}else if(U9d > e9d - H9d && U9d < e9d + H9d){A6d=e9d;i9d=(480.82,590.56) > 1483?0x1536:(801,971.02) !== 857?"c":(0x6a6,2.77e+3);}else if(U9d <= e9d - H9d){U5f.h0T(2);A6d=U5f.a0T(H9d,e9d);i9d="l";}if(l9d >= t9d + D9d){U5f.h0T(0);C6d=U5f.H0T(t9d,D9d);i9d+=(5920,1400) != 3420?"b":(802,3820) === (7800,3782)?"0x22ba" ^ 0:575.15 >= ("497.03" * 1,888)?"G":(754.80,"p");}else if(l9d > t9d - D9d && l9d < t9d + D9d){C6d=t9d;i9d+=("5038" * 1,756) > ("508.16" * 1,+"161.49")?"m":(624.89,2950) != 255.26?("2800" ^ 0) != 6610?(508.72,7.00e+3):(725.57,!""):("6.62e+2" - 0,"x");}else if(l9d <= t9d - D9d){U5f.F0T(2);C6d=U5f.a0T(D9d,t9d);i9d+=6350 === 5010?(!"1",! !{}):"t";}this.stemEntry=i9d;if(i9d != "cm"){U9d=Math.round(U9d);A6d=Math.round(A6d);l9d=Math.round(l9d);C6d=Math.round(C6d);}}if(this.highlighted){P9z="stx_annotat";P9z+="ion_highlight_bg";this.stx.canvasColor(P9z,X9d);}else {if(this.fillColor){X9d.fillStyle=this.fillColor;U5f.h0T(2);X9d.globalAlpha=U5f.a0T(0,"0.4");}else if(this.stem){t0J=1885716957;f0J=+"1277971231";b0J=2;for(var G0J=1;U5f.K5J(G0J.toString(),G0J.toString().length,+"39317") !== t0J;G0J++){X9d.fillStyle=this.stx.containerColor;b0J+=2;}if(U5f.z5J(b0J.toString(),b0J.toString().length,57785) !== f0J){X9d.fillStyle=this.stx.containerColor;}}}X9d.strokeStyle=P9d;if(X9d.setLineDash){X9d.setLineDash(Q7I.borderPatternToArray(q9d,this.pattern));X9d.lineDashOffset=0;;}if(P9d){N9z="c";N9z+="t";q9z="l";q9z+="t";H9z="r";H9z+="t";X9d.beginPath();X9d.lineWidth=q9d;U5f.F0T(5);X9d.moveTo(U5f.H0T(e9d,H9d,s9d),U5f.a0T(D9d,t9d,U5f.F0T(2)));if(this.stemEntry != H9z){U5f.F0T(0);X9d.quadraticCurveTo(U5f.a0T(e9d,H9d),U5f.a0T(D9d,t9d,U5f.h0T(2)),U5f.a0T(e9d,H9d,U5f.F0T(0)),U5f.a0T(s9d,D9d,t9d,U5f.F0T(1)));;}else {X9d.lineTo(U9d,l9d);U5f.F0T(0);X9d.lineTo(U5f.a0T(e9d,H9d),U5f.H0T(s9d,D9d,t9d,U5f.h0T(1)));}U5f.F0T(0);X9d.lineTo(U5f.H0T(e9d,H9d),U5f.H0T(t9d,s9d,2,U5f.F0T(22)));if(this.stemEntry == "rm"){X9d.lineTo(U9d,l9d);}U5f.h0T(0);X9d.lineTo(U5f.a0T(e9d,H9d),U5f.a0T(2,s9d,t9d,U5f.F0T(23)));U5f.F0T(0);X9d.lineTo(U5f.a0T(e9d,H9d),U5f.a0T(t9d,D9d,s9d,U5f.F0T(5)));if(this.stemEntry != "rb"){U5f.h0T(0);X9d.quadraticCurveTo(U5f.H0T(e9d,H9d),U5f.a0T(t9d,D9d,U5f.h0T(0)),U5f.a0T(e9d,H9d,s9d,U5f.h0T(5)),U5f.a0T(t9d,D9d,U5f.F0T(0)));;}else {X9d.lineTo(U9d,l9d);U5f.F0T(5);X9d.lineTo(U5f.a0T(e9d,H9d,s9d),U5f.H0T(t9d,D9d,U5f.F0T(0)));}U5f.h0T(23);X9d.lineTo(U5f.a0T(2,s9d,e9d),U5f.H0T(t9d,D9d,U5f.F0T(0)));if(this.stemEntry == "cb"){X9d.lineTo(U9d,l9d);}U5f.h0T(24);X9d.lineTo(U5f.a0T("2",e9d,s9d),U5f.a0T(t9d,D9d,U5f.h0T(0)));U5f.h0T(1);X9d.lineTo(U5f.a0T(s9d,H9d,e9d),U5f.H0T(t9d,D9d,U5f.h0T(0)));if(this.stemEntry != "lb"){U5f.h0T(2);X9d.quadraticCurveTo(U5f.a0T(H9d,e9d),U5f.a0T(t9d,D9d,U5f.F0T(0)),U5f.H0T(H9d,e9d,U5f.F0T(2)),U5f.H0T(t9d,D9d,s9d,U5f.h0T(5)));;}else {X9d.lineTo(U9d,l9d);U5f.F0T(2);X9d.lineTo(U5f.H0T(H9d,e9d),U5f.a0T(t9d,D9d,s9d,U5f.h0T(5)));}U5f.h0T(2);X9d.lineTo(U5f.a0T(H9d,e9d),U5f.H0T(2,s9d,t9d,U5f.h0T(23)));if(this.stemEntry == "lm"){X9d.lineTo(U9d,l9d);}U5f.h0T(2);X9d.lineTo(U5f.H0T(H9d,e9d),U5f.a0T(t9d,s9d,2,U5f.F0T(22)));U5f.h0T(2);X9d.lineTo(U5f.H0T(H9d,e9d),U5f.a0T(s9d,D9d,t9d,U5f.F0T(1)));if(this.stemEntry != q9z){U5f.h0T(2);X9d.quadraticCurveTo(U5f.H0T(H9d,e9d),U5f.a0T(D9d,t9d,U5f.F0T(2)),U5f.a0T(s9d,H9d,e9d,U5f.h0T(1)),U5f.H0T(D9d,t9d,U5f.h0T(2)));;}else {X9d.lineTo(U9d,l9d);U5f.h0T(1);X9d.lineTo(U5f.a0T(s9d,H9d,e9d),U5f.H0T(D9d,t9d,U5f.F0T(2)));}U5f.F0T(22);X9d.lineTo(U5f.H0T(e9d,s9d,2),U5f.H0T(D9d,t9d,U5f.F0T(2)));if(this.stemEntry == N9z){X9d.lineTo(U9d,l9d);}U5f.h0T(25);X9d.lineTo(U5f.a0T(e9d,"2",s9d),U5f.H0T(D9d,t9d,U5f.h0T(2)));U5f.F0T(5);X9d.lineTo(U5f.a0T(e9d,H9d,s9d),U5f.H0T(D9d,t9d,U5f.h0T(2)));X9d.fill();X9d.globalAlpha=1;if(this.pattern != "none"){X9d.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",X9d);}else {X9d.fillStyle=B9d;}t9d+=this.padding;if(!this.ta){for(var f6d=0;f6d < this.arr.length;f6d++){X9d.fillText(this.arr[f6d],e9d - H9d + this.padding,t9d - D9d);t9d+=this.fontSize;}}X9d.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){Q6d=this.highlighted == "p0"?! ![]:! !0;v5J=2045726597;g5J=- +"1080833562";r3J=2;for(var S3J=1;U5f.z5J(S3J.toString(),S3J.toString().length,69779) !== v5J;S3J++){this.littleCircle(X9d,U9d,l9d,Q6d);r3J+=2;}if(U5f.z5J(r3J.toString(),r3J.toString().length,44998) !== g5J){this.littleCircle(X9d,U9d,l9d,Q6d);}};};Q7I.Drawing.callout.prototype.click=function(m6d,S6d,T6d){var V6d;if(this.stx.overXAxis || this.stx.overYAxis){return;}V6d=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,S6d,T6d,V6d.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !1;this.adjust();return !"1";}this.adjust();this.edit(m6d);this.penDown=! !"";return ! !0;};Q7I.Drawing.callout.prototype.reposition=function(K6d,G6d,Z6d,p6d){var z6d,g6d,M6d;if(!G6d){return;}z6d=this.stx.panels[this.panelName];g6d=G6d.tick - Z6d;M6d=G6d.value - p6d;if(G6d.stem){if(G6d.action == "drag"){this.stem={d:this.stx.dateFromTick(Z6d,z6d.chart,! !{}),v:p6d};}else if(G6d.action == "move"){this.setPoint(+"0",G6d.p0[0] - g6d,G6d.p0[1] - M6d,z6d.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(G6d.stem.d,z6d.chart) - g6d),v:G6d.stem.v - M6d};}this.adjust();}else {this.setPoint(0,G6d.p0[0] - g6d,G6d.p0[1] - M6d,z6d.chart);}this.render(K6d);};Q7I.Drawing.callout.prototype.lineIntersection=function(I6d,O6d,k6d,Y6d){var z9z,y6d,b6d,r6d,d6d,u6d,h6d,W6d,a6d,c6d,w6d,x6d,E6d;z9z="stri";z9z+="ng";y6d=this.stx.panels[this.panelName];U5f.E6f();b6d=this.stem;r6d=this.p0;d6d=this.stx;if(!r6d || !b6d || !y6d){return !"1";}u6d=b6d.t || this.stx.tickFromDate(b6d.d,y6d.chart);h6d={x0:r6d[0],x1:u6d,y0:r6d["1" | 1],y1:b6d.v};W6d=Q7I.convertBoxToPixels(d6d,this.panelName,h6d);a6d=W6d.x0;c6d=W6d.y0;w6d=W6d.x1;x6d=W6d.y1;if(typeof this.stemEntry == z9z){if(this.stemEntry.indexOf("l") > -1){a6d-=this.w / 2;}else if(this.stemEntry.indexOf((8340,3510) >= 625.66?"r":("p",!"")) > - +"1"){a6d+=this.w / 2;}if(this.stemEntry.indexOf((9285,9400) > 6660?"t":2656 !== +"650.49"?"B":0x15bd) > -1){c6d-=this.h / +"2";}else if(this.stemEntry.indexOf(341.24 >= (9921,"946.75" - 0)?280.97:(271,"236.25" - 0) >= (318,4795)?4810 != (7470,5260)?(482.88,0x12c8):17.41:"b") > -1){c6d+=this.h / 2;}}E6d=Q7I.convertBoxToPixels(d6d,this.panelName,k6d);return Q7I.boxIntersects(E6d.x0,E6d.y0,E6d.x1,E6d.y1,a6d,c6d,w6d,x6d,Y6d);};Q7I.Drawing.callout.prototype.intersected=function(n6d,J6d,v6d){var o6d,F6d,j6d,X6d,t6d,e6d,D6d,H6d;o6d=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,v6d)){this.highlighted="p0";return {action:"drag",stem:! ![]};}F6d=this.stx.pixelFromTick(this.p0[0],o6d.chart) - this.w / 2;j6d=this.stx.pixelFromValueAdjusted(o6d,this.p0[0],this.p0[1]) - this.h / 2;X6d=F6d + this.w;t6d=j6d + this.h;if(this.stem && this.stem.x){F6d+=this.stem.x;X6d+=this.stem.x;j6d+=this.stem.y;t6d+=this.stem.y;}e6d=this.stx.pixelFromTick(n6d,o6d.chart);D6d=this.stx.pixelFromValueAdjusted(o6d,n6d,J6d);if(e6d + v6d.r >= F6d && e6d - v6d.r <= X6d && D6d + v6d.r >= j6d && D6d - v6d.r <= t6d){this.highlighted=! !1;return {p0:Q7I.clone(this.p0),tick:n6d,value:J6d};}U5f.E6f();H6d=this.lineIntersection(n6d,J6d,v6d,"segment");if(H6d){this.highlighted=! !{};return {action:"move",stem:Q7I.clone(this.stem),p0:Q7I.clone(this.p0),tick:n6d,value:J6d};}return null;};Q7I.Drawing.fibonacci=function(){var K9z;K9z="fibon";K9z+="acci";this.name="fibonacci";U5f.F6f();this.configurator=K9z;};Q7I.inheritsFrom(Q7I.Drawing.fibonacci,Q7I.Drawing.BaseTwoPoint);Q7I.Drawing.fibonacci.mapping={trend:(325.35,5349) <= 909.4?"h":"t",color:"c",parameters:"p",pattern:"pt",opacity:431 !== 6381?"o":1.42e+3,lineWidth:"lw",level:"l",extendLeft:341 !== 7050?"e":"97.47" * 1 !== (5010,636.37)?9.86e+3:"r",printLevels:"pl",printValues:"pv",timezone:h9z,display:"d"};U5f.F0T(14);Q7I.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,U5f.a0T("0",0),0.382,0.5,U5f.a0T(0,"0.618",U5f.F0T(2)),1,1.382,1.618];Q7I.Drawing.fibonacci.prototype.configs=["color",A9z,"lineWidth","pattern","parameters"];Q7I.Drawing.fibonacci.prototype.initializeSettings=function(P6d){var l6d,U6d;U5f.F6f();l6d=this.recommendedLevels;if(l6d && !P6d.currentVectorParameters.fibonacci.fibsAlreadySet){U6d=P6d.currentVectorParameters.fibonacci.fibs;for(var s6d=0;s6d < U6d.length;s6d++){delete U6d[s6d].display;for(var i6d=0;i6d < l6d.length;i6d++){if(U6d[s6d].level == l6d[i6d]){U6d[s6d].display=! !{};}}}}};Q7I.Drawing.fibonacci.prototype.setOuter=function(){var R6d,q6d,N3d,Q3d,V3d,m3d,S3d,G3d,z3d,A3d,C3d,B6d,L3d,T3d;R6d=this.stx;q6d=R6d.panels[this.panelName];if(!q6d){return;}N3d=Math.max(this.p0["1" >> 673292992],this.p1[1]);Q3d=Math.min(this.p0[1],this.p1[1]);U5f.F0T(2);V3d=U5f.H0T(Q3d,N3d);this.outer={p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1)};m3d=R6d.pixelFromValueAdjusted(q6d,this.p0[0],this.p0[1]);S3d=R6d.pixelFromValueAdjusted(q6d,this.p1[0],this.p1[+"1"]);G3d=R6d.pixelFromTick(this.p0[0],q6d.chart);z3d=R6d.pixelFromTick(this.p1[0],q6d.chart);A3d=0;C3d=1;for(var f3d=0;f3d < this.parameters.fibs.length;f3d++){B6d=this.parameters.fibs[f3d];if(B6d.level >= A3d && B6d.level <= C3d || !B6d.display)continue;L3d=R6d.pixelFromValueAdjusted(q6d,this.p0[0],S3d < m3d?N3d - V3d * B6d.level:Q3d + V3d * B6d.level);T3d=Q7I.xIntersection({x0:G3d,x1:z3d,y0:m3d,y1:S3d},L3d);if(B6d.level < A3d){A3d=B6d.level;this.outer.p1[1]=R6d.valueFromPixel(L3d,q6d);this.outer.p1[0]=R6d.tickFromPixel(T3d,q6d.chart);}else if(B6d.level > C3d){C3d=B6d.level;this.outer.p0[1]=R6d.valueFromPixel(L3d,q6d);this.outer.p0[0]=R6d.tickFromPixel(T3d,q6d.chart);}}};Q7I.Drawing.fibonacci.prototype.click=function(p3d,M3d,Z3d){var g3d;g3d=this.stx.panels[this.panelName];if(!g3d){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,M3d,Z3d,g3d.chart);this.penDown=!0;return !"1";}if(this.accidentalClick(M3d,Z3d)){return this.dragToDraw;}this.setPoint(1,M3d,Z3d,g3d.chart);this.setOuter();this.parameters=Q7I.clone(this.parameters);this.penDown=!"1";return ! ![];;};Q7I.Drawing.fibonacci.prototype.render=function(K3d){var Y9z,b3d,o3d,J3d,F3d,e3d,k3d,w3d,a3d,E3d,D3d,H3d,s3d,P3d,R3d,U3d,q3d,j3d,Y3d,X3d,I3d,x3d,W9z,M9z,X9z,o9z,d3d,W3d,v3d,u3d,r3d,T9z,B3d,O3d,h3d,c3d,l3d,y3d,i3d,l9z,C4d,f4d;Y9z="a";Y9z+="ut";Y9z+="o";b3d=this.stx.panels[this.panelName];if(!b3d){return;}o3d=b3d.yAxis;if(!this.p1){return;}J3d=Math.max(this.p0[1],this.p1[1]);F3d=Math.min(this.p0[1],this.p1[+"1"]);e3d=o3d.flipped?F3d - J3d:J3d - F3d;k3d=this.stx.pixelFromTick(this.p0[0],b3d.chart);w3d=this.stx.pixelFromTick(this.p1[0],b3d.chart);a3d=this.stx.pixelFromValueAdjusted(b3d,this.p0[0],this.p0[+"1"]);E3d=this.stx.pixelFromValueAdjusted(b3d,this.p1[0],this.p1[1]);D3d=Math.min(E3d,a3d);H3d=Math.max(E3d,a3d);U5f.h0T(2);s3d=U5f.a0T(D3d,H3d);U5f.h0T(26);P3d=U5f.H0T(E3d,0,k3d,w3d,a3d);R3d={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=R3d;}U3d=this.getLineColor(this.parameters.trend.color);K3d.textBaseline="middle";this.stx.canvasFont("stx_yaxis",K3d);q3d=K3d.measureText("161.8%").width + 10;j3d=Number.MAX_VALUE;Y3d=Number.MAX_VALUE;X3d=Number.MAX_VALUE * -("1" & 2147483647);I3d=Number.MAX_VALUE * -1;x3d=this.color;if(x3d == Y9z || Q7I.isTransparent(x3d)){x3d=this.stx.defaultColor;}this.rays=[];for(var t3d=+"0";t3d < this.parameters.fibs.length;t3d++){W9z="undefi";W9z+="ne";W9z+="d";M9z="a";M9z+="ut";M9z+="o";X9z="au";X9z+="to";o9z="l";o9z+="ef";o9z+="t";K3d.textAlign=o9z;K3d.fillStyle=x3d;d3d=this.parameters.fibs[t3d];if(!d3d.display)continue;W3d=this.stx.pixelFromValueAdjusted(b3d,this.p0[0],E3d < a3d?J3d - e3d * d3d.level:F3d + e3d * d3d.level);v3d=Q7I.xIntersection({x0:k3d,x1:w3d,y0:a3d,y1:E3d},W3d);u3d=this.parameters.extendLeft?0:v3d;r3d=b3d.left + b3d.width;if(this.parameters.printLevels){T9z="r";T9z+="i";T9z+="gh";T9z+="t";B3d=Math.round(d3d.level * 1000) / 10 + (6792 !== 971.41?"%":9680 === (+"4061",2497)?0x1a19:0xace);r3d-=q3d;if(this.parameters.printValues){K3d.fillStyle=x3d;this.stx.canvasFont("stx_yaxis",K3d);;}if(r3d < u3d){K3d.textAlign=T9z;}K3d.fillText(B3d,r3d,W3d);if(r3d < u3d){U5f.h0T(27);r3d+=U5f.a0T("5",1783729440);}else {r3d-=5;}}if(this.parameters.printValues){if(v3d < b3d.width){O3d=this.stx.transformedPriceFromPixel(W3d,b3d);if(o3d.priceFormatter){O3d=o3d.priceFormatter(this.stx,b3d,O3d);}else {O3d=this.stx.formatYAxisPrice(O3d,b3d);}if(K3d == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(b3d,O3d,W3d,x3d,null,K3d);if(K3d == this.stx.chart.context){this.stx.startClip(b3d.name);}}}h3d=d3d.color;if(h3d == X9z || Q7I.isTransparent(h3d)){h3d=this.color;}if(h3d == M9z || Q7I.isTransparent(h3d)){h3d=this.stx.defaultColor;}c3d=d3d.color;if(c3d == "auto" || Q7I.isTransparent(c3d)){c3d=this.fillColor;}if(c3d == "auto" || Q7I.isTransparent(c3d)){c3d=this.stx.defaultColor;}K3d.fillStyle=c3d;l3d=Q7I.clone(d3d.parameters);if(this.highlighted){l3d.opacity=1;}this.stx.plotLine(u3d,r3d,W3d,W3d,this.highlighted?U3d:h3d,"segment",K3d,b3d,l3d);this.rays.push([[u3d,W3d],[r3d,W3d]]);K3d.globalAlpha=0.05;K3d.beginPath();K3d.moveTo(r3d,W3d);K3d.lineTo(u3d,W3d);if(u3d){K3d.lineTo(w3d,E3d);}else {K3d.lineTo(u3d,E3d);}K3d.lineTo(r3d,E3d);if(typeof c3d != W9z){K3d.fill();}U5f.F0T(2);K3d.globalAlpha=U5f.a0T(0,"1");if(W3d < Y3d){j3d=v3d;Y3d=W3d;}if(W3d > I3d){X3d=v3d;I3d=W3d;}}for(var n3d=0;n3d <= 1;n3d++){y3d=P3d?H3d - s3d * n3d:D3d + s3d * n3d;y3d=Math.round(y3d);if(y3d < Y3d){j3d=Q7I.xIntersection({x0:k3d,x1:w3d,y0:a3d,y1:E3d},y3d);Y3d=y3d;}if(y3d > I3d){X3d=Q7I.xIntersection({x0:k3d,x1:w3d,y0:a3d,y1:E3d},y3d);I3d=y3d;}}i3d=Q7I.clone(this.parameters.trend.parameters);if(this.highlighted){i3d.opacity=1;}this.stx.plotLine(j3d,X3d,Y3d,I3d,U3d,"segment",K3d,b3d,i3d);if(this.highlighted){l9z="p";l9z+="0";C4d=this.highlighted == l9z?!0:!"1";f4d=this.highlighted == "p1"?!0:!{};this.littleCircle(K3d,k3d,a3d,C4d);this.littleCircle(K3d,w3d,E3d,f4d);}};Q7I.Drawing.fibonacci.prototype.reposition=function(V4d,L4d,m4d,S4d){if(!L4d){return;}U5f.F6f();Q7I.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};Q7I.Drawing.fibonacci.prototype.intersected=function(W4d,E4d,r4d){var z4d,g4d,M4d,Z4d,p4d,b4d;z4d=this.p0;g4d=this.p1;if(!z4d || !g4d){return null;}M4d={0:z4d,1:g4d};for(var T4d in M4d){if(this.pointIntersection(M4d[T4d][+"0"],M4d[T4d][1],r4d)){U5f.F0T(0);this.highlighted=U5f.a0T((7610,720.79) >= (+"610",2000)?684.86:(5843,8860) == +"1745"?("E",9.51e+2):"p",T4d);return {action:"drag",point:((+"3768",2537) == 1160?"f":(1346,6008) !== (8280,7782)?"p":546.88) + T4d};}}Z4d=this.outer;p4d=this.rays;b4d=Z4d && this.lineIntersection(W4d,E4d,r4d,"segment",Z4d.p0,Z4d.p1);if(!b4d){for(var G4d=0;G4d < p4d.length;G4d++){if(this.lineIntersection(W4d,E4d,r4d,"ray",p4d[G4d][0],p4d[G4d][1],! ![])){b4d=! !{};break;}}}if(b4d){this.highlighted=! !{};return {action:"move",p0:Q7I.clone(z4d),p1:Q7I.clone(g4d),tick:W4d,value:E4d};}U5f.F6f();return null;};Q7I.Drawing.fibonacci.prototype.reconstruct=function(u4d,a4d){a4d=Q7I.replaceFields(a4d,Q7I.reverseObject(Q7I.Drawing.fibonacci.mapping));this.stx=u4d;this.parameters=a4d.parameters;if(!this.parameters){this.parameters=Q7I.clone(this.stx.currentVectorParameters.fibonacci);}this.color=a4d.col;this.fillColor=a4d.fc;this.panelName=a4d.pnl;this.d0=a4d.d0;this.d1=a4d.d1;this.d2=a4d.d2;this.tzo0=a4d.tzo0;this.tzo1=a4d.tzo1;this.tzo2=a4d.tzo2;this.v0=a4d.v0;this.v1=a4d.v1;this.v2=a4d.v2;this.adjust();};Q7I.Drawing.fibonacci.prototype.adjust=function(){var h4d;h4d=this.stx.panels[this.panelName];if(!h4d){return;}this.setPoint(0,this.d0,this.v0,h4d.chart);this.setPoint(1,this.d1,this.v1,h4d.chart);this.setOuter();};Q7I.Drawing.fibonacci.prototype.serialize=function(){var w4d;U5f.E6f();w4d={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return Q7I.replaceFields(w4d,Q7I.Drawing.fibonacci.mapping);};Q7I.Drawing.retracement=function(){this.name="retracement";};Q7I.inheritsFrom(Q7I.Drawing.retracement,Q7I.Drawing.fibonacci);Q7I.Drawing.fibprojection=function(){var F9z;F9z="fibpr";F9z+="ojec";F9z+="tion";this.name=F9z;this.dragToDraw=!{};this.p2=null;};Q7I.inheritsFrom(Q7I.Drawing.fibprojection,Q7I.Drawing.fibonacci);U5f.h0T(27);Q7I.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,U5f.a0T("1",1304416992),1.272,+"1.618",+"2.618",4.236];Q7I.Drawing.fibprojection.prototype.click=function(n4d,Y4d,v4d){var x4d;x4d=this.stx.panels[this.panelName];if(!x4d){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,Y4d,v4d,x4d.chart);this.penDown=! ![];return ![];}if(this.accidentalClick(Y4d,v4d)){this.stx.undo();return !0;}if(this.p2 !== null){U5f.F0T(19);this.setPoint(U5f.a0T(2,"2"),this.p2[0],this.p2[1],x4d.chart);this.parameters=Q7I.clone(this.parameters);return ! !{};}this.setPoint(1,Y4d,v4d,x4d.chart);this.p2=[this.p1[0],this.p1[1]];return ![];;};Q7I.Drawing.fibprojection.prototype.render=function(o4d){var v9z,w9z,B9z,J4d,L5d,Q5d,l4d,P4d,q4d,R4d,B4d,D4d,V5d,A5d,m5d,H4d,U9z,n9z,d9z,U4d,F4d,S5d,t4d,j4d,T5d,i4d,e4d,X4d,N5d,f5d,g9z,G5d,z5d,g5d;v9z="se";v9z+="g";v9z+="men";v9z+="t";w9z="16";w9z+="1.";w9z+="8";w9z+="%";B9z="stx_";B9z+="yax";B9z+="is";J4d=this.stx.panels[this.panelName];if(!J4d){return;}L5d=J4d.yAxis;if(!this.p1){return;}Q5d=this.p1[+"1"] - this.p0[1];l4d=this.stx.pixelFromTick(this.p0[0],J4d.chart);P4d=this.stx.pixelFromTick(this.p1[0],J4d.chart);q4d=this.stx.pixelFromValueAdjusted(J4d,this.p0[0],this.p0[1]);R4d=this.stx.pixelFromValueAdjusted(J4d,this.p1[0],this.p1[1]);B4d=null;D4d=null;if(this.p2){B4d=this.stx.pixelFromTick(this.p2[0],J4d.chart);D4d=this.stx.pixelFromValueAdjusted(J4d,this.p2["0" - 0],this.p2[1]);}V5d={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=V5d;}A5d=this.getLineColor(this.parameters.trend.color);o4d.textBaseline="middle";this.stx.canvasFont(B9z,o4d);m5d=o4d.measureText(w9z).width + 10;H4d=this.color;if(H4d == "auto" || Q7I.isTransparent(H4d)){H4d=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var C5d=0;C5d < this.parameters.fibs.length;C5d++){U9z="a";U9z+="u";U9z+="t";U9z+="o";n9z="a";n9z+="ut";n9z+="o";d9z="le";d9z+="ft";o4d.textAlign=d9z;o4d.fillStyle=H4d;U4d=this.parameters.fibs[C5d];if(!U4d.display)continue;F4d=this.stx.pixelFromValueAdjusted(J4d,this.p2[0],this.p2[1] + Q5d * U4d.level);S5d=Q7I.xIntersection({x0:l4d,x1:P4d,y0:q4d,y1:R4d},F4d);t4d=this.parameters.extendLeft?0:l4d;j4d=J4d.left + J4d.width;if(this.parameters.printLevels){T5d=Math.round(U4d.level * 1000) / 10 + "%";j4d-=m5d;if(this.parameters.printValues){o4d.fillStyle=H4d;this.stx.canvasFont("stx_yaxis",o4d);;}if(j4d < t4d){o4d.textAlign="right";}o4d.fillText(T5d,j4d,F4d);if(j4d < t4d){j4d+=5;}else {j4d-=5;}}if(this.parameters.printValues){if(S5d < J4d.width){i4d=this.stx.transformedPriceFromPixel(F4d,J4d);if(L5d.priceFormatter){i4d=L5d.priceFormatter(this.stx,J4d,i4d);}else {i4d=this.stx.formatYAxisPrice(i4d,J4d);}if(o4d == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(J4d,i4d,F4d,H4d,null,o4d);if(o4d == this.stx.chart.context){this.stx.startClip(J4d.name);}}}e4d=U4d.color;if(e4d == n9z || Q7I.isTransparent(e4d)){e4d=this.color;}if(e4d == U9z || Q7I.isTransparent(e4d)){e4d=this.stx.defaultColor;}X4d=U4d.color;if(X4d == "auto" || Q7I.isTransparent(X4d)){X4d=this.fillColor;}if(X4d == "auto" || Q7I.isTransparent(X4d)){X4d=this.stx.defaultColor;}o4d.fillStyle=X4d;N5d=Q7I.clone(U4d.parameters);if(this.highlighted){N5d.opacity=1;}this.stx.plotLine(t4d,j4d,F4d,F4d,this.highlighted?A5d:e4d,"segment",o4d,J4d,N5d);this.rays.push([[t4d,F4d],[j4d,F4d]]);o4d.globalAlpha=+"0.05";o4d.beginPath();o4d.moveTo(j4d,F4d);o4d.lineTo(t4d,F4d);if(t4d){o4d.lineTo(l4d,D4d);}else {o4d.lineTo(t4d,D4d);}o4d.lineTo(j4d,D4d);if(typeof X4d != "undefined"){o4d.fill();}o4d.globalAlpha=1;}}f5d=Q7I.clone(this.parameters.trend.parameters);if(this.highlighted){f5d.opacity=1;}this.stx.plotLine(l4d,P4d,q4d,R4d,A5d,v9z,o4d,J4d,f5d);if(this.p2){this.stx.plotLine(P4d,B4d,R4d,D4d,A5d,"segment",o4d,J4d,f5d);}if(this.highlighted){g9z="p";g9z+="2";G5d=this.highlighted == "p0"?! ![]:!{};z5d=this.highlighted == "p1"?! !{}:![];g5d=this.highlighted == g9z?! !1:!"1";this.littleCircle(o4d,l4d,q4d,G5d);this.littleCircle(o4d,P4d,R4d,z5d);this.littleCircle(o4d,B4d,D4d,g5d);}};Q7I.Drawing.fibprojection.prototype.move=function(p5d,M5d,Z5d){U5f.E6f();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[M5d,Z5d];}else {this.p2=[M5d,Z5d];}this.render(p5d);};Q7I.Drawing.fibprojection.prototype.reposition=function(r5d,K5d,a5d,c5d){var r2z,b5d,W5d,E5d;r2z="m";U5f.F6f();r2z+="o";r2z+="v";r2z+="e";if(!K5d){return;}b5d=this.stx.panels[this.panelName];W5d=K5d.tick - a5d;E5d=K5d.value - c5d;if(K5d.action == r2z){this.setPoint(0,K5d.p0[0] - W5d,K5d.p0[1] - E5d,b5d.chart);this.setPoint(1,K5d.p1[0] - W5d,K5d.p1[1] - E5d,b5d.chart);this.setPoint(2,K5d.p2["0" >> 731197664] - W5d,K5d.p2[1] - E5d,b5d.chart);this.render(r5d);}else if(K5d.action == "drag"){this[K5d.point]=[a5d,c5d];this.setPoint(0,this.p0[0],this.p0[+"1"],b5d.chart);this.setPoint(1,this.p1[0],this.p1[1],b5d.chart);this.setPoint(+"2",this.p2[0],this.p2[1],b5d.chart);this.render(r5d);}};Q7I.Drawing.fibprojection.prototype.intersected=function(x5d,k5d,Y5d){var k2z,d5d,y5d,u5d,I5d,O5d,v5d;k2z="se";k2z+="gm";U5f.F6f();k2z+="ent";d5d=this.p0;y5d=this.p1;u5d=this.p2;if(!d5d || !y5d || !u5d){return null;}I5d={0:d5d,1:y5d,2:u5d};for(var h5d in I5d){if(this.pointIntersection(I5d[h5d][+"0"],I5d[h5d][+"1"],Y5d)){U5f.h0T(0);this.highlighted=U5f.a0T((200,782.41) > (2710,+"280")?"897.52" * 1 > (8340,632)?"p":"s":(0xa44,"x"),h5d);return {action:"drag",point:"p" + h5d};}}O5d=this.rays;v5d=this.lineIntersection(x5d,k5d,Y5d,k2z,d5d,y5d) || this.lineIntersection(x5d,k5d,Y5d,"segment",y5d,u5d);if(!v5d){for(var w5d=0;w5d < O5d.length;w5d++){if(this.lineIntersection(x5d,k5d,Y5d,"ray",O5d[w5d][0],O5d[w5d][1],! !"1")){v5d=! !{};break;}}}if(v5d){this.highlighted=! ![];return {action:"move",p0:Q7I.clone(d5d),p1:Q7I.clone(y5d),p2:Q7I.clone(u5d),tick:x5d,value:k5d};}return null;};Q7I.Drawing.fibprojection.prototype.adjust=function(){var n5d;n5d=this.stx.panels[this.panelName];if(!n5d){return;}this.setPoint(0,this.d0,this.v0,n5d.chart);this.setPoint(1,this.d1,this.v1,n5d.chart);this.setPoint(2,this.d2,this.v2,n5d.chart);};Q7I.Drawing.fibarc=function(){this.name="fibarc";;};Q7I.inheritsFrom(Q7I.Drawing.fibarc,Q7I.Drawing.fibonacci);U5f.h0T(2);Q7I.Drawing.fibarc.prototype.recommendedLevels=[U5f.a0T(0,"0.382"),0.5,0.618,1];Q7I.Drawing.fibarc.prototype.setOuter=function(){var o5d,J5d,F5d,X5d,t5d,j5d,e5d;o5d=this.stx.panels[this.panelName];if(!o5d){return;}this.outer={p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1)};J5d=this.stx.pixelFromValueAdjusted(o5d,this.p0[0],this.p0[1]);F5d=this.stx.pixelFromValueAdjusted(o5d,this.p1[0],this.p1[1]);X5d=this.stx.pixelFromTick(this.p0[0],o5d.chart);t5d=this.stx.pixelFromTick(this.p1[0],o5d.chart);U5f.F0T(28);j5d=U5f.a0T(F5d,2,J5d);e5d=Q7I.xIntersection({x0:X5d,x1:t5d,y0:J5d,y1:F5d},j5d);this.outer.p0[1]=this.stx.valueFromPixel(j5d,o5d);this.outer.p0[0]=this.stx.tickFromPixel(e5d,o5d.chart);};Q7I.Drawing.fibarc.prototype.intersected=function(l5d,q5d,H5d){var E2z,B5d,s5d,U5d,C7d,A7d,S2z,L7d,D5d,P5d,f7d,R5d;E2z="mo";E2z+="ve";B5d=this.stx.panels[this.panelName];if(!B5d){return;}s5d=this.p0;U5d=this.p1;C7d=this.outer;if(!s5d || !U5d){return null;}U5f.E6f();A7d={0:s5d,1:U5d};for(var i5d in A7d){if(this.pointIntersection(A7d[i5d][0],A7d[i5d][1],H5d)){U5f.h0T(0);this.highlighted=U5f.a0T("p",i5d);return {action:"drag",point:"p" + i5d};}}if(this.lineIntersection(l5d,q5d,H5d,"segment",C7d.p0,C7d.p1)){S2z="m";S2z+="ov";S2z+="e";this.highlighted=!"";return {action:S2z,p0:Q7I.clone(s5d),p1:Q7I.clone(U5d),tick:l5d,value:q5d};}L7d={x0:s5d[0],x1:U5d[+"0"],y0:s5d[1],y1:U5d[1]};D5d=Q7I.convertBoxToPixels(this.stx,this.panelName,L7d);P5d={x:Math.abs(Math.sqrt(2) * (D5d.x1 - D5d.x0)),y:Math.abs(Math.sqrt(2) * (D5d.y1 - D5d.y0))};f7d=this.stx.pixelFromTick(l5d,B5d.chart);R5d=this.stx.pixelFromValueAdjusted(B5d,l5d,q5d);if(f7d + H5d.r < D5d.x1 - P5d.x || f7d - H5d.r > D5d.x1 + P5d.x){return null;}if(R5d + H5d.r < D5d.y1 - P5d.y || R5d - H5d.r > D5d.y1 + P5d.y){return null;}if(D5d.y0 < D5d.y1 && R5d - H5d.r > D5d.y1){return null;}if(D5d.y0 > D5d.y1 && R5d + H5d.r < D5d.y1){return null;}this.highlighted=!0;return {action:E2z,p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:l5d,value:q5d};};Q7I.Drawing.fibarc.prototype.render=function(N7d){var s2z,j2z,Q7d,K7d,Z7d,S7d,g7d,m7d,W7d,E7d,r7d,z7d,L2z,C2z,V7d,y7d,a7d,p7d,d7d,y2z,u7d,M7d,T7d,G7d,c7d,h7d,w7d;s2z="a";s2z+="u";s2z+="t";s2z+="o";j2z="s";j2z+="tx_yax";j2z+="i";j2z+="s";Q7d=this.stx.panels[this.panelName];if(!Q7d){return;}K7d=Q7d.yAxis;if(!this.p1){return;}Z7d=this.stx.pixelFromTick(this.p0[0],Q7d.chart);S7d=this.stx.pixelFromTick(this.p1[0],Q7d.chart);g7d=this.stx.pixelFromValueAdjusted(Q7d,this.p0[0],this.p0["1" >> 2024444704]);m7d=this.stx.pixelFromValueAdjusted(Q7d,this.p1[0],this.p1[1]);U5f.F0T(29);W7d=U5f.H0T(m7d,g7d);U5f.h0T(30);E7d=Math.abs(U5f.a0T(S7d,m7d,g7d,Z7d));r7d=this.getLineColor(this.parameters.trend.color);N7d.textBaseline="middle";this.stx.canvasFont(j2z,N7d);z7d=this.color;if(z7d == s2z || Q7I.isTransparent(z7d)){z7d=this.stx.defaultColor;}for(var b7d=0;b7d < this.parameters.fibs.length;b7d++){L2z="a";L2z+="u";L2z+="t";L2z+="o";C2z="a";C2z+="u";C2z+="t";C2z+="o";N7d.fillStyle=z7d;V7d=this.parameters.fibs[b7d];if(V7d.level < 0 || !V7d.display)continue;y7d=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * V7d.level;a7d=this.p1[1] + y7d * (W7d?-1:1) * (K7d.flipped?- +"1":+"1");p7d=this.stx.pixelFromValueAdjusted(Q7d,this.p0[+"0"],a7d);d7d=Q7I.xIntersection({x0:Z7d,x1:S7d,y0:g7d,y1:m7d},p7d);if(this.parameters.printLevels){y2z="ce";y2z+="nt";y2z+="er";N7d.textAlign=y2z;u7d=Math.round(V7d.level * 1000) / 10 + "%";if(this.parameters.printValues){N7d.fillStyle=z7d;this.stx.canvasFont("stx_yaxis",N7d);;}N7d.fillText(u7d,S7d,Math.round(p7d - 5));}N7d.textAlign="left";if(this.parameters.printValues){if(d7d < Q7d.width){M7d=a7d;if(K7d.priceFormatter){M7d=K7d.priceFormatter(this.stx,Q7d,M7d);}else {M7d=this.stx.formatYAxisPrice(M7d,Q7d);}if(N7d == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Q7d,M7d,p7d,z7d,null,N7d);if(N7d == this.stx.chart.context){this.stx.startClip(Q7d.name);}}}T7d=V7d.color;if(T7d == "auto" || Q7I.isTransparent(T7d)){T7d=this.color;}if(T7d == C2z || Q7I.isTransparent(T7d)){T7d=this.stx.defaultColor;}N7d.strokeStyle=this.highlight?r7d:T7d;G7d=V7d.color;if(G7d == L2z || Q7I.isTransparent(G7d)){G7d=this.fillColor;}if(G7d == "auto" || Q7I.isTransparent(G7d)){G7d=this.stx.defaultColor;}N7d.fillStyle=G7d;N7d.globalAlpha=this.highlighted?"1" ^ 0:V7d.parameters.opacity;N7d.lineWidth=V7d.parameters.lineWidth;if(N7d.setLineDash){N7d.setLineDash(Q7I.borderPatternToArray(N7d.lineWidth,V7d.parameters.pattern));N7d.lineDashOffset=0;;}N7d.save();N7d.beginPath();U5f.h0T(8);N7d.scale(U5f.a0T(1,E7d),U5f.H0T(0,"1",U5f.h0T(19)));U5f.h0T(21);N7d.arc(U5f.a0T(E7d,S7d),m7d,Math.abs(p7d - m7d),0,Math.PI,!W7d);if(this.pattern != "none"){N7d.stroke();}N7d.globalAlpha=+"0.05";N7d.fill();N7d.restore();if(N7d.setLineDash){N7d.setLineDash([]);}N7d.globalAlpha=1;}N7d.textAlign="left";c7d=Q7I.clone(this.parameters.trend.parameters);if(this.highlighted){U5f.h0T(19);c7d.opacity=U5f.a0T(1,"1");}U5f.F0T(31);this.stx.plotLine(S7d,U5f.a0T(Z7d,S7d,0,"2"),m7d,U5f.H0T(m7d,2,g7d,U5f.F0T(28)),r7d,"segment",N7d,Q7d,c7d);if(this.highlighted){h7d=this.highlighted == "p0"?! !1:! !0;w7d=this.highlighted == "p1"?! !{}:! !0;this.littleCircle(N7d,Z7d,g7d,h7d);this.littleCircle(N7d,S7d,m7d,w7d);}};Q7I.Drawing.fibfan=function(){this.name="fibfan";;};Q7I.inheritsFrom(Q7I.Drawing.fibfan,Q7I.Drawing.fibonacci);U5f.F0T(2);Q7I.Drawing.fibfan.prototype.recommendedLevels=[0,U5f.H0T(0,"0.382"),U5f.H0T(1,"0.5",U5f.h0T(21)),U5f.a0T(0,"0.618",U5f.h0T(2)),U5f.H0T("1",867808864,U5f.F0T(27))];Q7I.Drawing.fibfan.prototype.setOuter=function(){};Q7I.Drawing.fibfan.prototype.render=function(x7d){var Z2z,Y7d,R7d,k7d,n7d,I7d,e7d,q7d,B7d,A8d,f8d,L8d,H7d,s7d,U7d,F7d,c2z,j7d,v7d,l7d,O7d,X7d,N8d,e2z,D7d,o7d,J7d,C8d,t7d,Q8d,V8d;Z2z="m";Z2z+="id";Z2z+="dl";Z2z+="e";Y7d=this.stx.panels[this.panelName];if(!Y7d){return;}R7d=Y7d.yAxis;if(!this.p1){return;}k7d=this.stx.pixelFromTick(this.p0[+"0"],Y7d.chart);n7d=this.stx.pixelFromTick(this.p1[+"0"],Y7d.chart);I7d=this.stx.pixelFromValueAdjusted(Y7d,this.p0[0],this.p0[1]);e7d=this.stx.pixelFromValueAdjusted(Y7d,this.p1[0],this.p1[1]);q7d=Math.min(e7d,I7d);B7d=Math.max(e7d,I7d);U5f.h0T(2);A8d=U5f.a0T(q7d,B7d);U5f.h0T(26);f8d=U5f.H0T(e7d,0,k7d,n7d,I7d);L8d=this.getLineColor(this.parameters.trend.color);x7d.textBaseline=Z2z;this.stx.canvasFont("stx_yaxis",x7d);H7d=x7d.measureText("161.8%").width + 10;s7d=Number.MAX_VALUE;U5f.F6f();U7d=Number.MAX_VALUE * -1;F7d=this.color;if(F7d == "auto" || Q7I.isTransparent(F7d)){F7d=this.stx.defaultColor;}this.rays=[];for(var P7d=0;P7d < this.parameters.fibs.length;P7d++){c2z="aut";c2z+="o";x7d.fillStyle=F7d;j7d=this.parameters.fibs[P7d];if(!j7d.display)continue;v7d=this.stx.pixelFromValueAdjusted(Y7d,this.p0[0],(this.p0[+"1"] - this.p1["1" * 1]) * j7d.level + this.p1[1]);l7d=Q7I.xIntersection({x0:n7d,x1:n7d,y0:I7d,y1:e7d},v7d);O7d=Y7d.left;if(n7d > k7d){O7d+=Y7d.width;}U5f.F0T(32);X7d=U5f.H0T(O7d,l7d,v7d,k7d,k7d,I7d,I7d);if(k7d > O7d - (this.parameters.printLevels?H7d + 5:0) && n7d > k7d)continue;else if(k7d < O7d + (this.parameters.printLevels?H7d + 5:0) && n7d < k7d)continue;if(this.parameters.printLevels){N8d=Math.round(j7d.level * ("1000" & 2147483647)) / +"10" + ((2273,9906) >= (4540,7350)?"%":(0x8c1,0x9cf));if(n7d > k7d){O7d-=H7d;x7d.textAlign="left";}else {e2z="r";e2z+="i";e2z+="g";e2z+="ht";O7d+=H7d;x7d.textAlign=e2z;}if(this.parameters.printValues){x7d.fillStyle=F7d;this.stx.canvasFont("stx_yaxis",x7d);;}U5f.F0T(32);X7d=U5f.a0T(O7d,l7d,v7d,k7d,k7d,I7d,I7d);x7d.fillText(N8d,O7d,X7d);if(n7d > k7d){O7d-=5;}else {U5f.F0T(19);O7d+=U5f.a0T(5,"5");}}x7d.textAlign="left";if(this.parameters.printValues){if(l7d < Y7d.width){D7d=this.stx.transformedPriceFromPixel(v7d,Y7d);if(R7d.priceFormatter){D7d=R7d.priceFormatter(this.stx,Y7d,D7d);}else {D7d=this.stx.formatYAxisPrice(D7d,Y7d);}if(x7d == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Y7d,D7d,v7d,F7d,null,x7d);if(x7d == this.stx.chart.context){this.stx.startClip(Y7d.name);}}}o7d=j7d.color;if(o7d == "auto" || Q7I.isTransparent(o7d)){o7d=this.color;}if(o7d == "auto" || Q7I.isTransparent(o7d)){o7d=this.stx.defaultColor;}J7d=j7d.color;if(J7d == "auto" || Q7I.isTransparent(J7d)){J7d=this.fillColor;}if(J7d == c2z || Q7I.isTransparent(J7d)){J7d=this.stx.defaultColor;}x7d.fillStyle=J7d;if(this.parameters.printLevels){U5f.h0T(32);X7d=U5f.H0T(O7d,l7d,v7d,k7d,k7d,I7d,I7d);}C8d=Q7I.clone(j7d.parameters);if(this.highlighted){U5f.h0T(13);C8d.opacity=U5f.H0T("1",1344907616);}this.stx.plotLine(k7d,O7d,I7d,X7d,this.highlighted?L8d:o7d,"segment",x7d,Y7d,C8d);this.rays.push([[k7d,I7d],[O7d,X7d]]);x7d.globalAlpha=0.05;x7d.beginPath();x7d.moveTo(O7d,X7d);x7d.lineTo(k7d,I7d);x7d.lineTo(O7d,I7d);x7d.fill();x7d.globalAlpha=+"1";if(v7d < s7d){s7d=v7d;}if(v7d > U7d){U7d=v7d;}}for(var i7d=0;i7d <= 1;i7d++){t7d=f8d?B7d - A8d * i7d:q7d + A8d * i7d;t7d=Math.round(t7d);if(t7d < s7d){s7d=t7d;}if(t7d > U7d){U7d=t7d;}}if(this.highlighted){Q8d=this.highlighted == "p0"?! !{}:!1;V8d=this.highlighted == "p1"?! !{}:![];this.littleCircle(x7d,k7d,I7d,Q8d);this.littleCircle(x7d,n7d,e7d,V8d);}};Q7I.Drawing.fibtimezone=function(){var b8J,V8J,G8J;this.name="fibtimezone";b8J=548276275;V8J=-889090771;G8J=2;for(var H8J=1;U5f.K5J(H8J.toString(),H8J.toString().length,28667) !== b8J;H8J++){;G8J+=2;}U5f.F6f();if(U5f.K5J(G8J.toString(),G8J.toString().length,504) !== V8J){;}};Q7I.inheritsFrom(Q7I.Drawing.fibtimezone,Q7I.Drawing.fibonacci);Q7I.Drawing.fibtimezone.prototype.render=function(m8d){var m2z,J2z,x2z,S8d,T8d,M8d,E8d,r8d,b8d,a8d,u8d,c8d,K8d,G8d,y8d,Z8d,p8d,z8d,g8d,W8d,h8d,w8d,d8d;m2z="a";m2z+="u";m2z+="t";m2z+="o";J2z="a";J2z+="u";J2z+="t";J2z+="o";x2z="midd";x2z+="le";S8d=this.stx.panels[this.panelName];if(!S8d){return;}if(!this.p1){return;}T8d=this.stx.pixelFromTick(this.p0["0" & 2147483647],S8d.chart);M8d=this.stx.pixelFromTick(this.p1[0],S8d.chart);E8d=this.stx.pixelFromValueAdjusted(S8d,this.p0["0" | 0],this.p0[1]);r8d=this.stx.pixelFromValueAdjusted(S8d,this.p1[0],this.p1[1]);b8d=[1,0];a8d=this.getLineColor(this.parameters.trend.color);m8d.textBaseline=x2z;this.stx.canvasFont("stx_yaxis",m8d);u8d=+"20";c8d=this.p1[0] - this.p0[0];K8d=this.color;if(K8d == "auto" || Q7I.isTransparent(K8d)){K8d=this.stx.defaultColor;}m8d.textAlign="center";G8d=T8d;y8d=S8d.yAxis.top;Z8d=S8d.yAxis.bottom;p8d=0;z8d=this.parameters.timezone.color;if(z8d == J2z || Q7I.isTransparent(z8d)){z8d=this.color;}if(z8d == m2z || Q7I.isTransparent(z8d)){z8d=this.stx.defaultColor;}g8d=this.parameters.timezone.color;if(g8d == "auto" || Q7I.isTransparent(g8d)){g8d=this.fillColor;}if(g8d == "auto" || Q7I.isTransparent(g8d)){g8d=this.stx.defaultColor;}if(this.parameters.printLevels){U5f.F0T(33);Z8d-=U5f.a0T(u8d,"7");}W8d=Q7I.clone(this.parameters.timezone.parameters);if(this.highlighted){W8d.opacity=1;}do {G8d=this.stx.pixelFromTick(this.p0[0] + p8d * c8d,S8d.chart);if(T8d < M8d && G8d > S8d.left + S8d.width)break;else if(T8d > M8d && G8d < S8d.left)break;if(this.parameters.printLevels){m8d.fillStyle=K8d;m8d.fillText(M8d > T8d?p8d:p8d * -1,G8d,Z8d + 7);}m8d.fillStyle=g8d;this.stx.plotLine(G8d,G8d,0,Z8d,this.highlighted?a8d:z8d,"segment",m8d,S8d,W8d);U5f.h0T(2);m8d.globalAlpha=U5f.H0T(0,"0.05");m8d.beginPath();m8d.moveTo(T8d,y8d);m8d.lineTo(G8d,y8d);m8d.lineTo(G8d,Z8d);m8d.lineTo(T8d,Z8d);m8d.fill();m8d.globalAlpha=1;p8d=b8d[0] + b8d[1];b8d.unshift(p8d);}while(c8d);m8d.textAlign="left";this.stx.plotLine(T8d,M8d,E8d,r8d,a8d,"segment",m8d,S8d,W8d);if(this.highlighted){h8d=this.highlighted == "p0"?! ![]:!{};w8d=this.highlighted == "p1"?!"":!{};this.littleCircle(m8d,T8d,E8d,h8d);this.littleCircle(m8d,M8d,r8d,w8d);}else {d8d=this.stx.valueFromPixel(S8d.height / 2,S8d);U5f.F0T(14);this.setPoint(U5f.a0T("0",0),this.p0[0],d8d,S8d.chart);this.setPoint(1,this.p1["0" & 2147483647],d8d,S8d.chart);}};Q7I.Drawing.fibtimezone.prototype.intersected=function(v8d,n8d,Y8d){var x8d,I8d,o8d,O8d,J8d;x8d=this.p0;I8d=this.p1;o8d=this.stx.panels[this.panelName];if(!x8d || !I8d || !o8d){return null;}O8d={0:x8d,1:I8d};for(var k8d in O8d){if(this.pointIntersection(O8d[k8d][0],O8d[k8d][+"1"],Y8d)){U5f.h0T(0);this.highlighted=U5f.H0T("1710" << 271774272 === 2220?("764.46" - 0,+"697.13"):"p",k8d);return {action:"drag",point:"p" + k8d};}}J8d=this.lineIntersection(v8d,n8d,Y8d,"segment");if(J8d || Y8d.x0 <= this.p0[0] && Y8d.x1 >= x8d[+"0"]){this.highlighted=!0;return {action:"move",p0:Q7I.clone(x8d),p1:Q7I.clone(I8d),tick:v8d,value:n8d};}return null;};Q7I.Drawing.arrow_v0=function(){this.name="arrow";this.dimension=[+"11",11];U5f.F6f();this.points=[["M",3,+"0","L",7,0,(4552,8540) !== 3500?4697 >= (9416,437.75)?"L":(3694,4950) >= 20.42?! !1:3.03e+3:(5.06e+3,"0x8d" * 1),7,5,(352.42,600.99) === (256.74,6930)?203.58:"L",+"10",5,"L",5,10,(2717,258.46) !== 370?"L":(2.69e+3,! !"1"),0,5,3631 < (501,1930)?0x22d3:"L",3,5,394 > (5370,90.09)?"L":+"7436" >= (837.45,+"8710")?! ![]:!0,3,0]];};Q7I.inheritsFrom(Q7I.Drawing.arrow_v0,Q7I.Drawing.shape);Q7I.Drawing.xcross=function(){var f1J,T1J,X1J;this.name="xcross";this.dimension=[7,+"7"];f1J=+"287107185";T1J=-1822332017;X1J=2;for(var w1J=1;U5f.z5J(w1J.toString(),w1J.toString().length,44491) !== f1J;w1J++){U5f.h0T(21);this.points=[["L",3,1,8319 < (2412,+"565")?(684,4730) > 458855?"Z":8333 === (328026,+"168")?"L":(! !1,1752102):8234341,4,0,"Z",8,9,(+"56924",136651) < (6265,708510)?380032:"Z",+"7",2,6003 > 658?("8973674" ^ 0,! !{}):"L",8,1,"L",7,8,"Z",9,0,107191 !== 507898?(!1,"L"):(739766,298418) == 4138?"L":(+"2858",18807) >= "5513" >> 1152873184?3997642:(374553,758500),4,1,(6434,220304) < (+"5408",+"6938")?+"529704" < (6414,5899)?(! !"1",4017708):5708 != (5647,679284)?(2457128,"4682543" >> 1117797472):(0x357,297272):"Z",2,U5f.a0T(1,"2"),"L",5,6,"L",8,5,+"7652" >= 978452?4051421:"L",2,7,"L",5,1]];;X1J+=2;}if(U5f.z5J(X1J.toString(),X1J.toString().length,48672) !== T1J){U5f.F0T(34);this.points=[["M",+"1",0,9220 >= (5110,220)?(562,2146) < 751.05?"l":7670 !== (938.44,320)?"L":(!{},9.28e+3):3.09e+3,+"3",2,"L",U5f.a0T(2147483647,"5"),0,(821.8,396.89) > (1217,933.43)?811.77:"L",6,1,6398 <= 422?(2.99e+3,![]):"L",4,3,"L",6,5,"L",5,6,769.92 == 136.18?(!0,"Z"):(241.73,522.59) != 1041?"L":(9030,+"791.2") <= 8754?5.05e+3:(467.48,823.01),U5f.H0T("3",0,U5f.F0T(14)),4,(4893,+"692.87") > (7938,"3468" << 195073984)?973.11 >= ("2750" ^ 0,1180)?(!{},8.55e+3):8160 == (5610,785.08)?(7.12e+3,5.38e+3):(0xecb,941.27):"L",1,6,"L",+"0",+"5","L",2,3,+"5460" <= 471.43?8.59e+3:"L",0,1,"L",1,0]];;}};Q7I.inheritsFrom(Q7I.Drawing.xcross,Q7I.Drawing.shape);Q7I.Drawing.check=function(){var p2z;p2z="che";U5f.E6f();p2z+="c";p2z+="k";this.name=p2z;this.dimension=[8,9];U5f.h0T(13);this.points=[["M",1,5,"L",0,6,(973.31,609.15) == (5981,6720)?! ![]:"L",2,8,"L",U5f.a0T("7",956307744),1,"2890" * 1 >= 2840?"L":(8.47e+3,0xf86),6,U5f.H0T(2147483647,"0",U5f.h0T(34)),"L",2,6,"L",1,5]];;};Q7I.inheritsFrom(Q7I.Drawing.check,Q7I.Drawing.shape);Q7I.Drawing.star=function(){var a2z;a2z="s";a2z+="ta";a2z+="r";this.name=a2z;this.dimension=[12,12];U5f.F0T(21);this.points=[[662 < (638.03,254.9)?! !"":(7380,715.25) === (56,7382)?![]:1280 <= 91?(!{},"o"):"M",0,4,"L",4,4,(674.59,5010) > (+"905.53",6682)?(3550,+"6630") <= (764.56,5870)?("z",0x79):("H",!{}):"L",5.5,+"0",(233.32,+"447.16") == (4720,418.95)?(0x517,+"41.83"):(464,371) <= (7894,1010)?6460 !== (4560,1540)?"L":7.65e+3:"J",7,4,"L",11,4,2780 > (643.88,"462.59" - 0)?8847 >= (7350,556.26)?9130 < (8295,8510)?(![],295.18):"L":0x1b2f:6.00e+3,+"8",7,596.58 > 785?"G":"L",9,11,("6663" ^ 0,9580) <= (988.52,2968)?("M",! !"1"):"L",5.5,U5f.H0T(1,"9"),390.83 === 8540?("X",0x1f58):"L",2,11,"L",3,7,190.53 != 553.94?(2912,269.57) != (99,4510)?"L":(2.20e+3,123):(!0,278.08),0,4]];U5f.F6f();;};Q7I.inheritsFrom(Q7I.Drawing.star,Q7I.Drawing.shape);Q7I.Drawing.heart=function(){this.name="heart";this.dimension=[+"23",20];U5f.E6f();this.points=[[(719.41,2194) <= (4157,4926)?("1960" - 0,+"1460") >= 802.43?"M":("o",+"9.34e+3"):+"855.18",11,3,(3650,"2633" | 73) != (9304,8081)?"B":"4340" - 0 === (884.79,2827)?(0x1186,+"0xb13"):(323.92,8.65e+3),11,2.4,+"10",+"0",6,0,"B",0,0,0,7.5,0,7.5,512.11 < (+"9960",5178)?(7730,"9630" ^ 0) > (6750,88.94)?"B":(+"926.87",569.65):(0x338,"E"),0,11,4,15.4,11,19,1500 === (8660,"374.92" * 1)?(138.96,"x"):"B",18,15.4,22,11,22,7.5,("2178" >> 127157888,8069) < (35.25,7010)?5250 != ("2420" ^ 0,42.43)?422.45 !== ("4315" << 1464910720,3913)?("F","X"):![]:(0xb73,8.66e+3):"B",22,7.5,22,0,16,0,"B",13,0,11,2.4,11,3]];;};Q7I.inheritsFrom(Q7I.Drawing.heart,Q7I.Drawing.shape);Q7I.Drawing.focusarrow=function(){var D2z;D2z="focusarro";D2z+="w";this.name=D2z;U5f.F6f();this.dimension=[7,5];U5f.F0T(13);this.points=[["M",0,0,331.61 === (6557,904.73)?(0x1219,"P"):(9399,1021) < (4160,691.66)?78.90:(295.61,9780) > 828.58?"L":("T",! !0),U5f.a0T("2",1634088416),2,+"918.05" === ("9946" * 1,+"5000")?! !"1":"L",0,4,"L",0,0],["369.1" * 1 == 8560?6.53e+3:(8037,2303) <= 7701?"M":(3298,1970) >= 686.25?+"9.04e+3":("c",3.50e+2),6,0,"L",4,2,93.1 > 9262?(1.47e+3,46.83):"L",U5f.a0T(6,"6",U5f.F0T(19)),4,"L",6,0]];;};Q7I.inheritsFrom(Q7I.Drawing.focusarrow,Q7I.Drawing.shape);Q7I.Drawing.crossline=function(){U5f.F6f();this.name="crossline";};Q7I.inheritsFrom(Q7I.Drawing.crossline,Q7I.Drawing.horizontal);Q7I.extend(Q7I.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(F8d,j8d){U5f.E6f();return ![];},adjust:function(){var X8d;X8d=this.stx.panels[this.panelName];if(!X8d){return;}U5f.h0T(21);this.setPoint(U5f.a0T(1,"0"),this.d0,this.v0,X8d.chart);this.p1=Q7I.clone(this.p0);},intersected:function(e8d,D8d,H8d){var t8d;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;t8d=this.lineIntersection(e8d,D8d,H8d,"line");U5f.F6f();this.p1=Q7I.clone(this.p0);if(!t8d){this.p1[1]+=1;t8d=this.lineIntersection(e8d,D8d,H8d,"line");this.p1=Q7I.clone(this.p0);if(!t8d){return null;}}this.highlighted=!0;if(this.pointIntersection(this.p0[0],this.p0[+"1"],H8d)){this.highlighted="p0";}return {action:"move",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:e8d,value:D8d};},render:function(C0d){var I2z,s8d,i8d,P8d,q8d,f0d,l8d,U8d,R8d,N0d,B8d,A0d,R2z,Q0d;I2z="horiz";I2z+="ontal";s8d=this.stx.panels[this.panelName];if(!s8d){return;}i8d=this.stx.pixelFromTick(this.p0[0],s8d.chart);U5f.E6f();P8d=this.stx.pixelFromValueAdjusted(s8d,this.p0[0],this.p0[1]);q8d=this.getLineColor();f0d={pattern:this.pattern,lineWidth:this.lineWidth};U5f.h0T(35);this.stx.plotLine(i8d,U5f.a0T(i8d,"100"),P8d,P8d,q8d,I2z,C0d,s8d,f0d);U5f.h0T(0);this.stx.plotLine(i8d,i8d,P8d,U5f.a0T(P8d,100),q8d,"vertical",C0d,s8d,f0d);if(this.axisLabel && !this.repositioner){this.stx.endClip();l8d=this.p0[1];if(s8d.chart.transformFunc){l8d=s8d.chart.transformFunc(this.stx,s8d.chart,l8d);}if(s8d.yAxis.priceFormatter){l8d=s8d.yAxis.priceFormatter(this.stx,s8d,l8d);}else {l8d=this.stx.formatYAxisPrice(l8d,s8d);}this.stx.createYAxisLabel(s8d,l8d,P8d,q8d);this.stx.startClip(s8d.name);if(this.p0[+"0"] >= 0 && !this.stx.chart.xAxis.noDraw){U8d=this.stx.dateFromTick(this.p0[0],s8d.chart,! !{});if(!Q7I.ChartEngine.isDailyInterval(this.stx.layout.interval)){N0d=U8d.getSeconds() * 1000 + U8d.getMilliseconds();if(V7I.Date && this.stx.displayZone){R8d=new V7I.Date(U8d.getTime(),this.stx.displayZone);U8d=new Date(R8d.getFullYear(),R8d.getMonth(),R8d.getDate(),R8d.getHours(),R8d.getMinutes());U8d=new Date(U8d.getTime() + N0d);}}else {U8d.setHours(0,0,0,0);}B8d=Q7I.mmddhhmm(Q7I.yyyymmddhhmm(U8d));if(s8d.chart.xAxis.formatter){B8d=s8d.chart.xAxis.formatter(U8d,this.name,null,null,B8d);}else if(this.stx.internationalizer){if(U8d.getHours() !== 0 || U8d.getMinutes() !== 0){A0d=this.stx.internationalizer.monthDay.format(U8d);A0d+=(+"1400" !== (3430,706.84)?(3479,691.62) < 6250?" ":1830 === ("6620" | 6556,774.56)?("f",828.59):4.45e+3:1.71e+3) + this.stx.internationalizer.hourMinute.format(U8d);}else {A0d=this.stx.internationalizer.yearMonthDay.format(U8d);}B8d=A0d;}this.stx.endClip();this.stx.createXAxisLabel({panel:s8d,txt:B8d,x:i8d,backgroundColor:q8d,color:null,pointed:! !"1",padding:+"2"});this.stx.startClip(s8d.name);}}if(this.highlighted){R2z="p";R2z+="0";Q0d=this.highlighted == R2z?! !{}:!"1";this.littleCircle(C0d,i8d,P8d,Q0d);}}},!"");Q7I.Drawing.speedarc=function(){this.name="speedarc";U5f.E6f();this.printLevels=! !{};};Q7I.inheritsFrom(Q7I.Drawing.speedarc,Q7I.Drawing.segment);Q7I.extend(Q7I.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor","lineWidth",Q2z],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;U5f.F6f();this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(V0d,S0d,c0d){var p0d,y0d,u2z,K0d,W0d,E0d,r0d;if(!this.p0 || !this.p1){return null;}p0d={0:this.p0,1:this.p1};for(var g0d in p0d){if(this.pointIntersection(p0d[g0d][0],p0d[g0d][1],c0d)){U5f.h0T(0);this.highlighted=U5f.H0T(194.76 == 5534?("J",633.51):"p",g0d);return {action:"drag",point:(698.83 >= ("2293" | 2256)?(234,318.92):"p") + g0d};}}y0d=this.lineIntersection(V0d,S0d,c0d,this.name);if(y0d){u2z="m";u2z+="ove";this.highlighted=! !1;return {action:u2z,p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:V0d,value:S0d};}K0d=this.p1["0" << 439762912] - (this.p0[0] - this.p1[0]);W0d=this.p0[0];E0d=this.p1[1];r0d=this.p0[1];if(V0d > Math.max(K0d,W0d) || V0d < Math.min(K0d,W0d)){return null;}if(S0d > Math.max(r0d,E0d) || S0d < Math.min(r0d,E0d)){return null;}this.highlighted=! !{};return {action:"move",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:V0d,value:S0d};},render:function(d0d){var w0d,j0d,k0d,O0d,x0d,D0d,s0d,e0d,I0d,i0d,P0d,l0d,i2z,A9M,C9M,f9M,L9M;w0d=this.stx.panels[this.panelName];if(!w0d){return;}if(!this.p1){return;}j0d=this.stx.pixelFromTick(this.p0[0],w0d.chart);k0d=this.stx.pixelFromTick(this.p1[0],w0d.chart);O0d=this.stx.pixelFromValueAdjusted(w0d,this.p0[0],this.p0[1]);x0d=this.stx.pixelFromValueAdjusted(w0d,this.p1[0],this.p1["1" | 0]);U5f.F0T(29);D0d=U5f.H0T(x0d,O0d);U5f.h0T(30);U5f.F6f();s0d=Math.abs(U5f.a0T(k0d,x0d,O0d,j0d));e0d=this.getLineColor();d0d.strokeStyle=e0d;I0d=this.fillColor;if(I0d == "auto" || Q7I.isTransparent(I0d)){I0d=this.stx.defaultColor;}d0d.fillStyle=I0d;if(d0d.setLineDash){d0d.setLineDash(Q7I.borderPatternToArray(this.lineWidth,this.pattern));d0d.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",d0d);for(var v0d=1;v0d < 3;v0d++){i0d=Math.abs(this.p1[1] - this.p0[+"1"]) * Math.sqrt("2" - 0) * v0d / 3;P0d=this.p1[1] + i0d * (D0d?- +"1":1) * (w0d.yAxis.flipped?-1:1);l0d=this.stx.pixelFromValueAdjusted(w0d,this.p0[0],P0d);d0d.save();d0d.beginPath();U5f.F0T(36);d0d.scale(U5f.H0T("1",s0d,1533628064),1);U5f.F0T(21);d0d.arc(U5f.a0T(s0d,k0d),x0d,Math.abs(l0d - x0d),0,Math.PI,!D0d);d0d.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){d0d.stroke();}d0d.globalAlpha=0.1;d0d.fill();d0d.restore();d0d.globalAlpha=1;if(this.printLevels){i2z="c";i2z+="e";i2z+="n";i2z+="ter";d0d.fillStyle=e0d;d0d.textAlign=i2z;U5f.h0T(0);A9M=U5f.a0T(v0d,"/3");d0d.fillText(A9M,k0d,Math.round(l0d - 5));d0d.fillStyle=I0d;}}d0d.textAlign="left";C9M={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(j0d,k0d,O0d,x0d,e0d,"segment",d0d,w0d,C9M);if(d0d.setLineDash){d0d.setLineDash([]);}if(this.highlighted){f9M=this.highlighted == "p0"?!"":![];L9M=this.highlighted == "p1"?!0:![];this.littleCircle(d0d,j0d,O0d,f9M);this.littleCircle(d0d,k0d,x0d,L9M);}},reconstruct:function(Q9M,N9M){this.stx=Q9M;this.color=N9M.col;this.fillColor=N9M.fc;this.panelName=N9M.pnl;this.pattern=N9M.ptrn;this.lineWidth=N9M.lw;this.d0=N9M.d0;this.d1=N9M.d1;this.tzo0=N9M.tzo0;this.tzo1=N9M.tzo1;this.v0=N9M.v0;this.v1=N9M.v1;this.adjust();},serialize:function(){U5f.E6f();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !1);Q7I.Drawing.speedline=function(){this.name="speedline";U5f.E6f();this.printLevels=! ![];};Q7I.inheritsFrom(Q7I.Drawing.speedline,Q7I.Drawing.speedarc);Q7I.extend(Q7I.Drawing.speedline.prototype,{intersected:function(g9M,M9M,Z9M){var S9M,T9M,G9M,O2z,z9M,t2z;S9M=this.p0;T9M=this.p1;if(!S9M || !T9M){return null;}G9M={0:S9M,1:T9M};for(var V9M in G9M){if(this.pointIntersection(G9M[V9M][0],G9M[V9M][1],Z9M)){O2z="dra";O2z+="g";U5f.h0T(0);this.highlighted=U5f.H0T((6440,838.25) <= ("609.7" * 1,2364)?+"9403" == ("148" | 20,7598)?6.71e+3:"p":(7.73e+3,"0x1edc" >> 279531936),V9M);return {action:O2z,point:((1770,+"9020") == 6690?9.64e+3:110.91 > (9930,4815)?(773.63,358.07):"p") + V9M};}}z9M=this.rays;for(var m9M=0;m9M < z9M.length;m9M++){if(this.lineIntersection(g9M,M9M,Z9M,"ray",z9M[m9M][0],z9M[m9M][1],! ![])){t2z="mo";t2z+="ve";this.highlighted=! !1;return {action:t2z,p0:Q7I.clone(S9M),p1:Q7I.clone(T9M),tick:g9M,value:M9M};}}return null;},render:function(p9M){var f2z,r9M,K9M,W9M,b9M,a9M,n9M,d9M,h9M,o9M,J9M,F9M,O9M,v9M,E9M,V2z,c9M,u9M,k9M,y9M,x9M,Y9M,I9M,b2z,j9M,k8J,S8J,E8J,X9M;U5f.F6f();f2z="3";f2z+="/2";r9M=this.stx.panels[this.panelName];if(!r9M){return;}if(!this.p1){return;}K9M=this.stx.pixelFromTick(this.p0[0],r9M.chart);W9M=this.stx.pixelFromTick(this.p1[0],r9M.chart);b9M=this.stx.pixelFromValueAdjusted(r9M,this.p0[0],this.p0[1]);a9M=this.stx.pixelFromValueAdjusted(r9M,this.p1[0],this.p1["1" * 1]);this.stx.canvasFont("stx_yaxis",p9M);n9M=this.getLineColor();d9M=this.color;if(d9M == "auto" || Q7I.isTransparent(d9M)){d9M=this.stx.defaultColor;}p9M.strokeStyle=d9M;h9M=this.fillColor;if(h9M == "auto" || Q7I.isTransparent(h9M)){h9M=this.stx.defaultColor;}p9M.fillStyle=h9M;o9M={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};O9M=[(3905,+"1760") > (198.93,492.08)?"1":2180 == +"137.03"?(!1,"5.50e+3" ^ 0):797.17,"2/3","1/3",f2z,"3"];U5f.h0T(37);v9M=[1,U5f.H0T(3,"2",1475887424),U5f.a0T(1,3,U5f.F0T(8)),U5f.a0T(3,2,U5f.F0T(8)),+"3"];E9M=[];this.rays=[];for(var w9M=0;w9M < v9M.length;w9M++){V2z="seg";V2z+="ment";c9M=v9M[w9M];if(c9M > +"1" && !this.extension)continue;u9M=this.stx.pixelFromValueAdjusted(r9M,this.p0[0],this.p0["1" << 1774243136] - (this.p0[1] - this.p1[+"1"]) * c9M);if(c9M > 1){k9M=Q7I.xIntersection({x0:K9M,x1:W9M,y0:b9M,y1:u9M},a9M);E9M.push(k9M);}else {k9M=Q7I.xIntersection({x0:W9M,x1:W9M,y0:b9M,y1:a9M},u9M);E9M.push(u9M);}y9M=c9M > 1?k9M:W9M;x9M=c9M > 1?a9M:u9M;if(!this.confineToGrid){y9M=r9M.left;if(W9M > K9M){y9M+=r9M.width;}U5f.h0T(32);x9M=U5f.a0T(y9M,W9M,u9M,K9M,K9M,b9M,b9M);}if(this.printLevels){if(c9M != 1 || this.extension){p9M.fillStyle=d9M;Y9M=0;I9M=0;if(b9M > a9M){b2z="bo";b2z+="t";b2z+="to";b2z+="m";I9M=-5;p9M.textBaseline=b2z;}else {I9M=5;p9M.textBaseline="top";}if(K9M > W9M){Y9M=+"5";p9M.textAlign="right";}else {U5f.F0T(21);Y9M=-U5f.H0T(1,"5");p9M.textAlign="left";}if(c9M > 1){p9M.fillText(O9M[w9M],k9M + (this.confineToGrid?0:Y9M),a9M);}else {p9M.fillText(O9M[w9M],W9M,u9M + (this.confineToGrid?"0" | 0:I9M));}p9M.fillStyle=h9M;}}this.stx.plotLine(K9M,y9M,b9M,x9M,this.highlighted?n9M:d9M,V2z,p9M,r9M,o9M);if(c9M == 1){J9M=y9M;F9M=x9M;}this.rays.push([[K9M,b9M],[y9M,x9M]]);p9M.globalAlpha=+"0.1";p9M.beginPath();p9M.moveTo(y9M,x9M);p9M.lineTo(K9M,b9M);p9M.lineTo(J9M,F9M);p9M.fill();U5f.h0T(21);p9M.globalAlpha=U5f.H0T(1,"1");}p9M.textAlign="left";p9M.textBaseline="middle";if(this.confineToGrid){p9M.globalAlpha=0.3;p9M.beginPath();U5f.F0T(2);p9M.strokeRect(K9M,b9M,U5f.a0T(K9M,W9M),U5f.H0T(b9M,a9M));p9M.moveTo(K9M,E9M[+"1"]);p9M.lineTo(W9M,E9M[1]);p9M.moveTo(K9M,E9M[2]);p9M.lineTo(W9M,E9M[2]);if(this.extension){p9M.moveTo(E9M[3],b9M);p9M.lineTo(E9M[+"3"],a9M);p9M.moveTo(E9M[4],b9M);p9M.lineTo(E9M[4],a9M);}p9M.stroke();p9M.globalAlpha=1;}if(this.highlighted){j9M=this.highlighted == "p0"?! ![]:! !0;k8J=435369641;S8J=106585887;E8J=2;for(var s8J=1;U5f.K5J(s8J.toString(),s8J.toString().length,55335) !== k8J;s8J++){X9M=this.highlighted !== ""?!{}:! !1;this.littleCircle(p9M,K9M,b9M,j9M);E8J+=+"2";}if(U5f.K5J(E8J.toString(),E8J.toString().length,87139) !== S8J){X9M=this.highlighted == ""?! ![]:!{};this.littleCircle(p9M,K9M,b9M,j9M);}X9M=this.highlighted == "p1"?! !"1":! !"";this.littleCircle(p9M,K9M,b9M,j9M);this.littleCircle(p9M,W9M,a9M,X9M);}}},! !"1");Q7I.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=! !{};};Q7I.inheritsFrom(Q7I.Drawing.gannfan,Q7I.Drawing.speedline);Q7I.extend(Q7I.Drawing.gannfan.prototype,{render:function(t9M){var q2z,G2z,H9M,e9M,s9M,D9M,R9M,N6M,U9M,P9M,Q6M,V6M,m6M,f6M,H2z,l9M,S6M,L6M,i9M,q9M,A6M,C6M,P2z,N2z,T6M,G6M;q2z="mi";q2z+="d";q2z+="d";q2z+="le";G2z="a";G2z+="uto";H9M=this.stx.panels[this.panelName];if(!H9M){return;}if(!this.p1){return;}e9M=this.stx.pixelFromTick(this.p0[0],H9M.chart);s9M=this.stx.pixelFromTick(this.p1[0],H9M.chart);D9M=this.stx.pixelFromValueAdjusted(H9M,this.p0["0" - 0],this.p0[1]);R9M=this.stx.pixelFromValueAdjusted(H9M,this.p1[0],this.p1["1" * 1]);this.stx.canvasFont("stx_yaxis",t9M);N6M=this.getLineColor();U9M=this.color;if(U9M == G2z || Q7I.isTransparent(U9M)){U9M=this.stx.defaultColor;}t9M.strokeStyle=U9M;P9M=this.fillColor;if(P9M == "auto" || Q7I.isTransparent(P9M)){P9M=this.stx.defaultColor;}t9M.fillStyle=P9M;Q6M={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};U5f.h0T(8);f6M=[+"1",2,3,+"4",+"8",U5f.a0T(1,2),U5f.a0T(1,3,U5f.F0T(8)),U5f.H0T(1803824384,1,"4",U5f.h0T(38)),U5f.a0T(1,8,U5f.F0T(8))];this.rays=[];for(var B9M=0;B9M < f6M.length;B9M++){H2z="s";H2z+="eg";H2z+="me";H2z+="nt";l9M=f6M[B9M];U5f.h0T(39);S6M=U5f.a0T(l9M,s9M,e9M,e9M);U5f.F0T(40);L6M=U5f.H0T(D9M,R9M,l9M,D9M);i9M=H9M.left;if(s9M > e9M){i9M+=H9M.width;}U5f.F0T(32);q9M=U5f.H0T(i9M,s9M,L6M,e9M,e9M,D9M,D9M);if(this.printLevels){t9M.fillStyle=U9M;A6M=0;C6M=0;if(D9M > R9M){C6M=+"5";t9M.textBaseline="top";}else {P2z="bot";P2z+="t";P2z+="om";C6M=-5;t9M.textBaseline=P2z;}if(e9M > s9M){A6M=5;t9M.textAlign="left";}else {A6M=-5;t9M.textAlign="right";}if(l9M > 1){U5f.F0T(0);t9M.fillText(U5f.H0T(l9M,"x1"),U5f.a0T(S6M,A6M),R9M);}else {U5f.h0T(23);t9M.fillText(U5f.a0T(l9M,1,"1x"),s9M,U5f.H0T(L6M,C6M,U5f.F0T(0)));}t9M.fillStyle=P9M;}this.stx.plotLine(e9M,i9M,D9M,q9M,this.highlighted?N6M:U9M,H2z,t9M,H9M,Q6M);this.rays.push([[e9M,D9M],[i9M,q9M]]);if(l9M == 1){V6M=i9M;m6M=q9M;}t9M.globalAlpha=0.1;t9M.beginPath();t9M.moveTo(i9M,q9M);t9M.lineTo(e9M,D9M);t9M.lineTo(V6M,m6M);t9M.fill();t9M.globalAlpha=1;}t9M.textAlign="left";t9M.textBaseline=q2z;if(this.highlighted){N2z="p";N2z+="1";T6M=this.highlighted == "p0"?! !1:! !0;G6M=this.highlighted == N2z?! !{}:![];this.littleCircle(t9M,e9M,D9M,T6M);this.littleCircle(t9M,s9M,R9M,G6M);}}},! !{});Q7I.Drawing.timecycle=function(){this.name="timecycle";U5f.E6f();this.printLevels=! ![];};Q7I.inheritsFrom(Q7I.Drawing.timecycle,Q7I.Drawing.speedarc);Q7I.extend(Q7I.Drawing.timecycle.prototype,{intersected:function(K6M,b6M,M6M){var z2z,z6M,Z6M,W6M,p6M,E6M;z2z="segmen";z2z+="t";z6M=this.p0;Z6M=this.p1;W6M=this.stx.panels[this.panelName];if(!z6M || !Z6M || !W6M){return null;}p6M={0:z6M,1:Z6M};for(var g6M in p6M){if(this.pointIntersection(p6M[g6M]["0" | 0],p6M[g6M][1],M6M)){U5f.h0T(0);this.highlighted=U5f.a0T("p",g6M);return {action:"drag",point:(("5110" ^ 0) === 699.36?(467.69,0x18e2):+"3713" != 5580?"p":(0x1b65,0x147e)) + g6M};}}E6M=this.lineIntersection(K6M,b6M,M6M,z2z);if(E6M || M6M.x0 <= this.p0["0" | 0] && M6M.x1 >= z6M[0]){this.highlighted=!"";return {action:"move",p0:Q7I.clone(z6M),p1:Q7I.clone(Z6M),tick:K6M,value:b6M};}return null;},render:function(r6M){var a6M,y6M,x6M,O6M,v6M,Y6M,n6M,X6M,o6M,c6M,J6M,h6M,w6M,k6M,F6M,d6M,I6M,t6M,e6M,D6M,j6M;a6M=this.stx.panels[this.panelName];if(!a6M){return;}if(!this.p1){return;}y6M=this.stx.pixelFromTick(this.p0["0" ^ 0],a6M.chart);x6M=this.stx.pixelFromTick(this.p1[0],a6M.chart);O6M=this.stx.pixelFromValueAdjusted(a6M,this.p0[0],this.p0[1]);v6M=this.stx.pixelFromValueAdjusted(a6M,this.p1["0" ^ 0],this.p1[1]);Y6M=0;n6M=this.getLineColor();r6M.textBaseline="middle";this.stx.canvasFont("stx_yaxis",r6M);X6M=20;o6M=this.p1[0] - this.p0[0];r6M.textAlign="center";c6M=y6M;J6M=a6M.yAxis.top;h6M=a6M.yAxis.bottom;w6M=this.color;if(w6M == "auto" || Q7I.isTransparent(w6M)){w6M=this.stx.defaultColor;}k6M=this.fillColor;if(k6M == "auto" || Q7I.isTransparent(k6M)){k6M=this.stx.defaultColor;}if(this.printLevels){U5f.F0T(41);h6M-=U5f.a0T(X6M,"7",822546912);}F6M={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};d6M=[];r6M.save();r6M.fillStyle=k6M;r6M.globalAlpha=0.05;do {c6M=this.stx.pixelFromTick(this.p0[0] + Y6M * o6M,a6M.chart);Y6M++;if(y6M < x6M && c6M > a6M.left + a6M.width)break;else if(y6M > x6M && c6M < a6M.left)break;else if(c6M < a6M.left || c6M > a6M.left + a6M.width)continue;r6M.beginPath();r6M.moveTo(y6M,J6M);r6M.lineTo(c6M,J6M);r6M.lineTo(c6M,h6M);r6M.lineTo(y6M,h6M);r6M.fill();d6M.push({c:Y6M,x:c6M});}while(o6M);r6M.globalAlpha=1;I6M=0;for(var u6M=+"0";u6M < d6M.length;u6M++){this.stx.plotLine(d6M[u6M].x,d6M[u6M].x,0,h6M,this.highlighted?n6M:w6M,"segment",r6M,a6M,F6M);if(this.printLevels){r6M.fillStyle=w6M;t6M=this.stx.chart.context.measureText(d6M[u6M].c).width + 3;if(t6M < this.stx.layout.candleWidth + I6M){r6M.fillText(d6M[u6M].c,d6M[u6M].x,h6M + "7" * 1);U5f.h0T(21);I6M=U5f.a0T(1,"0");}else {I6M+=this.stx.layout.candleWidth;}}}r6M.restore();r6M.textAlign="left";this.stx.plotLine(y6M,x6M,O6M,v6M,n6M,"segment",r6M,a6M,F6M);if(this.highlighted){e6M=this.highlighted == "p0"?! !{}:! !"";D6M=this.highlighted == "p1"?!"":!{};this.littleCircle(r6M,y6M,O6M,e6M);this.littleCircle(r6M,x6M,v6M,D6M);}else {j6M=this.stx.valueFromPixel(a6M.height / 2,a6M);U5f.F0T(13);this.setPoint(U5f.H0T("0",956436576),this.p0[0],j6M,a6M.chart);this.setPoint(1,this.p1[+"0"],j6M,a6M.chart);}}},!0);Q7I.Drawing.regression=function(){U5f.E6f();this.name="regression";};Q7I.inheritsFrom(Q7I.Drawing.regression,Q7I.Drawing.segment);Q7I.extend(Q7I.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1",K2z,"lineWidth1","pattern1","active2",h2z,"lineWidth2","pattern2","active3","color3","lineWidth3",A2z],copyConfig:function(s6M){var o2z,H6M,Q6J,t6J,b6J,Y2z;o2z="a";o2z+="uto";Q7I.Drawing.copyConfig(this,s6M);H6M=this.stx.currentVectorParameters;Q6J=-583694111;t6J=552296210;b6J=2;for(var P6J=1;U5f.K5J(P6J.toString(),P6J.toString().length,77567) !== Q6J;P6J++){Y2z="aut";Y2z+="o";this.active1=- +H6M.active1;this.active2=+ +H6M.active2;this.active3=~ +H6M.active3;this.color1=H6M.color1 && "auto";this.color2=H6M.color2 && Y2z;b6J+=+"2";}if(U5f.K5J(b6J.toString(),b6J.toString().length,95237) !== t6J){this.active1=! ~H6M.active1;this.active2=! -H6M.active2;this.active3=! !H6M.active3;this.color1=H6M.color1 || "auto";this.color2=H6M.color2 || "auto";}U5f.F6f();this.active1=! !H6M.active1;this.active2=! !H6M.active2;this.active3=! !H6M.active3;this.color1=H6M.color1 || "auto";this.color2=H6M.color2 || o2z;this.color3=H6M.color3 || "auto";this.lineWidth1=H6M.lineWidth1;this.lineWidth2=H6M.lineWidth2;this.lineWidth3=H6M.lineWidth3;this.pattern1=H6M.pattern1;this.pattern2=H6M.pattern2;this.pattern3=H6M.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(C1M,i6M,P6M){var l6M,U6M,R6M,q6M;if(i6M < 0){return;}this.copyConfig();l6M=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,i6M,P6M,l6M.chart);this.penDown=! !{};U6M=this.stx;this.field=U6M.highlightedDataSetField;if(!this.field && l6M != U6M.chart.panel){for(var B6M in U6M.chart.seriesRenderers){R6M=U6M.chart.seriesRenderers[B6M];if(R6M.params.panel == l6M.name){this.field=R6M.seriesParams[0].field;break;}}for(var A1M in U6M.layout.studies){q6M=U6M.layout.studies[A1M];if(q6M.panel == l6M.name){this.field=Object.keys(q6M.outputMap)[0];break;}}}return !"1";}if(this.accidentalClick(i6M,P6M)){return this.dragToDraw;}this.setPoint(1,i6M,P6M,l6M.chart);this.penDown=!{};return !0;;},getYValue:function(S1M){var N1M,Q1M,V1M,T1M,L1M,f1M,m1M,T2z;N1M=this.stx.chart.dataSet[S1M];U5f.F6f();Q1M=this.stx.chart.dataSet[S1M];if(!N1M){return null;}V1M=this.stx.panels[this.panelName];T1M=this.stx.getYAxisByField(V1M,this.field) || V1M.yAxis;if(this.stx.charts[V1M.name] && V1M.chart.transformFunc && T1M == V1M.yAxis){Q1M=N1M.transform;}if(!Q1M){return null;}L1M=null;f1M=null;m1M=this.stx.defaultPlotField || "Close";if(this.field){T2z="o";T2z+="bject";f1M=Q7I.existsInObjectChain(Q1M,this.field);if(!f1M){return null;}L1M=f1M=f1M.obj[f1M.member];if(N1M != Q1M){L1M=Q7I.existsInObjectChain(N1M,this.field);L1M=L1M.obj[L1M.member];}if(typeof f1M == T2z){f1M=f1M[m1M];L1M=L1M[m1M];}}else {f1M=Q1M[m1M];L1M=N1M[m1M];}return {transformed:f1M,untransformed:L1M};},render:function(b1M){var z1M,M1M,Z1M,w1M,W1M,x1M,E1M,c1M,n1M,o1M,J1M,F1M,y1M,k1M,G1M,p1M,j1M,X1M,d1M,u1M,t1M,h1M,Y1M,I1M,r1M,a1M,O1M,v1M,D1M,e1M,H1M,K1M,s1M,U1M;z1M=this.stx.panels[this.panelName];if(!z1M){return;}if(!this.p1){return;}if(this.p0[+"0"] < 0 || this.p1[0] < 0){return;}M1M=this.stx.pixelFromTick(this.p0[0],z1M.chart);Z1M=this.stx.pixelFromTick(this.p1[0],z1M.chart);if(M1M < z1M.left && Z1M < z1M.left){return;}if(M1M > z1M.right && Z1M > z1M.right){return;}w1M=this.stx.getYAxisByField(z1M,this.field);W1M=[];x1M=[];E1M=+"0";c1M=0;n1M=+"0";o1M=0;J1M=Math.min(this.p1[0],this.p0[0]);F1M=Math.max(this.p1[0],this.p0["0" | 0]) + 1;U5f.h0T(2);y1M=U5f.a0T(J1M,F1M);for(var g1M=J1M;g1M < F1M;g1M++){k1M=this.getYValue(g1M);if(k1M){W1M.push(k1M.transformed);x1M.push(k1M.untransformed);}}G1M=W1M.length;U5f.h0T(42);p1M=U5f.a0T(G1M,G1M,1,2);j1M=Math.pow(p1M,2);U5f.F0T(43);X1M=U5f.a0T(p1M,1,G1M,3,"2");for(g1M=0;g1M < G1M;g1M++){n1M+=G1M * W1M[g1M] - E1M;E1M+=W1M[g1M];o1M+=G1M * x1M[g1M] - c1M;c1M+=x1M[g1M];}U5f.F0T(44);d1M=U5f.H0T(E1M,G1M,n1M,X1M,G1M,j1M,p1M);U5f.E6f();U5f.h0T(45);u1M=U5f.H0T(E1M,G1M,d1M,p1M);U5f.F0T(44);t1M=U5f.a0T(c1M,G1M,o1M,X1M,G1M,j1M,p1M);U5f.h0T(45);h1M=U5f.a0T(c1M,G1M,d1M,p1M);if(this.p0["0" | 0] < this.p1["0" >> 15335360]){Y1M=u1M;U5f.F0T(46);I1M=U5f.a0T(u1M,d1M,y1M);this.p0[1]=h1M;U5f.F0T(2);this.p1[U5f.H0T(0,"1")]=U5f.H0T(h1M,t1M,y1M,U5f.h0T(46));}else {U5f.h0T(46);Y1M=U5f.a0T(u1M,d1M,y1M);I1M=u1M;U5f.F0T(46);this.p0[1]=U5f.a0T(h1M,t1M,y1M);this.p1[+"1"]=h1M;}r1M=this.stx.pixelFromTransformedValue(Y1M,z1M,w1M);a1M=this.stx.pixelFromTransformedValue(I1M,z1M,w1M);O1M=this.getLineColor();v1M={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(M1M,Z1M,r1M,a1M,O1M,"segment",b1M,z1M,v1M);U5f.h0T(33);this.stx.plotLine(M1M,M1M,U5f.H0T(r1M,"20"),U5f.H0T(r1M,"20",U5f.h0T(35)),O1M,"segment",b1M,z1M,v1M);U5f.F0T(2);this.stx.plotLine(Z1M,Z1M,U5f.H0T(20,a1M),U5f.H0T(a1M,20,U5f.F0T(0)),O1M,"segment",b1M,z1M,v1M);if(this.active1 || this.active2 || this.active3){U5f.h0T(8);D1M=U5f.H0T(E1M,G1M);e1M=0;for(g1M="0" >> 812305376;g1M < G1M;g1M++){e1M+=Math.pow(W1M[g1M] - D1M,2);}U5f.h0T(8);H1M=Math.sqrt(U5f.a0T(e1M,G1M));K1M={context:b1M,panel:z1M,points:{0:{x:M1M,v:Y1M},1:{x:Z1M,v:I1M}},stddev:H1M,yAxis:w1M};this.lines={};if(this.active1){this.renderStddev(1710 >= ("273.38" * 1,2951)?4160 > 607.81?(0x917,"8.00" & 2147483647):"n":"1",(241.41,792) == (2380,+"22.38")?"5970" >> 296975744 > (726.03,78)?"U":(7.68e+3,174.88):"p",K1M);this.renderStddev(2760 === (+"5400",1800)?202 !== (522.44,+"7564")?("u",!{}):"2.00e+2" & 2147483647:"1","n",K1M);}if(this.active2){this.renderStddev(("615.44" * 1,245.45) === (9838,291.13)?235.66:(7580,4334) <= (8920,210.15)?0x1553:"2",9570 === (4108,"5400" | 272)?0x1f25:+"878.93" <= 515.65?(0x1456,"V"):"p",K1M);this.renderStddev(("921" ^ 0) < 8088?("4720" | 4096) != (+"5059",3600)?"2":(960.6,5340) <= 913?"400.46" * 1:7.84e+3:!"1",4227 !== 6930?3540 === (9700,5580)?(864.85,931.96):"n":0x111f,K1M);}if(this.active3){this.renderStddev((401,191.56) == (788.53,+"5869")?(! !0,750.15):"3",("8430" ^ 0,537.62) == (1540,5050)?(+"5403",188.65) >= 792?(+"6.04e+3",3.49e+3):(2134,7855) <= (+"4740",481.36)?(![],0x19c1):7.04e+3:"p",K1M);this.renderStddev(367.86 <= (6000,318.44)?8.75e+3:"3","n",K1M);}}if(!this.highlighted){this.pixelX=[M1M,Z1M];this.pixelY=[r1M,a1M];}else {s1M=this.highlighted == "p0"?! ![]:!1;U1M=this.highlighted == "p1"?! ![]:![];this.littleCircle(b1M,M1M,r1M,s1M);this.littleCircle(b1M,Z1M,a1M,U1M);}},renderStddev:function(A3M,G3M,C3M){var W2z,M2z,X2z,V3M,z3M,g3M,M3M,f3M,m3M,S3M,N3M,Q3M,R1M,i1M,L3M,l1M,P1M,q1M,B1M,Z3M,p3M,T3M,K3M;W2z="l";W2z+="ineWidth";M2z="pat";M2z+="t";M2z+="er";M2z+="n";X2z="s";X2z+="t";X2z+="ddev";U5f.F0T(47);V3M=U5f.a0T(G3M,A3M,X2z);U5f.F0T(0);z3M=U5f.H0T("color",A3M);U5f.F0T(0);g3M=U5f.a0T(M2z,A3M);U5f.F0T(0);M3M=U5f.H0T(W2z,A3M);f3M=C3M.points;m3M=f3M[+"0"].v;S3M=f3M[1].v;N3M=C3M.stddev;Q3M=G3M === "n"?A3M * - +"1":A3M * 1;R1M=this.stx;i1M=C3M.panel;L3M=C3M.yAxis;l1M={name:V3M,color:this.getLineColor(this[z3M]),type:"segment",y0:R1M.pixelFromTransformedValue(m3M + N3M * Q3M,i1M,L3M),y1:R1M.pixelFromTransformedValue(S3M + N3M * Q3M,i1M,L3M),params:{pattern:this[g3M],lineWidth:this[M3M]}};if(this.lines){this.lines[V3M]=l1M;}P1M=C3M.context;q1M=f3M[0].x;B1M=f3M[1].x;R1M.plotLine(q1M,B1M,l1M.y0,l1M.y1,l1M.color,l1M.type,P1M,i1M,l1M.params);R1M.plotLine(q1M,q1M,l1M.y0 - 10,l1M.y0 + 10,l1M.color,l1M.type,P1M,i1M,l1M.params);R1M.plotLine(B1M,B1M,l1M.y1 - 10,l1M.y1 + 10,l1M.color,l1M.type,P1M,i1M,l1M.params);U5f.F0T(0);Z3M=U5f.H0T(A3M,(+"862.4",124.17) > (474.72,"2937" | 2864)?0x1264:"\u03c3");p3M=Math.max(q1M,B1M) + 5;T3M=q1M < B1M?l1M.y1:l1M.y0;P1M.fillStyle=l1M.color;P1M.save();P1M.textBaseline="middle";P1M.fillText(Z3M,p3M,T3M);P1M.restore();if(C3M.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(q1M >= i1M.chart.left && q1M <= i1M.chart.right || B1M >= i1M.chart.left && B1M <= i1M.chart.right){U5f.h0T(10);K3M=U5f.a0T(q1M < B1M?S3M:m3M,N3M,Q3M);R1M.endClip();R1M.createYAxisLabel(i1M,C3M.formatPrice(K3M,L3M),T3M,l1M.color,null,P1M,L3M);R1M.startClip(i1M.name);}}},intersected:function(E3M,r3M,u3M){var a3M,c3M,l2z,y3M,h3M,w3M,d3M,W3M,F2z;if(!this.pixelX || !this.pixelY){return null;}a3M=this.repositionIntersection(E3M,r3M);if(a3M){return a3M;}c3M={0:this.pixelX,1:this.pixelY};for(var b3M=0;b3M < 2;b3M++){if(this.pointIntersection(c3M["0" & 2147483647][b3M],c3M[1][b3M],u3M,! ![])){l2z="dr";l2z+="ag";U5f.h0T(0);this.highlighted=U5f.H0T((648.4,7455) > 68.07?"p":("K",8.53e+3),b3M);return {action:l2z,point:(("252.14" * 1,977.88) == 6571?8390 == (322,1120)?"U":7220 > 317.62?(488.81,"F"):(!0,"p"):"p") + b3M};}}y3M=this;U5f.F0T(14);h3M=this.pixelX[U5f.H0T("0",0)];w3M=this.pixelX[1];d3M=function(k3M){var Y3M,I3M;Y3M=[h3M,k3M.y0];I3M=[w3M,k3M.y1];return y3M.lineIntersection(E3M,r3M,u3M,y3M.name,Y3M,I3M,! !"1");};W3M=d3M({y0:this.pixelY[0],y1:this.pixelY[1]});if(!W3M && this.lines){for(var x3M in this.lines){if(d3M(this.lines[x3M])){W3M=! !1;break;}}}if(W3M){F2z="mov";F2z+="e";this.highlighted=!0;return {action:F2z,p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:E3M,value:r3M};}return null;},repositionIntersection:function(O3M,v3M){if(!this.p0 || !this.p1){return ![];}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! !{}){return {action:"move",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:O3M,value:v3M};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(D3M,H3M,X3M,t3M,o3M,J3M,e3M){var j3M,n3M,F3M;if(!e3M){U5f.h0T(0);console.log(U5f.a0T(t3M," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return ![];}if(!o3M){o3M=this.p0;}if(!J3M){J3M=this.p1;}if(!(o3M && J3M)){return ! !0;}j3M=this.stx;n3M=Q7I.convertBoxToPixels(j3M,this.panelName,X3M);if(n3M.x0 === undefined){return ![];}F3M={x0:o3M[0],x1:J3M[+"0"],y0:o3M["1" << 314324288],y1:J3M["1" >> 1272420096]};return Q7I.boxIntersects(n3M.x0,n3M.y0,n3M.x1,n3M.y1,F3M.x0,F3M.y0,F3M.x1,F3M.y1);},boxIntersection:function(U3M,l3M,s3M){if(s3M.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || s3M.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !"1";}if(!this.stx.repositioningDrawing && (s3M.cy1 < this.pixelY[0] || s3M.cy0 > this.pixelY[1])){return ! !0;}return ! !{};},reconstruct:function(P3M,i3M){this.stx=P3M;this.color=i3M.col;this.color1=i3M.col1;this.color2=i3M.col2;this.color3=i3M.col3;this.active1=i3M.dev1;this.active2=i3M.dev2;this.active3=i3M.dev3;this.panelName=i3M.pnl;this.pattern=i3M.ptrn;this.pattern1=i3M.ptrn1;this.pattern2=i3M.ptrn2;this.pattern3=i3M.ptrn3;this.lineWidth=i3M.lw;this.lineWidth1=i3M.lw1;this.lineWidth2=i3M.lw2;this.lineWidth3=i3M.lw3;this.d0=i3M.d0;this.d1=i3M.d1;this.tzo0=i3M.tzo0;this.tzo1=i3M.tzo1;this.field=i3M.fld;this.adjust();},serialize:function(){U5f.E6f();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");Q7I.Drawing.trendline=function(){U5f.E6f();this.name="trendline";};Q7I.inheritsFrom(Q7I.Drawing.trendline,Q7I.Drawing.segment);Q7I.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern",B2z];Q7I.Drawing.trendline.prototype.measure=function(){U5f.E6f();;};Q7I.Drawing.trendline.prototype.reconstruct=function(R3M,q3M){Q7I.Drawing.segment.prototype.reconstruct.call(this,R3M,q3M);U5f.F6f();this.callout=new Q7I.Drawing.callout();this.callout.reconstruct(R3M,q3M.callout);};Q7I.Drawing.trendline.prototype.serialize=function(){var B3M;B3M=Q7I.Drawing.segment.prototype.serialize.call(this);B3M.callout=this.callout.serialize();U5f.F6f();return B3M;};Q7I.Drawing.trendline.prototype.render=function(V4M){var w2z,A4M,M4M,L4M,N4M,C4M,f4M,m4M,Q4M,S4M,Z4M,T4M,p4M,K4M,G4M,z4M,g4M,b4M,W4M,d2z,E4M,r4M;w2z=" ";w2z+="(";A4M=this.stx.panels[this.panelName];if(!A4M){return;}Q7I.Drawing.segment.prototype.render.call(this,V4M);if(!this.callout){this.callout=new Q7I.Drawing.callout();M4M=Q7I.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,M4M);}this.callout.p0=Q7I.clone(this.p0);L4M=this.stx.pixelFromTick(this.p0[0],A4M.chart);N4M=this.stx.pixelFromTick(this.p1[0],A4M.chart);C4M=this.stx.pixelFromValueAdjusted(A4M,this.p0[0],this.p0[1]);f4M=this.stx.pixelFromValueAdjusted(A4M,this.p1[0],this.p1[+"1"]);if(!isFinite(C4M) || !isFinite(f4M)){return;}U5f.F0T(7);m4M=U5f.H0T(2,L4M,N4M);U5f.F6f();U5f.F0T(4);Q4M=U5f.a0T(f4M,"2",C4M);this.fontSize=Q7I.stripPX(this.font && this.font.size || +"13");S4M=this.callout.w * 1.2 + (this.callout.stemEntry[0] == "c"?"0" - 0:50);Z4M=Math.sqrt(Math.pow(N4M - L4M,2) + Math.pow(f4M - C4M,"2" | 0));T4M=S4M / (Z4M || S4M) * (this.p1[1] < this.p0[+"1"]?1:-("1" - 0));U5f.h0T(48);p4M=U5f.a0T(T4M,Q4M,f4M,m4M);U5f.h0T(49);K4M=U5f.a0T(Q4M,T4M,N4M,m4M);this.callout.p0[0]=this.stx.tickFromPixel(p4M,A4M.chart);this.callout.p0[1]=this.stx.priceFromPixel(K4M,A4M);this.callout.v0=this.callout.p0[1];this.callout.p1=Q7I.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!0;G4M=this.p1[1] - this.p0[1];this.callout.text="" + Number(G4M).toFixed(2) + (this.p0[1] === 0?"":w2z + Number(+"100" * G4M / this.p0[1]).toFixed(2) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[+"0"]) + " Bars";z4M=Math.floor((this.p0[+"0"] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < "20" * 1){b4M=this.stx.pixelFromTick(z4M,A4M.chart);U5f.F0T(50);W4M=U5f.H0T(C4M,L4M,N4M,L4M,C4M,f4M,b4M);g4M=this.stx.priceFromPixel(W4M,A4M) || Q4M;}else {g4M=this.stx.priceFromPixel(Q4M,A4M);}this.callout.stem={t:z4M,v:g4M};this.callout.renderText();this.callout.render(V4M);if(this.highlighted){d2z="p";d2z+="0";E4M=this.highlighted == d2z?! !1:![];r4M=this.highlighted == "p1"?!"":!1;this.littleCircle(V4M,L4M,C4M,E4M);this.littleCircle(V4M,N4M,f4M,r4M);}};Q7I.Drawing.trendline.prototype.lineIntersection=function(a4M,c4M,y4M,d4M){var n2z;n2z="segm";n2z+="e";n2z+="n";U5f.F6f();n2z+="t";return Q7I.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,a4M,c4M,y4M,n2z);};Q7I.Drawing.trendline.prototype.intersected=function(h4M,w4M,k4M){var x4M,u4M,J3J,m3J,p3J;if(!this.p0 || !this.p1){return null;}x4M=this.callout.intersected(h4M,w4M,k4M);u4M=Q7I.Drawing.segment.prototype.intersected.call(this,h4M,w4M,k4M);this.callout.highlighted=! !(x4M || u4M);if(u4M){return u4M;}else if(x4M){J3J=-1351747875;m3J=-1312855373;p3J=+"2";for(var D3J=1;U5f.z5J(D3J.toString(),D3J.toString().length,51697) !== J3J;D3J++){return {action:"",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:h4M,value:w4M};}if(U5f.K5J(p3J.toString(),p3J.toString().length,87589) !== m3J){return {action:"",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:h4M,value:w4M};}return {action:"move",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:h4M,value:w4M};}return null;};Q7I.Drawing.average=function(){this.name="average";};Q7I.inheritsFrom(Q7I.Drawing.average,Q7I.Drawing.regression);Q7I.extend(Q7I.Drawing.average.prototype,{configs:Q7I.Drawing.regression.prototype.configs.concat(U2z),measure:function(){var k7z,r7z,g2z,v2z,Y4M,O4M,n4M,o4M,v4M,I4M;if(this.p0 && this.p1){k7z=".mSticky";k7z+="Interior";r7z=".mMeas";r7z+="ure";g2z=" &si";g2z+="gma;";v2z="&ensp";v2z+=";";this.stx.setMeasure(0,! !0,this.p0[0],this.p1[0],!"",this.name);Y4M=[];O4M="";if(this.active1){Y4M.push("1");}if(this.active2){Y4M.push((+"9931",4350) === (3499,917.89)?(! !{},"8.57e+3" >> 852156160):(9830,686.64) <= 5170?"2":1.97e+3);}if(this.active3){Y4M.push("3");}if(Y4M.length){O4M=v2z + Y4M.join(", ") + g2z;}n4M=(this.stx.drawingContainer || document).querySelector(r7z);o4M=this.stx.controls.mSticky;v4M=o4M && o4M.querySelector(k7z);if(n4M){n4M.innerHTML+=O4M;}if(v4M){I4M=[];I4M.push(Q7I.capitalize(this.name));I4M.push(this.field || this.stx.defaultPlotField || "Close");I4M.push(v4M.innerHTML + O4M);v4M.innerHTML=I4M.join("<br>");}}},render:function(D4M){var S7z,J4M,j4M,X4M,l4M,t4M,B4M,A5M,m5M,C5M,R4M,e4M,s4M,i4M,U4M,F4M,P4M,q4M,f5M,N5M,H4M,E7z,Q5M,V5M;function L5M(S5M,T5M){if(T5M && T5M.priceFormatter){S5M=T5M.priceFormatter(t4M,J4M,S5M);}else {S5M=t4M.formatYAxisPrice(S5M,J4M,null,T5M);}return S5M;}S7z="s";S7z+="eg";S7z+="m";S7z+="ent";J4M=this.stx.panels[this.panelName];if(!J4M){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}j4M=this.stx.pixelFromTick(this.p0[0],J4M.chart);X4M=this.stx.pixelFromTick(this.p1[0],J4M.chart);if(j4M < J4M.left && X4M < J4M.left){return;}if(j4M > J4M.right && X4M > J4M.right){return;}l4M=this.stx.getYAxisByField(J4M,this.field);t4M=this.stx;B4M=Math.min(this.p1[+"0"],this.p0[0]);A5M=Math.max(this.p1[0],this.p0[0]) + 1;U5f.h0T(2);m5M=U5f.H0T(B4M,A5M);C5M=0;R4M=[];for(e4M=B4M;e4M < A5M;e4M++){s4M=this.getYValue(e4M);if(s4M !== null){C5M+=s4M.transformed;R4M.push(s4M);}}i4M=R4M.length;if(!i4M){return;}U5f.F0T(8);U4M=U5f.a0T(C5M,i4M);F4M=t4M.pixelFromTransformedValue(U4M,J4M,l4M);P4M=this.getLineColor();U5f.F6f();q4M={pattern:this.pattern,lineWidth:this.lineWidth};t4M.plotLine(j4M,X4M,F4M,F4M,P4M,"segment",D4M,J4M,q4M);U5f.F0T(2);t4M.plotLine(j4M,j4M,U5f.a0T(20,F4M),U5f.a0T(1173929248,F4M,"20",U5f.h0T(51)),P4M,S7z,D4M,J4M,q4M);U5f.h0T(2);t4M.plotLine(X4M,X4M,U5f.H0T(20,F4M),U5f.a0T(F4M,20,U5f.h0T(0)),P4M,"segment",D4M,J4M,q4M);if(this.axisLabel && !this.highlighted && !this.penDown){if(j4M >= J4M.chart.left && j4M <= J4M.chart.right || X4M >= J4M.chart.left && X4M <= J4M.chart.right){t4M.endClip();t4M.createYAxisLabel(J4M,L5M(U4M,l4M),F4M,P4M,null,D4M,l4M);t4M.startClip(J4M.name);}}if(this.active1 || this.active2 || this.active3){f5M=0;for(e4M=0;e4M < i4M;e4M++){s4M=R4M[e4M];f5M+=Math.pow(s4M.transformed - U4M,2);}U5f.h0T(8);N5M=Math.sqrt(U5f.a0T(f5M,i4M));H4M={context:D4M,formatPrice:L5M,panel:J4M,points:{0:{x:j4M,v:U4M},1:{x:X4M,v:U4M}},stddev:N5M,yAxis:l4M};this.lines={};if(this.active1){this.renderStddev((889,"806.4" - 0) != (2420,7949)?4330 > (7080,9721)?998.69:(2344,8240) >= (2425,465.1)?"1":"b":1.46e+3,"p",H4M);this.renderStddev((8860,601.66) >= 711.1?(+"0xc05",!{}):"1",1100 === (55.66,"4728" ^ 0)?(972.95,![]):(989.47,3970) != +"735"?"n":828.87 !== (9106,6.71)?!1:(702.46,"0x233e" | 274),H4M);}if(this.active2){this.renderStddev("348.53" * 1 <= (+"8380",+"8241")?8447 !== (274,3490)?"2":(!1,"A"):(58.27,"J"),1798 <= 399.15?(7.89,4923) > (9945,5836)?(942.21,! !1):(+"735.33",332.28) < (655.27,+"814.86")?(5.05,"2.32e+3" >> 1005590944):! !{}:"p",H4M);this.renderStddev("2",(514.48,3880) != 506.02?7510 >= (3910,5000)?9357 == +"610"?(0xfe3,6.52e+3):"n":("K","L"):"N",H4M);}if(this.active3){this.renderStddev(8420 < 605.38?22.98:"3",(557.04,+"3996") < (+"738.24",565.59)?("Q","B"):"p",H4M);this.renderStddev("3",6430 < 8048?"n":0x647,H4M);}}if(!this.highlighted){this.pixelX=[j4M,X4M];this.pixelY=[F4M,F4M];}else {E7z="p";E7z+="1";Q5M=this.highlighted == "p0"?! ![]:!{};V5M=this.highlighted == E7z?! !"1":! !"";this.littleCircle(D4M,j4M,F4M,Q5M);this.littleCircle(D4M,X4M,F4M,V5M);}},reconstruct:function(z5M,G5M){this.axisLabel=G5M.al;Q7I.Drawing.regression.prototype.reconstruct.call(this,z5M,G5M);},serialize:function(){U5f.E6f();var g5M;g5M=Q7I.Drawing.regression.prototype.serialize.call(this);g5M.al=this.axisLabel;return g5M;}},!"");Q7I.Drawing.quadrant=function(){U5f.E6f();var j7z;j7z="quadr";j7z+="ant";this.name=j7z;};Q7I.inheritsFrom(Q7I.Drawing.quadrant,Q7I.Drawing.regression);Q7I.extend(Q7I.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;U5f.E6f();this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(K5M){var L7z,s7z,Z5M,M5M,p5M,b5M,c5M,W5M,E5M,u5M,y5M,w5M,x5M,h5M,I5M,O5M,d5M,r5M,k5M,a5M,y7z,C7z,v5M,n5M;L7z="q";L7z+="u";L7z+="adrant";s7z="qu";s7z+="adran";s7z+="t";Z5M=this.stx;M5M=Z5M.panels[this.panelName];if(!M5M){return;}if(!this.p1){return;}p5M=Z5M.pixelFromTick(this.p0[0],M5M.chart);b5M=Z5M.pixelFromTick(this.p1["0" ^ 0],M5M.chart);if(p5M < M5M.left && b5M < M5M.left){return;}if(p5M > M5M.right && b5M > M5M.right){return;}c5M=this.stx.getYAxisByField(M5M,this.field);W5M=null;E5M=null;for(var Y5M=Math.min(this.p1["0" >> 1423313600],this.p0["0" & 2147483647]);Y5M <= Math.max(this.p1[0],this.p0[0]);Y5M++){u5M=this.getYValue(Y5M);if(u5M !== null){if(W5M === null || u5M.transformed > W5M){W5M=u5M.transformed;}if(E5M === null || u5M.transformed < E5M){E5M=u5M.transformed;}}}y5M=Z5M.pixelFromTransformedValue(W5M,M5M,c5M);U5f.F0T(52);w5M=Z5M.pixelFromTransformedValue(U5f.a0T(E5M,3,W5M,4),M5M,c5M);U5f.h0T(52);x5M=Z5M.pixelFromTransformedValue(U5f.a0T(E5M,2,W5M,3),M5M,c5M);U5f.F0T(7);h5M=Z5M.pixelFromTransformedValue(U5f.H0T(2,W5M,E5M),M5M,c5M);U5f.F0T(53);I5M=Z5M.pixelFromTransformedValue(U5f.a0T(W5M,3,E5M,0,"2"),M5M,c5M);U5f.F0T(54);O5M=Z5M.pixelFromTransformedValue(U5f.a0T(W5M,3,4,E5M),M5M,c5M);d5M=Z5M.pixelFromTransformedValue(E5M,M5M,c5M);U5f.h0T(21);this.p0[+"1"]=U5f.H0T(1,"0");U5f.h0T(21);this.p1[U5f.H0T(1,"1")]=!{};r5M=this.getLineColor();k5M=this.fillColor;if(k5M == "auto" || Q7I.isTransparent(k5M)){k5M=Z5M.defaultColor;}K5M.fillStyle=k5M;a5M={pattern:this.pattern,lineWidth:this.lineWidth};Z5M.plotLine(p5M,b5M,y5M,y5M,r5M,"segment",K5M,M5M,a5M);Z5M.plotLine(p5M,b5M,d5M,d5M,r5M,"segment",K5M,M5M,a5M);if(this.name == s7z){y7z="se";y7z+="gment";Z5M.plotLine(p5M,b5M,w5M,w5M,r5M,y7z,K5M,M5M,a5M);Z5M.plotLine(p5M,b5M,O5M,O5M,r5M,"segment",K5M,M5M,a5M);}else if(this.name == "tirone"){C7z="seg";C7z+="me";C7z+="n";C7z+="t";Z5M.plotLine(p5M,b5M,x5M,x5M,r5M,C7z,K5M,M5M,a5M);Z5M.plotLine(p5M,b5M,I5M,I5M,r5M,"segment",K5M,M5M,a5M);}Z5M.plotLine(p5M,p5M,y5M,d5M,r5M,"segment",K5M,M5M,a5M);Z5M.plotLine(b5M,b5M,y5M,d5M,r5M,"segment",K5M,M5M,a5M);Z5M.plotLine(p5M,b5M,h5M,h5M,r5M,"segment",K5M,M5M,Q7I.extend(a5M,{opacity:this.name == "tirone"?"0.2" * 1:1}));K5M.globalAlpha=0.1;K5M.beginPath();U5f.h0T(2);K5M.fillRect(p5M,y5M,U5f.H0T(p5M,b5M),U5f.a0T(y5M,d5M));if(this.name == L7z){U5f.h0T(2);K5M.fillRect(p5M,w5M,U5f.a0T(p5M,b5M),U5f.a0T(w5M,O5M));}else if(this.name == "tirone"){U5f.h0T(2);K5M.fillRect(p5M,x5M,U5f.a0T(p5M,b5M),U5f.H0T(x5M,I5M));}K5M.globalAlpha=1;if(!this.highlighted){this.pixelX=[p5M,b5M];this.pixelY=[y5M,d5M];if(M5M.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(h5M);}else {v5M=this.highlighted == "p0"?!0:![];n5M=this.highlighted == "p1"?! !{}:! !0;this.littleCircle(K5M,p5M,h5M,v5M);this.littleCircle(K5M,b5M,h5M,n5M);}},intersected:function(F5M,j5M,X5M){var J5M;if(!this.pixelX || !this.pixelY){return null;}J5M=this.repositionIntersection(F5M,j5M);if(J5M){return J5M;}for(var o5M=0;o5M < 2;o5M++){if(this.pointIntersection(this.pixelX[o5M],this.pixelY[2],X5M,! ![])){U5f.F0T(0);this.highlighted=U5f.a0T("p",o5M);return {action:"drag",point:(4259 != 8384?2600 === (7588,2787)?("3191" | 3126) < (670,7620)?![]:! !{}:"p":"g") + o5M};}}if(this.boxIntersection(null,null,X5M)){this.highlighted=!0;return {action:"move",p0:Q7I.clone(this.p0),p1:Q7I.clone(this.p1),tick:F5M,value:j5M};}return null;},reconstruct:function(e5M,t5M){this.stx=e5M;this.color=t5M.col;this.fillColor=t5M.fc;this.panelName=t5M.pnl;this.pattern=t5M.ptrn;this.lineWidth=t5M.lw;this.d0=t5M.d0;this.d1=t5M.d1;U5f.E6f();this.tzo0=t5M.tzo0;this.tzo1=t5M.tzo1;this.field=t5M.fld;this.adjust();},serialize:function(){U5f.F6f();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);Q7I.Drawing.tirone=function(){U5f.F6f();var O3J,t3J,f3J;O3J=-1396546752;t3J=1148402172;f3J=2;for(var V3J="1" & 2147483647;U5f.z5J(V3J.toString(),V3J.toString().length,"95296" | 13312) !== O3J;V3J++){this.name="";f3J+=2;}if(U5f.K5J(f3J.toString(),f3J.toString().length,39840) !== t3J){this.name="";}this.name="tirone";};Q7I.inheritsFrom(Q7I.Drawing.tirone,Q7I.Drawing.quadrant);Q7I.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=![];this.annotationPoints=[];this.edit=null;};Q7I.inheritsFrom(Q7I.Drawing.elliottwave,Q7I.Drawing.annotation);Q7I.Drawing.elliottwave.defaultTemplate={impulse:[+"979.54" >= (7109,6555)?(760,9634) === 969.54?3.44e+3:+"0x185b":"I","II",Z7z,"IV","V"],corrective:[(5919,801) === (8300,7914)?"0x25b0" & 2147483647:"A",(587.46,205) === (6280,900)?("6046" >> 1756659360,450.25) < 5520?(!1,0x10ad):+"0x11f9":"B","C"],decoration:"enclosed",showLines:! ![]};Q7I.Drawing.elliottwave.prototype.initializeSettings=function(D5M){U5f.F6f();D5M.currentVectorParameters.waveParameters=Q7I.clone(Q7I.Drawing.elliottwave.defaultTemplate);};Q7I.Drawing.elliottwave.prototype.configs=["color",e7z,c7z,"pattern","font","waveParameters"];Q7I.Drawing.elliottwave.prototype.$controls=[x7z,"cq-wave-parameters"];Q7I.Drawing.elliottwave.prototype.construct=function(H5M,U5M){var s5M;this.stx=H5M;this.panelName=U5M.name;s5M=H5M.currentVectorParameters;Object.assign(this,s5M.waveParameters);};Q7I.Drawing.elliottwave.prototype.serialize=function(){var i5M;i5M={};for(var l5M=+"0";l5M < this.points.length;l5M++){U5f.F0T(0);i5M[U5f.a0T((1394,415.53) != (270.03,"63" | 63)?6436 !== 950.68?"d":(4483,5531) >= 790.24?508.74:420.67:! !"",l5M)]=this[U5f.a0T(735.51 > 1907?(+"689.69",848.28) != ("1090" | 2)?(1570,64.19) == (4687,9325)?(5.73e+3,0x1c81):"x":"A":"d",l5M)];U5f.h0T(0);i5M[U5f.a0T("tzo",l5M)]=this[U5f.H0T("tzo",l5M)];U5f.F0T(0);i5M[U5f.a0T("v",l5M)]=this[U5f.a0T("v",l5M)];}i5M.annotations=this.annotationPoints.join((899,219.15) == +"816.86"?(777.76,"3210" ^ 0) === ("3095" ^ 0,954.81)?"0x1875" - 0:425 >= (7467,"665.28" - 0)?"C":(2.72e+3,0xaec):",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:Q7I.removeNullValues(Q7I.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}))},i5M);};Q7I.Drawing.elliottwave.prototype.reconstruct=function(R5M,P5M){var p7z,m7z,J7z;p7z="e";p7z+="nc";p7z+="losed";m7z="we";m7z+="i";m7z+="g";m7z+="ht";J7z="s";J7z+="ty";J7z+="le";this.stx=R5M;this.color=P5M.col;this.panelName=P5M.pnl;this.pattern=P5M.ptrn;this.lineWidth=P5M.lw;this.font=Q7I.replaceFields(P5M.fnt,{st:J7z,sz:"size",wt:m7z,fl:"family"});this.decoration=P5M.decor;this.showLines=P5M.show;this.dx=P5M.dx;this.dy=P5M.dy;U5f.F6f();this.trend=P5M.trend;this.annotationPoints=P5M.annotations.split(("7540" * 1,+"8511") === ("5892" | 0,314.16)?"553.51" - 0:2461 > 1084?",":"K");if(P5M.decor === p7z){this.calculateRadius(R5M.chart.tempCanvas.context);}this.maxSegments=P5M.mxSeg;this.reconstructPoints(P5M);this.adjust();};Q7I.Drawing.elliottwave.prototype.reconstructPoints=function(B5M){var A7M,C7M,f7M;A7M=this.stx.panels[this.panelName];if(!A7M){return;}for(var q5M=0;q5M < this.annotationPoints.length;q5M++){U5f.h0T(0);this[U5f.H0T((+"1176",6750) != 9410?(7406,5165) > 9494?7.63e+3:"d":"V",q5M)]=B5M[U5f.a0T("d",q5M)];U5f.h0T(0);this[U5f.a0T((3771,"189.15" * 1) <= (778,158.36)?("495.43" - 0,832) >= "622.06" * 1?693 < (295.9,832.13)?"f":(! !"",! !{}):("4.84e+3" << 1437116032,"447.99" * 1):"v",q5M)]=B5M[U5f.H0T("v",q5M)];U5f.F0T(0);this[U5f.a0T("tzo",q5M)]=B5M[U5f.a0T("tzo",q5M)];C7M=Q7I.strToDateTime(B5M["d" + q5M]);f7M=this.stx.tickFromDate(C7M,A7M.chart);this.points.push([f7M,B5M["v" + q5M]]);}};Q7I.Drawing.elliottwave.prototype.calculateRadius=function(V7M){var L7M,Q7M;this.getFontString();V7M.font=this.fontString;L7M=0;for(var N7M=0;N7M < this.annotationPoints.length;N7M++){Q7M=V7M.measureText(this.annotationPoints[N7M]).width;if(L7M < Q7M){L7M=Q7M;}}U5f.F6f();this.enclosedRadius=L7M;};Q7I.Drawing.elliottwave.prototype.check=function(G7M,g7M,m7M){var S7M,T7M;if(m7M === +"1" && this.points.length === "2" * 1){return ! !"1";}U5f.F0T(2);S7M=this.points[U5f.H0T(1,m7M)];function z7M(Z7M){U5f.E6f();for(var M7M=2;M7M < Z7M.length;M7M++){if(Math.sign(Z7M[M7M][1] - Z7M[M7M - 1][1]) == Math.sign(Z7M[M7M - 1][1] - Z7M[M7M - 2]["1" * 1])){return ![];}}return ! !"1";}if(S7M && G7M <= S7M[0]){return ![];}U5f.h0T(0);T7M=this.points[U5f.H0T(m7M,1)];if(T7M && G7M >= T7M[0]){return ! !0;}if(!z7M(this.points)){return !"1";}return !0;};Q7I.Drawing.elliottwave.prototype.move=function(p7M,K7M,b7M){this.copyConfig();this.points[this.lastPoint + 1]=[K7M,b7M];this.render(p7M);};Q7I.Drawing.elliottwave.prototype.adjust=function(){var E7M,r7M;E7M=this.stx.panels[this.panelName];U5f.E6f();if(!E7M){return;}for(var W7M="0" ^ 0;this.maxSegments + 1 > W7M;W7M++){U5f.F0T(0);r7M=this[U5f.H0T(777.54 !== 6130?"d":(+"96.43",3521) !== +"990.65"?(3200,"331.22" - 0) == (6961,52)?(159.14,"511.49" * 1):(0xa6,7.62e+3):161.89,W7M)];this.setPoint(W7M,r7M,this[((258.71,+"3") === (31,886.29)?("S",1.64):9591 != ("1549" & 2147483647,4940)?+"571.75" === "4414" - 0?("V",0x15fd):"v":+"81.71") + W7M],E7M.chart);this.points[W7M][0]=this.stx.tickFromDate(Q7I.strToDateTime(r7M),E7M.chart);U5f.h0T(0);this.points[W7M][1]=this[U5f.a0T("v",W7M)];}};Q7I.Drawing.elliottwave.prototype.click=function(d7M,a7M,c7M){var y7M;y7M=this.stx.panels[this.panelName];if(!y7M){return;}this.copyConfig();U5f.E6f();if(!this.penDown){this.setPoint(+"0",a7M,c7M,y7M.chart);this.points.push(this.p0);this.penDown=! !{};this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(d7M);}this.maxSegments=this.annotationPoints.length - 1;this.trend=1;return ! !"";}if(this.accidentalClick(a7M,c7M)){this.penDown=! !{};return ! !"";}if(this.check(a7M,c7M,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,a7M,c7M,y7M.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!{};return ! !1;}}return !{};};Q7I.Drawing.elliottwave.prototype.render=function(u7M){var w7M,e7M,i7M,P7M,R7M,D7M,H7M,k7M,Y7M,s7M,I7M,x7M,a7z,v7M,o7M,O7M,J7M,F7M,q7M,B7M,j7M,X7M,n7M,U7M,l7M,A2M,t7M;w7M=this.stx.panels[this.panelName];if(!w7M){return;}e7M=this.stx;i7M=this.annotationPoints;P7M=this.pattern?Q7I.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();u7M.font=this.fontString;u7M.textAlign="center";u7M.textBaseline="middle";u7M.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(u7M);}this.lastFontString=this.fontString;R7M=this.getLineColor();u7M.fillStyle=u7M.strokeStyle=R7M;u7M.save();u7M.setLineDash(P7M);D7M=this.dx;H7M=this.dy;k7M=this.points;Y7M=this.pts;s7M=!this.showLines && this.highlighted;I7M=k7M.length;if(this.penDown && this.segment){x7M=this.trend * (I7M % 2 - 0.5) < +"0";if(w7M.yAxis.flipped){x7M=!x7M;}this.drawDropZone(u7M,k7M[I7M - 2][1],this.stx.priceFromPixel(w7M.yAxis[x7M?"top":"bottom"]),k7M[I7M - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){a7z="b";a7z+="ot";a7z+="to";a7z+="m";v7M=parseInt(this.highlighted.substring(1,this.highlighted.length),10);x7M=this.trend * (v7M % 2 - 0.5) > "0" << 2056808928;U5f.F0T(2);o7M=k7M[U5f.H0T(1,v7M)];U5f.h0T(0);O7M=k7M[U5f.H0T(v7M,1)];J7M=v7M > 0?o7M[1]:O7M[1];if(O7M){J7M=Math[x7M?"max":"min"](J7M,O7M[1]);}if(w7M.yAxis.flipped){x7M=!x7M;}this.drawDropZone(u7M,J7M,this.stx.priceFromPixel(w7M.yAxis[x7M?"top":a7z]),o7M?o7M[0]:null,O7M?O7M[0]:null);}for(var h7M=0;h7M < I7M;h7M++){F7M=k7M[h7M];q7M=e7M.pixelFromTick(F7M[0],w7M.chart);B7M=e7M.pixelFromValueAdjusted(w7M,F7M[0],F7M[1]);Y7M[h7M]=[q7M,B7M];}h7M=0;if(this.showLines || s7M){u7M.beginPath();if(s7M){u7M.globalAlpha=0.3;}for(;h7M < Y7M.length;h7M++){u7M.lineTo(Y7M[h7M][0],Y7M[h7M][1]);}u7M.stroke();h7M=0;}u7M.restore();for(;h7M < I7M;h7M++){j7M=h7M % 2?D7M:-D7M;X7M=h7M % ("2" & 2147483647)?H7M:-H7M;j7M*=this.trend;X7M*=this.trend;if(w7M.yAxis.flipped){j7M*=-1;X7M*=-1;}n7M=Y7M[h7M];U7M=n7M[2]=n7M[0] + j7M;l7M=n7M[3]=n7M[1] + X7M;A2M=this.enclosedRadius || 8;t7M=i7M[h7M];if(this.decoration === "parentheses"){U5f.h0T(47);t7M=U5f.a0T((618,"51.99" - 0) <= 535.21?124 >= 2774?("o",0xe9):")":(+"0x1360",0x25d6),t7M,748 !== (562,605.61)?"(":("P",![]));}u7M.fillText(t7M,U7M,l7M);if(this.decoration === "enclosed"){u7M.beginPath();u7M.arc(U7M,l7M,A2M,0,2 * Math.PI,![]);u7M.stroke();}if(this.highlighted){u7M.save();this.littleCircle(u7M,this.pts[h7M][0],this.pts[h7M][1],this.highlighted === ((540.27,8830) !== 827.46?+"728" > +"4823"?(516.49,282.49):"p":!"1") + h7M);u7M.restore();}}};Q7I.Drawing.elliottwave.prototype.reposition=function(z2M,C2M,N2M,Q2M){var D7z,m2M,S2M,T2M,L2M,V2M,G2M;D7z="dr";D7z+="a";U5f.E6f();D7z+="g";if(!C2M){return;}m2M=this.stx.panels[this.panelName];S2M=C2M.tick - N2M;T2M=C2M.value - Q2M;if(C2M.action === "move"){for(var f2M=0;C2M.points.length > f2M;f2M++){L2M=C2M.points[f2M];this.setPoint(f2M,L2M[0] - S2M,L2M[1] - T2M,m2M.chart);this.points[f2M]=[L2M[0] - S2M,L2M[1] - T2M];}}if(C2M.action === D7z){V2M=C2M.point;G2M=this.points;G2M[V2M]=[N2M,Q2M];if(this.check(N2M,Q2M,V2M)){this.setPoint(V2M,N2M,Q2M,m2M.chart);;};}this.render(z2M);};Q7I.Drawing.elliottwave.prototype.intersected=function(Z2M,p2M,K2M){var b2M,R7z,M2M,I7z;if(!this.p0 || !this.p1){return null;}for(var g2M=0;this.points.length > g2M;g2M++){R7z="seg";R7z+="me";R7z+="nt";M2M=this.points[g2M];if(this.pointIntersection(M2M[0],M2M[1],K2M)){I7z="d";I7z+="r";I7z+="a";I7z+="g";U5f.F0T(0);this.highlighted=U5f.H0T((9777,6359) >= +"476.35"?(+"409.05",650) < ("3010" - 0,7632)?"p":(6.52e+3,9.28e+3):(! !{},"r"),g2M);return {action:I7z,point:g2M,tick:Z2M,value:p2M};}if(this.points[g2M + 1] && this.lineIntersection(Z2M,p2M,K2M,R7z,M2M,this.points[g2M + 1])){this.highlighted=! ![];b2M={action:"move",points:Q7I.clone(this.points),tick:Z2M,value:p2M};}}U5f.F6f();return b2M;};Q7I.Drawing.elliottwave.prototype.measure=function(){var W2M,a2M,r2M,E2M,z3J,K3J,h3J;if(this.points.length >= 2){W2M=this.points;this.stx.setMeasure(W2M[0][1],W2M[W2M.length - 1]["1" ^ 0],W2M[0][0],W2M[W2M.length - "1" * 1][0],! !1);a2M=this.stx.controls.mSticky;r2M=a2M && a2M.querySelector(".mStickyInterior");if(r2M){E2M=[];E2M.push(Q7I.capitalize("Elliott Wave"));if(this.getYValue){E2M.push(this.field || this.stx.defaultPlotField || "Close");}z3J=-1221668973;K3J=929236951;h3J=2;for(var Y3J=1;U5f.z5J(Y3J.toString(),Y3J.toString().length,76420) !== z3J;Y3J++){E2M.push(r2M.innerHTML);r2M.innerHTML=E2M.join("<br>");U5f.h0T(21);h3J+=U5f.H0T(1,"2");}if(U5f.K5J(h3J.toString(),h3J.toString().length,13314) !== K3J){E2M.push(r2M.innerHTML);r2M.innerHTML=E2M.join("");}}}};Q7I.Drawing.printProjection=function(k2M,D2M,c2M){var d2M,u2M,F2M,Y2M,j2M,I2M,X2M,O2M,x2M,o2M,w2M,t2M,J2M,n2M,y2M,e2M;d2M=D2M.arr;if(d2M.length > 1){u2M=d2M[0][0];F2M=Math.round(k2M.chart.maxTicks * 0.75);for(var h2M=1;h2M < d2M.length;h2M++){U5f.F0T(2);Y2M=d2M[U5f.a0T(1,h2M)][0];j2M=d2M[h2M][+"0"];I2M=Q7I.strToDateTime(Y2M);X2M=Q7I.strToDateTime(j2M).getTime();O2M=k2M.standardMarketIterator(I2M);x2M=0;while(I2M.getTime() < X2M){I2M=O2M.next();U5f.F0T(19);x2M+=U5f.a0T(0,"1");}o2M=Q7I.strToDateTime(Y2M).getTime();if(o2M > Q7I.strToDateTime(c2M[c2M.length - 1].Date).getTime()){w2M=c2M.length - 1;U5f.h0T(13);x2M+=U5f.H0T("1",1968650304);}else {for(w2M=c2M.length - 1;w2M >= +"0";w2M--){if(o2M <= Q7I.strToDateTime(c2M[w2M].Date).getTime())break;}}t2M={x0:0,x1:x2M,y0:c2M[w2M].Close,y1:d2M[h2M][1]};u2M=Q7I.strToDateTime(Y2M);O2M=k2M.standardMarketIterator(u2M);J2M=! !"";for(var v2M=+"0";v2M <= x2M;v2M++){if(!J2M){J2M=! ![];}else {u2M=O2M.next();}if(u2M.getTime() <= c2M[c2M.length - 1].DT.getTime())continue;n2M=Q7I.yIntersection(t2M,v2M);if(!n2M){n2M=0;}y2M=Math.round(n2M * 10000) / 10000;if(y2M === 0){y2M=d2M[h2M][1];}e2M={Date:Q7I.yyyymmddhhmmssmmm(u2M),DT:u2M,Open:y2M,Close:y2M,High:y2M,Low:y2M,Volume:0,Adj_Close:y2M,Split_Close:y2M,projection:! !{}};if(k2M.layout.interval == "minute")if(F2M-- < 0)break;c2M[c2M.length]=e2M;}}}};}};L9I=s2M=>{Y2WW.E6f();var H2M;H2M=typeof _CIQ !== "undefined"?_CIQ:s2M.CIQ;if(!H2M.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {H2M.formatEquation=function(B2M){var h2f=Y2WW;var i2M,R2M,U2M,P2M,l2M;i2M="";R2M=[];U2M="";P2M=![];for(var q2M=1;q2M < B2M.length;q2M++){l2M=B2M[q2M].toUpperCase();if(l2M == ((1180,26.36) !== (485.12,5078)?+"4750" >= (122,42.14)?(3548,395.36) >= 782?(! ![],0x791):"[":(! ![],765.47):(0x251c,! !0)) && !P2M){P2M=! !{};}else if(l2M == (3971 != (7595,4866)?"]":("1576" << 271202496,459.13) <= 7424?("z",+"203.49"):("z","h")) && P2M){P2M=!{};if(U2M !== ""){R2M.push(U2M);h2f.F0T(47);i2M+=h2f.H0T((30.03,658.95) === 104.04?"v":"]",U2M,(219.37,806.18) === 720?(+"9.50e+3","X"):"[");}U2M="";}else if(P2M){U2M+=l2M;}else if(l2M == (535.54 >= (3970,247.94)?"+":8.36e+3) || l2M == "-" || l2M == ((8120,864.07) >= 2593?(802.76,771) !== +"4710"?(8736,+"2760") == ("1620" & 2147483647)?(5.15e+3,"668.07" * 1):(902.03,"s"):7.16e+3:"*") || l2M == (+"22" <= (235.97,+"5931")?(6534,2260) == 160.21?0x18e2:(499.64,112.14) == (6050,5415)?"8.31e+3" ^ 0:"/":! ![]) || l2M == ((699.85,6240) < (27.15,5762)?318.06:9034 > "558.66" - 0?(4593,+"136.15") != 7267?":":(0x2333,0xacd):"r") || l2M == ((4625,903.99) > (1494,5380)?("k",4.39e+3):"%") || l2M == ((5828,3168) <= (8120,1620)?(3.86e+3,"s"):(20.13,5563) > 4632?6234 <= 4561?(+"245.53",4.25e+3):"(":5.99e+3) || l2M == ")"){if(U2M !== "" && isNaN(U2M)){R2M.push(U2M);h2f.h0T(47);i2M+=h2f.H0T((686,401.62) < ("9401" & 2147483647)?"]":! ![],U2M,(5350,+"987") > ("699.24" - 0,+"1761")?(8091,1494) > (87,8650)?965.33:184.79 <= 2750?"c":! !{}:"[");}else {i2M+=U2M;}if(l2M == ":"){l2M="/";}i2M+=l2M;U2M="";}else if(l2M != (239.11 < 729.28?" ":"4900" * 1 !== 422.37?490.00:("r",551.37))){U2M+=l2M;}}if(U2M !== "" && isNaN(U2M)){R2M.push(U2M);h2f.h0T(47);i2M+=h2f.a0T(848.1 === (448,+"1571")?! !{}:"]",U2M,6130 <= 5790?0xcda:"[");}else {i2M+=U2M;}h2f.E6f();return {equation:i2M,symbols:R2M};};H2M.fetchEquationChart=function(A8M,m8M){var L8M,N8M,Q8M,V8M,f8M;L8M=H2M.formatEquation(A8M.symbol);N8M=L8M.symbols;Q8M=[];V8M=A8M.stx;A8M.stx=null;for(var C8M=0;C8M < N8M.length;C8M++){f8M=H2M.shallowClone(A8M);f8M.stx=V8M;f8M.symbol=N8M[C8M];f8M.symbolObject={symbol:N8M[C8M]};Q8M.push(f8M);}A8M.stx=V8M;V8M.quoteDriver.multiFetch(Q8M,function(Z8M){var g8M,S8M,T8M,G8M,p8M;g8M={};A8M.loadMoreReplace=! ![];S8M={charge:0};for(var z8M=0;z8M < Z8M.length;z8M++){T8M=Z8M[z8M];if(T8M.dataCallback.error){m8M({error:T8M.dataCallback.error});return;}g8M[T8M.params.symbol]=T8M.dataCallback.quotes;A8M.loadMoreReplace=A8M.loadMoreReplace && T8M.params.loadMoreReplace;A8M.moreToLoad=A8M.moreToLoad || T8M.dataCallback.moreAvailable;G8M=T8M.dataCallback.attribution;if(G8M){if(G8M.charge){S8M.charge+=G8M.charge;}S8M.source=G8M.source;if(S8M.exchange === undefined){S8M.exchange=G8M.exchange;}else if(S8M.exchange != G8M.exchange){S8M.exchange="";};}}if(Q8M.length || !(A8M.loadMore || A8M.update)){try{p8M=H2M.computeEquationChart(L8M.equation,g8M);m8M({quotes:p8M,moreAvailable:A8M.moreToLoad,attribution:S8M});}catch(K8M){var M8M;M8M={error:"Invalid equation: " + L8M.equation};if(K8M.name && K8M.name == "NoException"){M8M.suppressAlert=! ![];}m8M(M8M);}}});};}};N9I=W8M=>{Y2WW.E6f();var b8M;b8M=typeof _CIQ !== "undefined"?_CIQ:W8M.CIQ;if(!b8M.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else {b8M.ChartEngine.prototype.removeDOMMarker=function(E8M){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");b8M.Marker.Performance.prototype.removeDOMMarker.call(E8M.params.node,E8M);};b8M.ChartEngine.prototype.drawMarkers=function(){var Q7z;Q7z="C";Q7z+="IQ.ChartEngine#drawMarkers is schedule";Q7z+="d for deprecation in a future release\n Please use CIQ.Marker.Performance.draw";Q7z+="Markers instead.";console.warn(Q7z);Y2WW.F6f();b8M.Marker.Performance.drawMarkers(this);};b8M.ChartEngine.prototype.calculateMarkerStyles=function(r8M,a8M){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");b8M.Marker.Performance.calculateMarkerStyles(this,r8M,a8M);};b8M.ChartEngine.prototype.drawCircleMarker=function(c8M,y8M,d8M){Y2WW.F6f();console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");b8M.Marker.Performance.drawCircleMarker(c8M,y8M,d8M);};b8M.ChartEngine.prototype.drawSquareMarker=function(u8M,h8M,w8M){Y2WW.E6f();var q4J,N4J,z4J;q4J=1159203542;N4J=389686060;z4J=2;for(var h4J=1;Y2WW.z5J(h4J.toString(),h4J.toString().length,+"9550") !== q4J;h4J++){console.warn("");z4J+=2;}if(Y2WW.K5J(z4J.toString(),z4J.toString().length,56208) !== N4J){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");}b8M.Marker.Performance.drawSquareMarker(u8M,h8M,w8M);};b8M.ChartEngine.prototype.drawCalloutMarker=function(x8M,k8M,Y8M){var u7z;u7z="CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future re";Y2WW.E6f();u7z+="lease\n Please use CIQ.Marke";u7z+="r.Performance.drawCalloutMarker instead.";console.warn(u7z);b8M.Marker.Performance.drawCalloutMarker(x8M,k8M,Y8M);};b8M.ChartEngine.prototype.drawMarkerStem=function(I8M,O8M,v8M){var i7z;i7z="CIQ.ChartEngine#drawMarkerStem is scheduled ";i7z+="for deprecation i";i7z+="n a future release\n Please use CIQ.Ma";Y2WW.E6f();i7z+="rker.Performance.drawMarkerStem instead.";console.warn(i7z);b8M.Marker.Performance.drawMarkerStem(I8M,O8M,v8M);};b8M.ChartEngine.prototype.positionDOMMarkers=function(){Y2WW.E6f();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");b8M.Marker.Performance.drawMarkers(this);};b8M.Marker.Performance=function(J8M){var f7z,t7z,O7z,o8M,n8M,j8M,t8M,F8M,X8M,e8M,D8M;f7z="h";f7z+="4";t7z="<";t7z+="/di";t7z+="v";t7z+=">";O7z="<di";O7z+="v class=\"stx-marker stx-performa";O7z+="nce-marker stx-marker-expand\"><h4></h4><";O7z+="p></p></div>";this.params={displayCategory:! !"1",displayStem:!"",invert:![],story:"",headline:""};b8M.extend(this.params,J8M);o8M=this.template=document.createElement("TEMPLATE");Y2WW.F0T(55);o8M.innerHTML=Y2WW.H0T('<div class="stx-visual">',"</div>","</div>",'<div class="stx-marker highlight">',t7z,'<div class="stx-stem"></div>','<div class="stx-marker-content">',O7z);n8M=this.template.content.cloneNode(! ![]);j8M=n8M.querySelector(".stx-marker",o8M);j8M.classList.add(J8M.type);j8M.classList.add(J8M.category);t8M=n8M.querySelector(".stx-visual",o8M);F8M=n8M.querySelector(".stx-marker-expand");X8M=n8M.querySelector(f7z,o8M);e8M=n8M.querySelector((+"887.14",326) === (4850,5140)?(6550,6756) == ("4770" | 162)?("862.15" * 1,0xdcf):(460,5850) >= (6560,4182)?+"924.11":(1.37e+3,!"1"):"p",o8M);X8M.innerText=this.params.headline;e8M.innerText=this.params.story;this.hasText=! !J8M.headline || ! !J8M.story;this.deferAttach=! ![];this.node=n8M.firstChild;this.node.params=this.params;this.visual=t8M;this.expand=F8M;if(J8M.type === "callout"){D8M=F8M.removeChild(X8M);n8M.querySelector(".stx-marker-content",o8M).insertBefore(D8M,F8M);}};b8M.inheritsFrom(b8M.Marker.Performance,b8M.Marker.NodeCreator,![]);b8M.Marker.Performance.consolidateExpanded=function(R8M){var H8M,s8M,i8M,l8M,P8M;H8M=R8M.markerHelper.highlighted;if(!H8M.length){return;}s8M=H8M[H8M.length - +"1"];i8M=s8M.params.node;function q8M(f0M){var b7z,A0M,B8M,C0M;b7z="n";b7z+="o";b7z+="n";b7z+="e";A0M=f0M.params.node;B8M=A0M.expand;if(!B8M){return "";}C0M=B8M.style.display !== b7z?B8M.innerHTML:"";return C0M;}if(!s8M.consolidated){s8M.consolidated=[];}for(var U8M=H8M.length - 2;U8M >= 0;U8M--){l8M=q8M(H8M[U8M]);Y2WW.h0T(47);P8M=Y2WW.a0T("</consolidated>",l8M,"<consolidated>");if(l8M.length){i8M.expand.innerHTML+=P8M;}}s8M.stxNodeCreator.quickCache(s8M);};b8M.Marker.Performance.reconstituteExpanded=function(V0M){var L0M,m0M,S0M,Q0M;L0M=V0M.markerHelper.highlighted;if(!L0M.length || !V0M.activeMarker){return;}L0M=[V0M.activeMarker];Y2WW.E6f();for(var N0M=L0M.length - 1;N0M >= "0" - 0;N0M--){m0M=L0M[N0M];S0M=m0M.params.node;Q0M=S0M.expand;while(Q0M.lastElementChild.nodeName === "CONSOLIDATED"){Q0M.removeChild(Q0M.lastElementChild);}}};b8M.Marker.Performance.drawMarkers=function(Z0M){var M0M,T0M,z0M,g0M,p0M,K0M;M0M=Z0M.getMarkerArray("all");T0M=Z0M.chart;for(var G0M=0;G0M < M0M.length;G0M++){z0M=M0M[G0M];g0M=z0M.stxNodeCreator;p0M=T0M.dataSegment[0].tick;K0M=T0M.dataSegment[T0M.dataSegment.length - 1].tick;if(p0M <= z0M.tick <= K0M){if(g0M && g0M.drawMarker){g0M.drawMarker(z0M);}}}};b8M.Marker.Performance.calculateMarkerStyles=function(W0M,E0M,c0M){var b0M,G7z,V7z,r0M,a0M;b0M=document.querySelector(".stx-marker-templates");if(!b0M){G7z="h";G7z+="id";G7z+="den";V7z="D";V7z+="I";V7z+="V";b0M=document.createElement(V7z);b0M.style.visibility=G7z;b0M.style.left="-1000px";document.body.append(b0M);}b0M.appendChild(E0M.node);r0M=getComputedStyle(E0M.stxNodeCreator.visual);if(!W0M.styles.stx_marker_stem){a0M=getComputedStyle(document.querySelector(".stx-stem",E0M.node));W0M.styles.stx_marker_stem=W0M.cloneStyle(a0M);}W0M.styles[c0M]=W0M.cloneStyle(r0M);b0M.removeChild(E0M.node);};b8M.Marker.Performance.drawCircleMarker=function(w0M,v0M,d0M){var I0M,O0M,y0M,u0M,h0M,x0M,k0M,Y0M,P7z;I0M=w0M.params.stx;O0M=I0M.chart;y0M=O0M.context;u0M=d0M.x;h0M=d0M.y;x0M=d0M.radius;k0M=d0M.label;Y0M=d0M.color?d0M.color:v0M.backgroundColor;y0M.beginPath();y0M.setLineDash([]);y0M.lineWidth=1;y0M.fillStyle=Y0M;Y2WW.F6f();y0M.strokeStyle=Y0M;y0M.font="normal bold 12px Roboto, Helvetica, sans-serif";y0M.arc(u0M,h0M,x0M,0,+"2" * Math.PI,! !0);y0M.fill();y0M.stroke();y0M.closePath();if(k0M){P7z="w";P7z+="hite";y0M.fillStyle=b8M.colorsEqual(P7z,y0M.fillStyle)?"black":"white";y0M.fillText(k0M.charAt(0).toUpperCase(),u0M - +"4",h0M + 1);}if(w0M.highlight || w0M.active){y0M.beginPath();Y2WW.F0T(0);y0M.arc(u0M,h0M,Y2WW.H0T(x0M,4),0,("2" - 0) * Math.PI,!"1");y0M.stroke();y0M.closePath();}};b8M.Marker.Performance.drawSquareMarker=function(t0M,U0M,o0M){var n4f=Y2WW;var H7z,H0M,s0M,n0M,j0M,X0M,J0M,e0M,D0M,F0M,v1J,k6J,E6J,z7z,N7z,q7z;H7z="normal bold 12px Ro";H7z+="boto, Helvetica, sans-serif";H0M=t0M.params.stx;s0M=H0M.chart;n0M=s0M.context;j0M=o0M.x;X0M=o0M.y;J0M=o0M.half;e0M=o0M.label;D0M=o0M.color?o0M.color:U0M.backgroundColor;n4f.h0T(56);F0M=n4f.H0T(J0M,"2");n0M.beginPath();n0M.setLineDash([]);n0M.lineWidth=1;n0M.fillStyle=D0M;n0M.strokeStyle=D0M;n0M.font=H7z;n4f.F0T(2);n0M.rect(n4f.H0T(J0M,j0M),n4f.a0T(J0M,X0M),F0M,F0M);n0M.fill();if(t0M.highlight || t0M.active){n4f.F0T(57);n0M.rect(n4f.a0T(J0M,4,j0M),n4f.H0T(J0M,4,X0M,n4f.h0T(57)),n4f.H0T(F0M,8,n4f.F0T(0)),n4f.H0T(F0M,8,n4f.h0T(0)));}n0M.stroke();n0M.closePath();if(e0M){v1J=-1216950035;k6J=- +"1654619429";E6J=2;for(var s6J=1;n4f.K5J(s6J.toString(),s6J.toString().length,+"90432") !== v1J;s6J++){z7z="wh";z7z+="it";z7z+="e";N7z="bl";N7z+="a";N7z+="ck";q7z="whit";q7z+="e";n0M.fillStyle=b8M.colorsEqual(q7z,n0M.fillStyle)?N7z:z7z;n0M.fillText(e0M.charAt(0).toUpperCase(),j0M - 4,X0M + 1);E6J+=+"2";}if(n4f.z5J(E6J.toString(),E6J.toString().length,21880) !== k6J){n0M.fillStyle=b8M.colorsEqual("black",n0M.fillStyle)?"black":"black";n0M.fillText(e0M.charAt(1).toUpperCase(),j0M / 2,X0M * 0);}}};b8M.Marker.Performance.drawCalloutMarker=function(R0M,T9q,i0M){var V9q,m9q,l0M,P0M,G9q,B0M,A9q,C9q,f9q,L9q,S9q,q0M,N9q,Q9q;V9q=R0M.params.stx;m9q=V9q.chart;l0M=m9q.context;P0M=R0M.params;G9q=i0M.x;B0M=i0M.y;A9q=i0M.half;C9q=i0M.midWidth;f9q=i0M.headline;L9q=i0M.color?i0M.color:T9q.backgroundColor;S9q=A9q * 2 || 25;q0M=Math.round(l0M.measureText(f9q).width);N9q=C9q?C9q * 2:q0M + 8;l0M.beginPath();l0M.setLineDash([]);l0M.lineWidth=1;l0M.fillStyle=L9q;l0M.strokeStyle=L9q;l0M.font="normal bold 12px Roboto, Helvetica, sans-serif";l0M.rect(P0M.box.x0,P0M.box.y0,N9q,S9q);l0M.fill();l0M.stroke();l0M.closePath();l0M.beginPath();l0M.fillStyle=R0M.highlight || R0M.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";Y2WW.F0T(58);Q9q=Y2WW.a0T(20,2,N9q,q0M);l0M.rect(P0M.box.x0 + Q9q,B0M - A9q,q0M + 40,22);l0M.fill();l0M.stroke();l0M.closePath();l0M.fillStyle="black";l0M.fillText(f9q,P0M.box.x0 + Q9q + 10,B0M);};b8M.Marker.Performance.drawMarkerStem=function(g9q,K9q,M9q){var b9q,W9q,z9q,Z9q,a9q,p9q,E9q,P0J,H0J,q0J,r9q;b9q=g9q.params.stx;W9q=b9q.chart;z9q=W9q.context;Z9q=M9q.x;a9q=M9q.y;Y2WW.E6f();z9q.beginPath();z9q.strokeStyle=K9q.borderLeftColor;z9q.setLineDash([1,1]);p9q=b8M.stripPX(K9q.height);E9q=M9q.invert?g9q.params.box.y0:g9q.params.box.y1;P0J=-25812897;H0J=1593128158;q0J=2;for(var z0J=+"1";Y2WW.z5J(z0J.toString(),z0J.toString().length,91957) !== P0J;z0J++){r9q=M9q.invert?g9q.params.box.y0 - p9q:g9q.params.box.y1 + p9q;q0J+=2;}if(Y2WW.K5J(q0J.toString(),q0J.toString().length,85262) !== H0J){r9q=M9q.invert?g9q.params.box.y0 % p9q:g9q.params.box.y1 % p9q;}z9q.moveTo(Z9q,E9q);z9q.lineTo(Z9q,r9q);z9q.stroke();z9q.closePath();};b8M.Marker.Performance.prototype.drawMarker=function(c9q){var s4f=Y2WW;var h7z,K7z,v9q,d9q,t9q,e9q,F9q,u9q,k9q,Y9q,D9q,j9q,n9q,X9q,o9q,h9q,J9q,y9q,I9q,O9q,H9q,s9q,w9q,x9q,A7z;h7z="c";h7z+="al";h7z+="lo";h7z+="ut";K7z="c";K7z+="i";K7z+="rc";K7z+="le";v9q=c9q.params;d9q=c9q.params.stx;if(!d9q){return;}t9q=d9q.chart;e9q=t9q.dataSegment;if(!e9q.length){return;}F9q=d9q.panels[c9q.params.panelName];u9q=c9q.stxNodeCreator.params;k9q=u9q.type;Y9q=u9q.category;D9q=u9q.headline;j9q=u9q.displayCategory;n9q=u9q.color;s4f.E6f();X9q=u9q.invert;s4f.h0T(59);o9q=s4f.H0T("stx_marker_",Y9q,399.21 < (4774,3297)?"_":(![],![]),k9q);if(!d9q.styles[o9q]){b8M.Marker.Performance.calculateMarkerStyles(d9q,c9q,o9q);}h9q=c9q.style=d9q.styles[o9q];J9q=d9q.styles.stx_marker_stem;y9q=parseInt(h9q.height,10) / 2;I9q=parseInt(h9q.width,10) / 2;O9q=u9q.displayStem?parseInt(J9q.height,10) + parseInt(J9q.marginBottom,10):"0" - 0;H9q=O9q + parseInt(h9q.height,10);s9q=O9q?O9q + y9q:0;w9q=d9q.pixelFromDate(v9q.x);x9q=v9q.node.calculateYPosition({marker:c9q,panel:F9q,height:H9q,half:y9q,offset:s9q,inverted:X9q});if(!c9q.tick && c9q.tick !== 0){return;}v9q.box={x0:w9q - (I9q || y9q),y0:x9q - y9q,x1:w9q + (I9q || y9q),y1:x9q + y9q,midY:y9q,midX:I9q || y9q,stemHeight:O9q};if(!j9q){Y9q=j9q;}d9q.startClip(F9q.name);if(k9q === K7z){b8M.Marker.Performance.drawCircleMarker(c9q,h9q,{x:w9q,y:x9q,radius:y9q,label:Y9q,color:n9q});}else if(k9q === "square"){b8M.Marker.Performance.drawSquareMarker(c9q,h9q,{x:w9q,y:x9q,half:y9q,label:Y9q,color:n9q});}else if(k9q === h7z){b8M.Marker.Performance.drawCalloutMarker(c9q,h9q,{x:w9q,y:x9q,half:y9q,midWidth:I9q,headline:D9q,color:n9q});}else {A7z=" is unsupported with canv";A7z+="as markers!\nSuppor";A7z+="ted Styles are Square, Circle, and Callout.";s4f.F0T(47);console.warn(s4f.a0T(A7z,k9q,"Marker type: "));}if(u9q.displayStem){b8M.Marker.Performance.drawMarkerStem(c9q,J9q,{x:w9q,y:x9q,invert:X9q});}d9q.endClip();if(c9q.attached){this.positionPopUpNode(c9q);}};b8M.Marker.Performance.prototype.positionPopUpNode=function(l9q){var A6q,P9q,U9q,C6q,q9q,i9q,f6q,m6q,S6q,T6q,G6q,L6q,R9q,V6q,N6q,B9q,Q6q,z6q;if(!l9q.attached || !l9q.params.box){return;}A6q=l9q.params;P9q=A6q.stx;U9q=A6q.box;C6q=l9q.params.node.expand;q9q=P9q.chart.dataSet;i9q=P9q.chart.dataSegment;if(l9q.tick){m6q=[q9q[i9q[0] && i9q[0].tick - 1],q9q[i9q[0] && i9q[0].tick - 2]];S6q=P9q.getFirstLastDataRecord(m6q.concat(i9q),"Date");T6q=[q9q[i9q[i9q.length - 1].tick + ("1" >> 474108416)],q9q[i9q[i9q.length - 1].tick + 2]];G6q=P9q.getFirstLastDataRecord(i9q.concat(T6q),"Date",! !{});f6q=S6q.DT <= q9q[l9q.tick].DT && q9q[l9q.tick].DT <= G6q.DT;}else {f6q=! !0;}if(!l9q.highlight && !l9q.active){f6q=![];}C6q.style.visibility=f6q?"":"hidden";if(!f6q){return;}Y2WW.E6f();L6q=P9q.panels[A6q.panelName];R9q=C6q.rects;V6q=R9q.height / +"2";B9q=l9q.node.params.infoOffset || 0;if(l9q.node.params.infoOnLeft){N6q=U9q.x0 - R9q.width - B9q < L6q.left?U9q.x1 + B9q:U9q.x0 - R9q.width - B9q;}else {N6q=U9q.x0 + R9q.width > L6q.right?U9q.x0 - R9q.width - B9q:U9q.x1 + B9q;}N6q-=P9q.chart.left;Q6q=U9q.y0 - V6q >= L6q.top?U9q.y0 + U9q.midY - V6q:U9q.y0;if(!A6q.avoidFlush && U9q.y1 + U9q.stemHeight === L6q.yAxis.bottom && R9q.height > U9q.y1 - U9q.y0 + U9q.stemHeight){Q6q=U9q.y1 - R9q.height + U9q.stemHeight;}Q6q-=P9q.chart.panel.top;z6q="translateX(" + Math.floor(N6q) + "px) translateY(" + Math.floor(Q6q) + "px) translateZ(0)";C6q.style.transform=z6q;C6q.transform={translateX:N6q,translateY:Q6q};};b8M.Marker.Performance.prototype.quickCache=function(Z6q){var p6q,g6q,M6q,K6q;p6q=Z6q.params.node;g6q=p6q.expand;Y2WW.E6f();M6q=Z6q.style;K6q=b8M.stripPX(M6q.marginLeft) + b8M.stripPX(M6q.marginRight) + b8M.stripPX(M6q.borderRight) + b8M.stripPX(M6q.borderLeft);g6q.rects=g6q.getBoundingClientRect();g6q.scrollBarWidth=g6q.rects.width - g6q.clientWidth - K6q;};b8M.Marker.Performance.prototype.calculateYPosition=function(y6q){var T7z,o7z,Y7z,c6q,W6q,h6q,d6q,a6q,w6q,E6q,x6q,k6q,r6q,u6q,Y6q,b6q,I6q,O6q;T7z="bo";T7z+="tto";T7z+="m";o7z="t";o7z+="o";o7z+="p";Y7z="belo";Y7z+="w_cand";Y7z+="le";Y2WW.F6f();c6q=y6q.marker;W6q=y6q.panel;h6q=y6q.height;d6q=y6q.half;a6q=y6q.offset;w6q=y6q.inverted;E6q=c6q.params.stx;x6q=E6q.chart;k6q=E6q.chart.highLowBars;r6q=x6q.dataSet[c6q.tick];if(!r6q){return;}u6q=k6q?r6q.High:r6q.Close;Y6q=c6q.params.yPositioner;switch(Y6q){case "value":if(c6q.params.y || c6q.params.y === ("0" ^ 0)){b6q=E6q.pixelFromPrice(c6q.params.y,W6q) - h6q * 0.5 + d6q;}else {b6q=E6q.pixelFromPrice(u6q,W6q) - a6q;}break;case "above_candle":b6q=E6q.pixelFromPrice(u6q,W6q) - a6q;break;case Y7z:b6q=E6q.pixelFromPrice(r6q.Low || u6q,W6q);if(w6q && a6q){b6q+=a6q;}else {b6q+=d6q;}break;case "on_candle":(I6q=r6q.High || r6q.Close,O6q=r6q.Low || r6q.Low === 0 || r6q.Close);b6q=E6q.pixelFromPrice((I6q + O6q) / +"2",W6q) - h6q * 0.5 + d6q;break;case o7z:b6q=E6q.pixelFromPrice(W6q.yAxis.high,W6q);if(w6q && a6q){b6q+=a6q;}else {b6q+=d6q;}break;case T7z:b6q=E6q.pixelFromPrice(W6q.yAxis.low,W6q) - (a6q || d6q);break;default:break;}return b6q;};b8M.Marker.Performance.prototype.prepareForHolder=function(n6q){var v6q,o6q;v6q=this.expand;o6q=n6q.params.stx;v6q.classList.add(this.params.type);o6q.markerHelper.domMarkers.push(n6q);Y2WW.F6f();return v6q;};b8M.Marker.Performance.prototype.addToHolder=function(j6q){var F6q,J6q;F6q=this.expand;J6q=j6q.params.stx;Y2WW.F6f();b8M.Marker.Performance.reconstituteExpanded(J6q);b8M.Marker.Performance.consolidateExpanded(J6q);this.quickCache(j6q);function X6q(t6q){J6q.activeMarker=j6q;J6q.activeMarker.click({cx:t6q.clientX,cy:t6q.clientY,panel:J6q.currentPanel});t6q.stopPropagation();}if(F6q.clickClosure){return;}F6q.addEventListener("mousedown",X6q);F6q.addEventListener("touchstart",X6q);F6q.clickClosure=X6q;};b8M.Marker.Performance.prototype.remove=function(D6q){var e6q,s6q,X7z,U6q,H6q;e6q=D6q.params.stx;if(!e6q){return;}Y2WW.E6f();if(!e6q.markerHelper.domMarkers){return;}s6q=e6q.markerHelper.domMarkers.indexOf(D6q);if(s6q != -1){Y2WW.h0T(14);e6q.markerHelper.domMarkers.splice(s6q,Y2WW.H0T("1",0));}if(D6q.attached){X7z="c";X7z+="l";X7z+="i";X7z+="ck";U6q=e6q.panels[D6q.params.panelName];H6q=D6q.params.node.expand;if(H6q.parentNode === U6q.subholder){U6q.subholder.removeChild(H6q);}H6q.removeEventListener(X7z,H6q.clickClosure);}};b8M.Marker.Performance.prototype.click=function(q6q){var P6q,B6q,i6q;if(!this.hasText){return;}if(typeof arguments[0] === "number"){q6q={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[+"3"]};}var {cx:R6q, cy:A1q, marker:l6q, panel:C1q}=q6q;P6q=l6q.params.stx;Y2WW.F6f();if(l6q.attached){i6q=this.expand;if(i6q.rects.width - i6q.scrollBarWidth + i6q.transform.translateX < P6q.backOutX(R6q) && P6q.backOutX(R6q) < i6q.rects.width + i6q.transform.translateX){return;}this.remove(l6q);}else {P6q.addToHolder(l6q);B6q=! ![];}l6q.attached=!l6q.attached;l6q.active=!l6q.active;if(B6q){l6q.stxNodeCreator.positionPopUpNode(l6q);}};}};Q9I=L1q=>{var f1q;f1q=typeof _CIQ !== "undefined"?_CIQ:L1q.CIQ;f1q.Renderer.OHLC.requestNew=function(M1q,N1q){var Q1q,m1q,S1q,T1q,G1q,z1q,l7z,W7z,M7z,g1q,F7z,B7z;Q1q=null;m1q=N1q.hlc;S1q=N1q.colored;T1q=N1q.hollow;G1q=N1q.volume;z1q=N1q.histogram;for(var V1q=0;V1q < M1q.length;V1q++){l7z="col";l7z+="ored";W7z="vo";W7z+="l";W7z+="ume";M7z="b";M7z+="a";M7z+="r";g1q=M1q[V1q];switch(g1q){case M7z:case "candle":Q1q=g1q;break;case W7z:G1q=! ![];break;case "hollow":T1q=! !1;break;case l7z:S1q=! !{};break;case "histogram":F7z="ca";F7z+="n";F7z+="dle";z1q=!0;Q1q=F7z;break;case "hlc":B7z="b";B7z+="a";B7z+="r";m1q=! ![];Q1q=B7z;break;default:return null;}}if(Q1q === null){return null;}return new f1q.Renderer.OHLC({params:f1q.extend(N1q,{type:Q1q,hlc:m1q,colored:S1q,hollow:T1q,volume:G1q,histogram:z1q})});};f1q.Renderer.OHLC.getChartParts=function(a1q,r1q){var R5z,I5z,D5z,a5z,p5z,m5z,J5z,x5z,c5z,e5z,Z5z,L5z,C5z,y5z,s5z,j5z,E5z,S5z,k5z,r5z,g7z,v7z,U7z,n7z,d7z,w7z,K1q,b1q,W1q,Z1q,p1q,E1q;R5z="borde";R5z+="r";R5z+="_colo";R5z+="r_even";I5z="hol";I5z+="low";D5z="border_c";D5z+="olor_down";a5z="h";a5z+="oll";a5z+="o";a5z+="w";p5z="bo";p5z+="rder_color_even";m5z="fi";m5z+="ll_color_";m5z+="even";J5z="cand";J5z+="l";J5z+="e";x5z="bor";x5z+="der_color_down";c5z="ho";c5z+="llow";e5z="c";e5z+="a";e5z+="n";e5z+="dle";Z5z="stx_ho";Z5z+="llow";Z5z+="_candle_even";L5z="sha";L5z+="d";L5z+="ow";C5z="stx_hol";C5z+="low_";C5z+="ca";C5z+="ndle_down";y5z="hol";y5z+="low";s5z="shad";s5z+="ow";j5z="ca";j5z+="ndl";Y2WW.E6f();j5z+="e";E5z="ca";E5z+="n";E5z+="dl";E5z+="e";S5z="c";S5z+="an";S5z+="dle";k5z="c";k5z+="and";k5z+="l";k5z+="e";r5z="bord";r5z+="er_co";r5z+="lor_up";g7z="c";g7z+="an";g7z+="dl";g7z+="e";v7z="border_color_";v7z+="even";U7z="b";U7z+="a";U7z+="r";n7z="bo";n7z+="rde";n7z+="r_color";d7z="border";d7z+="_col";d7z+="or_up";w7z="stx";w7z+="_h";w7z+="i";w7z+="stogram_up";K1q=1;b1q=2;W1q=4;Z1q=8;p1q=16;E1q=32;return [{type:"histogram",drawType:"histogram",style:w7z,condition:Z1q,fill:"fill_color_up",border:d7z,useColorInMap:!0,useBorderStyleProp:! ![]},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:p1q,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:! !{}},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:E1q,fill:"fill_color_even",border:"border_color_even",skipIfPass:! ![],useColorInMap:! !1,useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:a1q || "stx_bar_chart",border:n7z,useColorInMap:! !"1"},{type:"bar",drawType:U7z,style:"stx_bar_up",condition:r1q?Z1q:K1q,border:"border_color_up",useColorInMap:! !"1"},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:r1q?p1q:b1q,border:"border_color_down",useColorInMap:! !1},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:r1q?E1q:W1q,border:v7z,skipIfPass:! !{},useColorInMap:! ![]},{type:g7z,drawType:"shadow",style:"stx_candle_shadow",border:r5z},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:Z1q,border:"border_color_up"},{type:k5z,drawType:"shadow",style:"stx_candle_shadow_down",condition:p1q,border:"border_color_down"},{type:S5z,drawType:"shadow",style:"stx_candle_shadow_even",condition:E1q,border:"border_color_even",skipIfPass:! !{}},{type:E5z,drawType:j5z,style:"stx_candle_up",condition:Z1q,fill:"fill_color_up",border:"border_color_up",useColorInMap:!"",useBorderStyleProp:! !"1"},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:p1q,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !{},useBorderStyleProp:! !1},{type:"hollow",drawType:s5z,style:"stx_hollow_candle_up",condition:K1q,border:"border_color_up"},{type:y5z,drawType:"shadow",style:C5z,condition:b1q,border:"border_color_down"},{type:"hollow",drawType:L5z,style:Z5z,condition:W1q,border:"border_color_even",skipIfPass:! ![]},{type:"hollow",drawType:e5z,style:"stx_hollow_candle_up",condition:K1q | p1q,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !1},{type:c5z,drawType:"candle",style:"stx_hollow_candle_down",condition:b1q | p1q,fill:"fill_color_down",border:x5z,useColorInMap:! ![]},{type:"hollow",drawType:J5z,style:"stx_hollow_candle_even",condition:W1q | p1q,fill:m5z,border:p5z,skipIfPass:!0,useColorInMap:! !1},{type:a5z,drawType:"candle",style:"stx_hollow_candle_up",condition:K1q | Z1q,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:b1q | Z1q,fill:"fill_color_down",border:D5z},{type:I5z,drawType:"candle",style:"stx_hollow_candle_even",condition:W1q | Z1q,fill:"fill_color_even",border:R5z}];;};f1q.Renderer.Bars=function(y1q){var c1q;this.construct(y1q);c1q=this.params;Y2WW.E6f();c1q.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];c1q.hlc=c1q.volume=c1q.hollow=c1q.histogram=![];};f1q.inheritsFrom(f1q.Renderer.Bars,f1q.Renderer.OHLC,! !0);f1q.Renderer.HLC=function(u1q){var d1q;this.construct(u1q);d1q=this.params;d1q.type="bar";d1q.hlc=!"";Y2WW.F6f();this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";d1q.volume=d1q.hollow=d1q.histogram=!{};};f1q.inheritsFrom(f1q.Renderer.HLC,f1q.Renderer.Bars,! !0);f1q.Renderer.Shading=function(h1q){this.construct(h1q);this.beenSetup=! !"";this.errTimeout=null;this.params.useChartLegend=! !"";this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! ![];}};f1q.inheritsFrom(f1q.Renderer.Shading,f1q.Renderer.Lines,!{});f1q.Renderer.Shading.requestNew=function(k1q,I1q){var w1q,Q5z,Y1q;w1q=null;Y2WW.F6f();for(var x1q=0;x1q < k1q.length;x1q++){Q5z="rangechanne";Q5z+="l";Y1q=k1q[x1q];if(Y1q == Q5z){w1q="rangechannel";}}if(w1q === null){return null;}return new f1q.Renderer.Shading({params:f1q.extend(I1q,{type:w1q})});};f1q.Renderer.Shading.prototype.setShading=function(O1q){if(O1q.constructor != Array){O1q=[O1q];}this.shading=O1q;};f1q.Renderer.Shading.prototype.draw=function(){var t5z,o1q,J1q,O5z,i5z,u5z,l1q,j1q,i1q,e1q,P1q,F1q,n1q,D1q,f5z,H1q,R1q,v1q,t1q,s1q,U1q,X1q;t5z="r";t5z+="a";function q1q(C3q){var S4f=Y2WW;var B1q,f3q,o3J,T3J,X3J,A3q;B1q=F1q[C3q];if(B1q){f3q=B1q.parameters.field;o3J=1140479390;T3J=1909875693;X3J=2;for(var W3J=1;S4f.z5J(W3J.toString(),W3J.toString().length,7529) !== o3J;W3J++){A3q=B1q.parameters.subField;X3J+=2;}if(S4f.K5J(X3J.toString(),X3J.toString().length,84600) !== T3J){A3q=B1q.parameters.subField;}S4f.F0T(0);return S4f.H0T(f3q,A3q?((324.41,427.86) !== (505.7,1610)?".":(! ![],+"921.54")) + A3q:"");}return C3q;}t5z+="ngech";t5z+="annel";o1q=this.stx;J1q=o1q.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {O5z="Lo";O5z+="w";i5z="stx_l";i5z+="ine_";i5z+="u";i5z+="p";u5z="aut";u5z+="o";this.beenSetup=! ![];this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[+"0"].yAxis;l1q=this.seriesParams[0].color || u5z;j1q=this.seriesParams[0].symbol;i1q="";if(j1q){Y2WW.F0T(0);i1q=Y2WW.a0T(j1q,8413 != 156?".":923.49 !== 9199?("Z",+"411.35"):("v","0xa49" - 0));}this.removeAllSeries(! !{});e1q=this.params.name;o1q.addSeries(null,{symbol:j1q,loadData:! !j1q,field:"High",renderer:"Shading",name:e1q,style:i5z,display:this.params.display,shareYAxis:!""});o1q.addSeries(null,{symbol:j1q,loadData:! !j1q,field:O5z,renderer:"Shading",name:e1q,style:"stx_line_down",display:this.params.display,shareYAxis:! !"1"});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:l1q});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");P1q=this;this.errTimeout=setTimeout(function(){Y2WW.E6f();P1q.errTimeout=null;},+"10000");}}F1q={};for(n1q="0" - 0;n1q < this.seriesParams.length;n1q++){D1q={};if(J1q.series[this.seriesParams[n1q].id]){D1q=f1q.clone(J1q.series[this.seriesParams[n1q].id].parameters);}F1q[this.seriesParams[n1q].id]={parameters:f1q.extend(f1q.extend(D1q,this.params),this.seriesParams[n1q]),yValueCache:this.caches[this.seriesParams[n1q].id]};}Y2WW.F6f();o1q.drawSeries(J1q,F1q,this.params.yAxis,this);if(J1q.legend && this.params.type == t5z){f5z="stx_l";f5z+="i";f5z+="ne_";f5z+="up";if(!J1q.legend.colorMap){J1q.legend.colorMap={};}H1q=this.params.display;R1q=[o1q.getCanvasColor(f5z),o1q.getCanvasColor("stx_line_down")];J1q.legend.colorMap[H1q]={color:R1q,display:H1q,isBase:this == o1q.mainSeriesRenderer};;}for(n1q in F1q){this.caches[n1q]=F1q[n1q].yValueCache;}for(n1q=0;n1q < this.shading.length;n1q++){v1q=this.shading[n1q];t1q=v1q.color;if(v1q.color == "auto"){t1q=o1q.defaultColor;}if(!v1q.primary){v1q.primary="Close";}if(!v1q.secondary && this.seriesParams[0]){v1q.secondary=this.seriesParams[0].field;}if(!v1q.secondary)continue;else if(!F1q[v1q.primary] && v1q.primary != "Close")continue;else if(!F1q[v1q.secondary])continue;else if(v1q.primary == "Close" && this.params.yAxis && this.params.yAxis != J1q.yAxis)continue;s1q=q1q(v1q.primary).split((47,6770) > (1806,9785)?7.56e+3:5420 < ("6168" << 530571968,125.75)?9.37e+3:".");U1q=q1q(v1q.secondary).split(".");X1q={topBand:s1q[0],topSubBand:s1q[+"1"],topColor:v1q.greater || t1q || o1q.containerColor,topAxis:this.params.yAxis,bottomBand:U1q[0],bottomSubBand:U1q["1" << 310595040],bottomColor:v1q.lesser || t1q || o1q.containerColor,bottomAxis:v1q.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || J1q.tension,opacity:0.1};if(!X1q.topColor && !X1q.bottomColor)continue;if(!this.params.highlight && o1q.highlightedDraggable){X1q.opacity*=0.3;}f1q.fillIntersecting(o1q,this.params.panel,X1q);}};f1q.Renderer.Histogram=function(L3q){this.construct(L3q);Y2WW.F6f();this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!0;if(this.params.yAxis){this.params.bindToYAxis=! !{};if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};f1q.inheritsFrom(f1q.Renderer.Histogram,f1q.Renderer,! !0);f1q.Renderer.Histogram.prototype.adjustYAxis=function(){var N3q;N3q=this.params.yAxis;if(!N3q || N3q.baseline){return;}Y2WW.F6f();N3q.min=0;N3q.highValue/=this.params.heightPercentage || +"1";};f1q.Renderer.Histogram.prototype.draw=function(){var Q3q,V3q,m3q,S3q;Y2WW.F6f();Q3q=f1q.clone(this.params);Q3q.type=Q3q.subtype;this.useSum=Q3q.subtype == "stacked";if(!Q3q.yAxis || Q3q.yAxis == this.stx.chart.yAxis){Q3q.bindToYAxis=!0;}this.stx.drawHistogram(Q3q,this.seriesParams);V3q=Q3q.yAxis && Q3q.yAxis.baseline;if(V3q && V3q.color){m3q=this.stx.panels[this.params.panel];S3q=this.stx.pixelFromPrice(V3q.value,m3q,this.params.yAxis) - 0.5;this.stx.plotLine({x0:m3q.left,x1:m3q.right,y0:S3q,y1:S3q,color:V3q.color,type:"line",context:m3q.chart.context,confineToPanel:m3q,pattern:V3q.pattern || "solid",lineWidth:V3q.lineWidth || 1,opacity:V3q.opacity || 0.8,globalCompositeOperation:"destination-over"});}};f1q.Renderer.Histogram.prototype.getBasis=function(M3q,Z3q,p3q){var z3q,V5z,b5z,g3q,T3q;z3q=0;if(M3q && this.useSum){for(var G3q=0;G3q < this.seriesParams.length;G3q++){V5z="C";V5z+="lose";b5z="ob";b5z+="je";b5z+="ct";g3q=this.seriesParams[G3q].field;if(g3q === Z3q)break;T3q=M3q[g3q];if(T3q && typeof T3q === b5z){T3q=T3q[p3q || this.seriesParams[G3q].subField || this.stx.chart.defaultPlotField || V5z];}if(T3q){z3q+=T3q;}}}return z3q;};f1q.Renderer.Heatmap=function(K3q){var q8J,N8J,z8J;this.construct(K3q);q8J=6321043;N8J=-2044620789;Y2WW.E6f();z8J=2;for(var h8J=1;Y2WW.K5J(h8J.toString(),h8J.toString().length,61356) !== q8J;h8J++){this.params.type="heatmap";this.params.highlightable=!{};this.barsHaveWidth=this.standaloneBars=!"";z8J+=2;}if(Y2WW.K5J(z8J.toString(),z8J.toString().length,"91774" << 384029664) !== N8J){this.params.type="";this.params.highlightable=! !"1";this.barsHaveWidth=this.standaloneBars=![];}};f1q.inheritsFrom(f1q.Renderer.Heatmap,f1q.Renderer,!1);Y2WW.F6f();f1q.Renderer.Heatmap.requestNew=function(E3q,a3q){var b3q,G5z,r3q;b3q=null;Y2WW.F6f();for(var W3q=+"0";W3q < E3q.length;W3q++){G5z="he";G5z+="at";G5z+="map";r3q=E3q[W3q];if(r3q == "heatmap"){b3q=G5z;}}if(b3q === null){return null;}return new f1q.Renderer.Heatmap({params:f1q.extend(a3q,{type:b3q})});};f1q.Renderer.Heatmap.prototype.draw=function(){Y2WW.E6f();this.stx.drawHeatmap(f1q.clone(this.params),this.seriesParams);};f1q.Renderer.Scatter=function(c3q){this.construct(c3q);this.standaloneBars=this.barsHaveWidth=! !"1";this.bounded=! !1;};f1q.inheritsFrom(f1q.Renderer.Scatter,f1q.Renderer.Lines,! !0);f1q.Renderer.Scatter.requestNew=function(u3q,w3q){var y3q,h3q;Y2WW.E6f();y3q=null;for(var d3q=0;d3q < u3q.length;d3q++){h3q=u3q[d3q];if(h3q == "scatterplot"){y3q="scatter";}}if(y3q === null){return null;}return new f1q.Renderer.Scatter({params:f1q.extend(w3q,{type:y3q})});};f1q.Renderer.Scatter.prototype.drawIndividualSeries=function(I3q,k3q){Y2WW.F6f();var P5z,Y3q,x3q;P5z="E";P5z+="rror, Scatter renderer requir";P5z+="e";P5z+="s customChart.js";Y3q=this.stx.panels[k3q.panel] || I3q.panel;x3q={colors:[]};if(this.stx.scatter){x3q=this.stx.scatter(Y3q,k3q);}else {console.warn(P5z);}return x3q;};};V9I=v3q=>{var O3q;Y2WW.E6f();O3q=typeof _CIQ !== "undefined"?_CIQ:v3q.CIQ;if(!O3q.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {O3q.Studies.calculateAccumulationDistribution=function(e3q,F3q){var t3q,n3q,J3q,j3q,X3q;Y2WW.E6f();t3q=F3q.chart.scrubbed;for(var o3q=F3q.startFrom;o3q < t3q.length;o3q++){if(!o3q)continue;n3q=t3q[o3q];if(n3q.futureTick)break;Y2WW.F0T(2);J3q=t3q[Y2WW.H0T(1,o3q)];j3q=0;if(n3q.Close > J3q.Close){j3q=n3q.Close - Math.min(n3q.Low,J3q.Close);}else if(n3q.Close < J3q.Close){j3q=n3q.Close - Math.max(n3q.High,J3q.Close);}if(F3q.inputs["Use Volume"]){j3q*=n3q.Volume;}X3q=J3q["Result " + F3q.name];if(!X3q){X3q=0;}X3q+=j3q;if(!isNaN(n3q.Close)){n3q["Result " + F3q.name]=X3q;}}};O3q.Studies.studyLibrary=O3q.extend(O3q.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:O3q.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!"1"}}});}};m9I=H3q=>{var H5z,D3q,q5z,F5z,l5z,W5z;H5z="undef";H5z+="i";H5z+="ned";D3q=typeof _CIQ !== H5z?_CIQ:H3q.CIQ;if(!D3q.Studies){q5z="adx feature requires first activating ";q5z+="studies feature.";console.error(q5z);}else {F5z="#F";F5z+="F0";F5z+="00";F5z+="0";l5z="#";l5z+="FF";l5z+="0000";W5z="#0";W5z+="0FF";W5z+="0";W5z+="0";D3q.Studies.calculateADX=function(T4q,s3q){var P4f=Y2WW;var i3q,P3q,R3q,Z0J,e0J,c0J,C4q,f4q,L4q,N4q,U3q,h5z,K5z,q3q,B3q,N5z,z5z,Q4q,V4q,m4q,A5z,Y5z,S4q,o5z;D3q.Studies.calculateStudyATR(T4q,s3q);i3q=s3q.chart.scrubbed;P3q=s3q.days;R3q=parseInt(s3q.inputs["Smoothing Period"],10);if(!R3q && R3q !== 0){R3q=P3q;}if(i3q.length < s3q.days + 1){Z0J=-848102667;e0J=-545948924;c0J=2;for(var J0J=1;P4f.z5J(J0J.toString(),J0J.toString().length,47829) !== Z0J;J0J++){s3q.error=!"1";return;}if(P4f.K5J(c0J.toString(),c0J.toString().length,"4710" ^ 0) !== e0J){s3q.error=! !{};return;}}C4q=0;f4q=0;L4q=0;N4q=0;for(var l3q=Math.max(+"1",s3q.startFrom);l3q < i3q.length;l3q++){h5z="_";h5z+="sm";h5z+="-DM ";K5z="_sm";K5z+="+D";K5z+="M";K5z+=" ";U3q=i3q[l3q];P4f.F0T(14);q3q=Math.max(P4f.a0T("0",0),U3q.High - i3q[l3q - 1].High);B3q=Math.max(0,i3q[l3q - 1].Low - U3q.Low);if(q3q > B3q){B3q=+"0";}else if(B3q > q3q){q3q=0;}else {q3q=B3q=0;}if(l3q <= P3q){N5z="True ";N5z+="Range";N5z+=" ";f4q+=q3q;L4q+=B3q;C4q+=U3q[N5z + s3q.name];}else {z5z="Tru";z5z+="e ";z5z+="Ran";z5z+="ge ";f4q=i3q[l3q - 1]["_sm+DM " + s3q.name] * (P3q - 1) / P3q + q3q;L4q=i3q[l3q - 1]["_sm-DM " + s3q.name] * (P3q - 1) / P3q + B3q;C4q=i3q[l3q - 1]["_smTR " + s3q.name] * (P3q - 1) / P3q + U3q[z5z + s3q.name];}U3q[K5z + s3q.name]=f4q;U3q[h5z + s3q.name]=L4q;U3q["_smTR " + s3q.name]=C4q;if(l3q < P3q)continue;P4f.h0T(60);Q4q=P4f.H0T(f4q,C4q,100);P4f.F0T(60);V4q=P4f.a0T(L4q,C4q,100);m4q=("100" | 32) * Math.abs(Q4q - V4q) / (Q4q + V4q);U3q["+DI " + s3q.name]=Q4q;U3q["-DI " + s3q.name]=V4q;if(s3q.inputs.Series !== !{} && R3q){if(l3q < P3q + R3q - 1){if(l3q == s3q.startFrom){for(var A4q=P3q;A4q < s3q.startFrom;A4q++){A5z="+";A5z+="DI ";N4q+=100 * Math.abs(i3q[A4q][A5z + s3q.name] - i3q[A4q]["-DI " + s3q.name]) / (i3q[A4q]["+DI " + s3q.name] + i3q[A4q]["-DI " + s3q.name]);}}N4q+=m4q;}else if(l3q == P3q + R3q - 1){P4f.F0T(8);U3q["ADX " + s3q.name]=P4f.H0T(N4q,R3q);}else {Y5z="AD";Y5z+="X ";U3q[Y5z + s3q.name]=(i3q[l3q - ("1" & 2147483647)]["ADX " + s3q.name] * (R3q - 1) + m4q) / R3q;}}if(s3q.inputs.Histogram){S4q=s3q.name + "_hist";if(!U3q["+DI " + s3q.name] && U3q["+DI " + s3q.name] !== 0)continue;if(!U3q["-DI " + s3q.name] && U3q["-DI " + s3q.name] !== 0)continue;U3q[S4q]=U3q["+DI " + s3q.name] - U3q["-DI " + s3q.name];if(s3q.inputs.Series === ![]){o5z="+";o5z+="DI";o5z+=" ";U3q[o5z + s3q.name]=null;U3q["-DI " + s3q.name]=null;}s3q.outputMap[S4q]="";}}};D3q.Studies.displayADX=function(z4q,G4q,K4q){var M5z,X5z,b4q,T5z,g4q,M4q,W4q,E4q,Z4q,p4q;M5z="Nothing to";M5z+=" display";X5z=":";X5z+=" ";b4q=G4q.underlay?0.3:G4q.inputs.Series?0.4:1;if(G4q.inputs.Series && G4q.inputs.Shading){T5z="-DI";T5z+=" ";g4q="+DI " + G4q.name;M4q=T5z + G4q.name;W4q=D3q.Studies.determineColor(G4q.outputs[G4q.outputMap[g4q]]);E4q=D3q.Studies.determineColor(G4q.outputs[G4q.outputMap[M4q]]);Z4q=G4q.getYAxis(z4q);p4q={topBand:g4q,bottomBand:M4q,topColor:W4q,bottomColor:E4q,skipTransform:z4q.panels[G4q.panel].name != G4q.chart.name,topAxis:Z4q,bottomAxis:Z4q,opacity:0.3};if(!G4q.highlight && z4q.highlightedDraggable){p4q.opacity*=0.3;}D3q.fillIntersecting(z4q,G4q.panel,p4q);}if(G4q.inputs.Histogram){D3q.Studies.createHistogram(z4q,G4q,K4q,![],b4q);}if(G4q.inputs.Series !== !{}){D3q.Studies.displaySeriesAsLine(z4q,G4q,K4q);}else if(!G4q.inputs.Series && !G4q.inputs.Histogram){z4q.displayErrorAsWatermark(G4q.panel,z4q.translateIf(G4q.name) + X5z + z4q.translateIf(M5z));}};D3q.Studies.studyLibrary=D3q.extend(D3q.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:D3q.Studies.calculateADX,seriesFN:D3q.Studies.displayADX,inputs:{Period:"14" - 0,"Smoothing Period":14,Series:! !1,Shading:![],Histogram:!1},outputs:{"+DI":W5z,"-DI":l5z,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":F5z}}});}};S9I=a4q=>{var B5z,r4q;B5z="un";B5z+="defi";B5z+="ned";Y2WW.E6f();r4q=typeof _CIQ !== B5z?_CIQ:a4q.CIQ;if(!r4q.Studies){console.error("alligator feature requires first activating studies feature.");}else {r4q.Studies.calculateAlligator=function(k4q,d4q){var V4f=Y2WW;var d5z,w5z,u4q,c4q,r3z,g5z,a8J,D8J,I8J,n5z,v5z,U5z,j3z,S3z,k3z,w4q,x4q,h4q,E3z,s3z;d5z="Show";d5z+=" Lines";w5z="Lips Pe";w5z+="r";w5z+="io";w5z+="d";u4q={J:Number(d4q.inputs["Jaw Period"]),T:Number(d4q.inputs["Teeth Period"]),L:Number(d4q.inputs[w5z])};c4q=d4q.chart.scrubbed;V4f.F6f();if(c4q.length < Math.max(u4q.J,u4q.T,u4q.L) + 1){d4q.error=! !{};return;}if(d4q.type === "Gator" || d4q.inputs[d5z]){r3z="L";r3z+="ips";g5z="Te";g5z+="e";g5z+="th";a8J=-359910954;D8J=-1182209117;I8J=2;for(var Q8J=1;V4f.z5J(Q8J.toString(),Q8J.toString().length,"614" - 0) !== a8J;Q8J++){n5z="J";n5z+="aw Off";n5z+="set";r4q.Studies.MA(n5z,u4q.J,"hl/2",d4q.inputs["hl/2"],"Jaw",k4q,d4q);I8J+=2;}if(V4f.z5J(I8J.toString(),I8J.toString().length,2093) !== D8J){v5z="Ja";v5z+="w ";v5z+="O";v5z+="ffset";U5z="J";U5z+="aw ";U5z+="Off";U5z+="set";r4q.Studies.MA("Jaw Offset",u4q.J,U5z,d4q.inputs["Jaw Offset"],v5z,k4q,d4q);}r4q.Studies.MA("welles wilder",u4q.J,"hl/2",d4q.inputs["Jaw Offset"],"Jaw",k4q,d4q);r4q.Studies.MA("welles wilder",u4q.T,"hl/2",d4q.inputs["Teeth Offset"],g5z,k4q,d4q);r4q.Studies.MA("welles wilder",u4q.L,"hl/2",d4q.inputs["Lips Offset"],r3z,k4q,d4q);}for(var y4q=d4q.startFrom;y4q < c4q.length;y4q++){if(!c4q[y4q])continue;if(d4q.type == "Gator"){j3z="_";j3z+="hist2";S3z="T";S3z+="e";S3z+="e";S3z+="th ";k3z="Ja";k3z+="w ";w4q=c4q[y4q][k3z + d4q.name];x4q=c4q[y4q]["Lips " + d4q.name];h4q=c4q[y4q][S3z + d4q.name];if(h4q || h4q === 0){E3z="_h";E3z+="ist1";if(w4q || w4q === 0){V4f.F0T(2);c4q[y4q][d4q.name + E3z]=Math.abs(V4f.a0T(h4q,w4q));}if(x4q || x4q === 0){V4f.h0T(2);c4q[y4q][d4q.name + "_hist2"]=-Math.abs(V4f.a0T(x4q,h4q));}}d4q.outputMap={};d4q.outputMap[d4q.name + "_hist1"]="";d4q.outputMap[d4q.name + j3z]="";}if(d4q.inputs["Show Fractals"]){if(!c4q[y4q - 2] || !c4q[y4q - +"1"] || !c4q[y4q] || !c4q[y4q + 1] || !c4q[y4q + 2])continue;if(c4q[y4q - ("2" ^ 0)].High && c4q[y4q - 1].High && c4q[y4q].High && c4q[y4q + 1].High && c4q[y4q + ("2" | 0)].High){if(c4q[y4q].High > c4q[y4q - 1].High && c4q[y4q].High > c4q[y4q - 2].High && c4q[y4q].High > c4q[y4q + 1].High && c4q[y4q].High > c4q[y4q + 2].High){s3z="Fract";s3z+="al Hi";s3z+="gh ";c4q[y4q][s3z + d4q.name]=1;}}if(c4q[y4q - 2].Low && c4q[y4q - 1].Low && c4q[y4q].Low && c4q[y4q + +"1"].Low && c4q[y4q + 2].Low){if(c4q[y4q].Low < c4q[y4q - 1].Low && c4q[y4q].Low < c4q[y4q - 2].Low && c4q[y4q].Low < c4q[y4q + 1].Low && c4q[y4q].Low < c4q[y4q + 2].Low){c4q[y4q]["Fractal Low " + d4q.name]=1;}}}}};r4q.Studies.displayAlligator=function(Y4q,v4q,n4q){var I4q,L3z;I4q=v4q.getContext(Y4q);if(v4q.inputs["Show Lines"]){r4q.Studies.displaySeriesAsLine(Y4q,v4q,n4q);}if(v4q.inputs["Show Fractals"]){Y4q.startClip();I4q.globalAlpha=v4q.underlay?0.3:1;if(!v4q.highlight && Y4q.highlightedDraggable){I4q.globalAlpha*=0.3;}for(var O4q=2;O4q < n4q.length - 2;O4q++){if(n4q[O4q]){L3z="F";L3z+="ractal L";L3z+="ow ";if(n4q[O4q]["Fractal High " + v4q.name]){o4q("high",O4q);}if(n4q[O4q][L3z + v4q.name]){o4q("low",O4q);}}}Y4q.endClip();}function o4q(j4q,X4q){Y2WW.F6f();var F4q,J4q,y3z,C3z;J4q=Y4q.chart.panel.yAxis.flipped;if(j4q == "high"){y3z="b";y3z+="o";y3z+="ttom";I4q.fillStyle=Y4q.defaultColor;I4q.textBaseline=J4q?"top":y3z;F4q=Y4q.pixelFromPrice(n4q[X4q].High);I4q.fillText(J4q?("1250" & 2147483647,3730) == (3618,"279.48" - 0)?(! !{},183.56):"\u25BC":"\u25B2",Y4q.pixelFromBar(O4q,Y4q.chart) - I4q.measureText(7641 != (186,8910)?"\u25B2":1114 >= 3820?(! ![],"N"):(342.43,! !"")).width / +"2" + 1,J4q?F4q + 5:F4q - 5);;}else if(j4q == "low"){C3z="botto";C3z+="m";I4q.fillStyle=Y4q.defaultColor;I4q.textBaseline=J4q?C3z:"top";F4q=Y4q.pixelFromPrice(n4q[X4q].Low);I4q.fillText(J4q?1370 !== +"610.09"?"\u25B2":(152,429.78) !== 6690?0x16d2:!0:"704.78" - 0 <= (248,826.45)?6410 > (2730,9250)?5.61e+3:(2360,656) === (903.47,3118)?72.91:"\u25BC":("g",9.19e+3),Y4q.pixelFromBar(O4q,Y4q.chart) - I4q.measureText(190.65 != (1109,1313)?205.98 < +"7150"?"\u25BC":6.76e+3:(+"0x1b65",0x1c5e)).width / +"2" + 1,J4q?F4q - 5:F4q + 5);;}}};r4q.Studies.displayGator=function(e4q,t4q,R4q){var c4f=Y2WW;var Z3z,P4q,H4q,q4q,B4q,l4q,A5q,C5q,U4q,i4q,c3z,e3z;Z3z="De";Z3z+="crea";Z3z+="sin";c4f.E6f();Z3z+="g Bar";P4q=e4q.panels[t4q.panel];H4q=t4q.getContext(e4q);q4q=t4q.getYAxis(e4q);B4q=e4q.pixelFromPrice(+"0",P4q,q4q);l4q=e4q.layout.candleWidth - 2;if(l4q < 2){l4q=1;}A5q=r4q.Studies.determineColor(t4q.outputs["Increasing Bar"]);C5q=r4q.Studies.determineColor(t4q.outputs[Z3z]);e4q.canvasColor("stx_histogram");if(!t4q.underlay){c4f.h0T(21);H4q.globalAlpha=c4f.a0T(1,"1");}H4q.fillStyle="#CCCCCC";e4q.startClip(t4q.panel);if(!t4q.highlight && e4q.highlightedDraggable){H4q.globalAlpha*=0.3;}for(var s4q=0;s4q < R4q.length;s4q++){U4q=R4q[s4q];c4f.h0T(2);i4q=R4q[c4f.a0T(1,s4q)];if(!U4q)continue;for(var D4q=+"1";D4q <= 2;D4q++){c3z="_h";c3z+="is";c3z+="t";e3z="_h";e3z+="i";e3z+="s";e3z+="t";if(!i4q){i4q=e4q.getPreviousBar(e4q.chart,t4q.name + e3z + D4q,s4q);}if(!i4q){H4q.fillStyle="#CCCCCC";}else if(Math.abs(i4q[t4q.name + "_hist" + D4q]) < Math.abs(U4q[t4q.name + "_hist" + D4q])){H4q.fillStyle=A5q;}else if(Math.abs(i4q[t4q.name + "_hist" + D4q]) > Math.abs(U4q[t4q.name + "_hist" + D4q])){H4q.fillStyle=C5q;}if(U4q.candleWidth){l4q=Math.floor(Math.max(1,U4q.candleWidth - 2));}H4q.fillRect(Math.floor(e4q.pixelFromBar(s4q,P4q.chart) - l4q / 2),Math.floor(B4q),Math.floor(l4q),Math.floor(e4q.pixelFromPrice(U4q[t4q.name + c3z + D4q],P4q,q4q) - B4q));}}e4q.endClip();};r4q.Studies.studyLibrary=r4q.extend(r4q.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !{},seriesFN:r4q.Studies.displayAlligator,calculateFN:r4q.Studies.calculateAlligator,inputs:{"Show Lines":! !"1","Jaw Period":13,"Jaw Offset":8,"Teeth Period":+"8","Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!{}},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:r4q.Studies.displayGator,calculateFN:r4q.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":+"5","Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};T9I=L5q=>{var f5q,J3z;Y2WW.E6f();f5q=typeof _CIQ !== "undefined"?_CIQ:L5q.CIQ;if(!f5q.Studies){console.error("aroon feature requires first activating studies feature.");}else {J3z="A";J3z+="roon";f5q.Studies.calculateAroon=function(W5q,N5q){var T5q,G5q,z5q,V5q,m5q,M5q,S5q,x3z,Q5q,Z5q,p5q,K5q,b5q;T5q=N5q.chart.scrubbed;if(T5q.length < N5q.days + ("1" | 1)){N5q.error=! !{};return;}G5q=0;Y2WW.F6f();z5q=0;V5q=null;m5q=null;if(N5q.startFrom > 0){M5q=T5q[N5q.startFrom - 1]["_state " + N5q.name];if(M5q){G5q=M5q[+"0"];Y2WW.F0T(27);z5q=M5q[Y2WW.H0T("1",101194624)];V5q=M5q[2];m5q=M5q[3];}}for(var g5q=N5q.startFrom;g5q < T5q.length;g5q++){x3z="Ar";x3z+="oon";x3z+=" U";x3z+="p ";Q5q=T5q[g5q];if(Q5q.futureTick)break;if(V5q === null){V5q=Q5q.High;}if(m5q === null){m5q=Q5q.Low;}V5q=Math.max(V5q,Q5q.High);if(V5q == Q5q.High){G5q=0;}else {G5q++;if(G5q > N5q.days){V5q=Q5q.High;G5q=+"0";for(S5q=1;S5q <= N5q.days;S5q++){V5q=Math.max(V5q,T5q[g5q - S5q].High);if(V5q == T5q[g5q - S5q].High){G5q=S5q;}}}}m5q=Math.min(m5q,Q5q.Low);if(m5q == Q5q.Low){z5q=0;}else {z5q++;if(z5q > N5q.days){m5q=Q5q.Low;z5q=0;for(S5q=1;S5q <= N5q.days;S5q++){m5q=Math.min(m5q,T5q[g5q - S5q].Low);if(m5q == T5q[g5q - S5q].Low){z5q=S5q;}}}}Z5q=!isNaN(Q5q.High);p5q=!isNaN(Q5q.Low);K5q=("100" >> 868347072) * (1 - G5q / N5q.days);if(Z5q){Q5q[x3z + N5q.name]=K5q;}b5q=+"100" * (1 - z5q / N5q.days);if(p5q){Q5q["Aroon Down " + N5q.name]=b5q;}if(Z5q && p5q){Q5q["Aroon Oscillator " + N5q.name]=Q5q["Aroon Up " + N5q.name] - Q5q["Aroon Down " + N5q.name];}Q5q["_state " + N5q.name]=[G5q,z5q,V5q,m5q];}};f5q.Studies.studyLibrary=f5q.extend(f5q.Studies.studyLibrary,{Aroon:{name:J3z,range:"0 to 100",calculateFN:f5q.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:f5q.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};G9I=r5q=>{var m3z,E5q,p3z,u3z,Q3z;m3z="und";m3z+="efined";E5q=typeof _CIQ !== m3z?_CIQ:r5q.CIQ;if(!E5q.Studies){p3z="atr feature requires first activating studies f";p3z+="eature.";console.error(p3z);}else {u3z="a";u3z+="u";u3z+="t";u3z+="o";Q3z="ATR Ban";Q3z+="ds";E5q.Studies.calculateATRBands=function(y5q,a5q){var D3z,a3z,c5q;D3z="AT";D3z+="R";D3z+=" ";a3z="f";Y2WW.F6f();a3z+="i";a3z+="e";a3z+="ld";E5q.Studies.calculateStudyATR(y5q,a5q);c5q=a5q.inputs.Field;if(!c5q || c5q == a3z){c5q="Close";}E5q.Studies.calculateGenericEnvelope(y5q,a5q,a5q.inputs.Shift,c5q,D3z + a5q.name);};E5q.Studies.calculateSTARCBands=function(u5q,d5q){var I3z;I3z="_";I3z+="MA";I3z+=" ";E5q.Studies.calculateStudyATR(u5q,d5q);E5q.Studies.MA("simple",d5q.inputs["MA Period"],"Close","0" - 0,"_MA",u5q,d5q);E5q.Studies.calculateGenericEnvelope(u5q,d5q,d5q.inputs.Multiplier,I3z + d5q.name,"ATR " + d5q.name);};E5q.Studies.calculateATRStops=function(J5q,h5q){var o4f=Y2WW;var Y5q,v5q,R3z,w5q,o5q,x5q,k5q,O5q,n5q;o4f.E6f();Y5q=h5q.chart.scrubbed;if(!Y5q){return;}E5q.Studies.calculateStudyATR(J5q,h5q);v5q=h5q.inputs.HighLow;for(var I5q=Math.max(h5q.startFrom - 1,+"1");I5q < Y5q.length - 1;I5q++){R3z="Buy Sto";R3z+="ps ";w5q=Y5q[I5q];o4f.h0T(2);o5q=Y5q[o4f.H0T(1,I5q)];x5q=w5q[R3z + h5q.name];if(!x5q){x5q=w5q["Sell Stops " + h5q.name];}if(!x5q){x5q=0;}if(!w5q || !o5q)continue;k5q=w5q.Close;O5q=k5q;n5q=w5q["ATR " + h5q.name] * h5q.inputs.Multiplier;if(w5q.Close > x5q && o5q.Close > x5q){if(v5q){k5q=w5q.High;}o4f.h0T(2);O5q=Math.max(x5q,o4f.a0T(n5q,k5q));}else if(w5q.Close <= x5q && o5q.Close <= x5q){if(v5q){k5q=w5q.Low;}o4f.h0T(0);O5q=Math.min(x5q,o4f.a0T(k5q,n5q));}else if(w5q.Close > x5q){if(v5q){k5q=w5q.High;}o4f.F0T(2);O5q=o4f.H0T(n5q,k5q);}else if(w5q.Close <= x5q){if(v5q){k5q=w5q.Low;}o4f.F0T(0);O5q=o4f.a0T(k5q,n5q);}if(k5q <= O5q){o4f.h0T(0);Y5q[o4f.a0T(I5q,1)]["Buy Stops " + h5q.name]=O5q;o4f.h0T(0);delete Y5q[o4f.a0T(I5q,1)]["Sell Stops " + h5q.name];}else if(k5q > O5q){o4f.h0T(35);Y5q[o4f.H0T(I5q,"1")]["Sell Stops " + h5q.name]=O5q;o4f.h0T(35);delete Y5q[o4f.H0T(I5q,"1")]["Buy Stops " + h5q.name];}o4f.F0T(0);Y5q[o4f.a0T(I5q,1)]["All Stops " + h5q.name]=O5q;}h5q.referenceOutput="All Stops";h5q.outputMap={};h5q.outputMap["All Stops " + h5q.name]="";};E5q.Studies.studyLibrary=E5q.extend(E5q.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:E5q.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:Q3z,overlay:!"",seriesFN:E5q.Studies.displayChannel,calculateFN:E5q.Studies.calculateATRBands,inputs:{Period:"5" >> 1339004064,Field:"field",Shift:3,"Channel Fill":! !1},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:! !"1",seriesFN:E5q.Studies.displayChannel,calculateFN:E5q.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:+"1.3","Channel Fill":! !1},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":u3z},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!"",seriesFN:E5q.Studies.displayPSAR2,calculateFN:E5q.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!"1"},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};z9I=j5q=>{var c8J,x8J,J8J,F5q,i3z;c8J=-1682883365;x8J=1663469103;J8J=2;for(var p8J=1;Y2WW.z5J(p8J.toString(),p8J.toString().length,+"17466") !== c8J;p8J++){F5q=+_CIQ == ""?_CIQ:j5q.CIQ;J8J+=+"2";}if(Y2WW.K5J(J8J.toString(),J8J.toString().length,22458) !== x8J){F5q=typeof _CIQ !== "undefined"?_CIQ:j5q.CIQ;}if(!F5q.Studies){i3z="awesom";i3z+="eOscillator fe";i3z+="ature requires first activating studies feature.";console.error(i3z);}else {F5q.Studies.calculateAwesomeOscillator=function(D5q,X5q){var b3z,f3z,t3z,O3z,t5q;Y2WW.F6f();b3z="_";b3z+="hi";b3z+="st";f3z="_MA3";f3z+="4";t3z="h";t3z+="l/2";O3z="si";O3z+="mpl";O3z+="e";t5q=X5q.chart.scrubbed;if(t5q.length < 33){X5q.error=! !{};return;}F5q.Studies.MA("simple",5,"hl/2",0,"_MA5",D5q,X5q);F5q.Studies.MA(O3z,34,t3z,0,f3z,D5q,X5q);for(var e5q=Math.max(X5q.startFrom,33);e5q < t5q.length;e5q++){if(!t5q[e5q])continue;t5q[e5q][X5q.name + "_hist"]=t5q[e5q]["_MA5 " + X5q.name] - t5q[e5q]["_MA34 " + X5q.name];}X5q.outputMap={};X5q.outputMap[X5q.name + b3z]="";};F5q.Studies.displayAwesomeOscillator=function(s5q,H5q,B5q){var G3z,V3z,q5q,U5q,A7q,C7q,P5q,f7q,L7q,H3z,P3z,i5q,R5q;G3z="#C";G3z+="C";G3z+="CCCC";V3z="Inc";V3z+="reasing Bar";q5q=s5q.panels[H5q.panel];U5q=H5q.getContext(s5q);A7q=H5q.getYAxis(s5q);C7q=s5q.pixelFromPrice(0,q5q,A7q);P5q=s5q.layout.candleWidth - ("2" & 2147483647);if(P5q < 2){P5q=1;}f7q=F5q.Studies.determineColor(H5q.outputs[V3z]);L7q=F5q.Studies.determineColor(H5q.outputs["Decreasing Bar"]);s5q.canvasColor("stx_histogram");if(!H5q.underlay){U5q.globalAlpha=1;}U5q.fillStyle=G3z;s5q.startClip(H5q.panel);if(!H5q.highlight && s5q.highlightedDraggable){U5q.globalAlpha*=0.3;}for(var l5q=0;l5q < B5q.length;l5q++){H3z="_";H3z+="hist";P3z="_h";P3z+="ist";i5q=B5q[l5q];Y2WW.F0T(2);R5q=B5q[Y2WW.H0T(1,l5q)];if(!R5q){R5q=s5q.getPreviousBar(s5q.chart,H5q.name + "_hist",l5q);}if(!i5q)continue;if(!R5q);else if(R5q[H5q.name + "_hist"] < i5q[H5q.name + "_hist"]){U5q.fillStyle=f7q;}else if(R5q[H5q.name + P3z] > i5q[H5q.name + "_hist"]){U5q.fillStyle=L7q;}if(i5q.candleWidth){P5q=Math.floor(Math.max(1,i5q.candleWidth - 2));}U5q.fillRect(Math.floor(s5q.pixelFromBar(l5q,q5q.chart) - P5q / 2),Math.floor(C7q),Math.floor(P5q),Math.floor(s5q.pixelFromPrice(i5q[H5q.name + H3z],q5q,A7q) - C7q));}s5q.endClip();};F5q.Studies.studyLibrary=F5q.extend(F5q.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:F5q.Studies.displayAwesomeOscillator,calculateFN:F5q.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};g9I=Q7q=>{var N7q;Y2WW.F6f();N7q=typeof _CIQ !== "undefined"?_CIQ:Q7q.CIQ;if(!N7q.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {N7q.Studies.calculateBalanceOfPower=function(G7q,V7q){var N3z,q3z,S7q,m7q;N3z="Re";N3z+="sul";N3z+="t";Y2WW.F6f();q3z="_Ratio";q3z+=" ";S7q=V7q.chart.scrubbed;if(S7q.length < V7q.days + 1){V7q.error=!0;return;}for(var T7q=V7q.startFrom;T7q < S7q.length;T7q++){m7q=S7q[T7q];m7q["_Ratio " + V7q.name]=m7q.Close - m7q.Open;if(m7q.High - m7q.Low !== 0){m7q["_Ratio " + V7q.name]/=m7q.High - m7q.Low;}}N7q.Studies.MA(V7q.inputs["Moving Average Type"],V7q.days,q3z + V7q.name,0,N3z,G7q,V7q);};N7q.Studies.studyLibrary=N7q.extend(N7q.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:N7q.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};M9I=g7q=>{Y2WW.F6f();var z7q,W3z,M3z,X3z,T3z,o3z,Y3z;z7q=typeof _CIQ !== "undefined"?_CIQ:g7q.CIQ;if(!z7q.Studies){console.error("bollinger feature requires first activating studies feature.");}else {W3z="Boll";W3z+="inger Bandwidth";M3z="Bol";M3z+="linger %b";X3z="a";X3z+="u";X3z+="t";X3z+="o";T3z="m";T3z+="a";o3z="fi";o3z+="e";o3z+="l";o3z+="d";Y3z="Bollinger Ba";Y3z+="n";Y3z+="ds";z7q.Studies.calculateBollinger=function(p7q,M7q){var A3z,h3z,K3z,z3z,Z7q;A3z="%";A3z+="b";h3z="Stan";h3z+="dard Deviat";h3z+="ions";K3z="Mo";K3z+="ving Average Type";z3z="Moving Avera";z3z+="ge";z3z+=" T";z3z+="ype";Z7q=M7q.inputs.Field;Y2WW.E6f();if(!Z7q || Z7q == "field"){Z7q="Close";}z7q.Studies.MA(M7q.inputs[z3z],M7q.days,Z7q,0,"_MA",p7q,M7q);M7q.std=new z7q.Studies.StudyDescriptor(M7q.name,"STD Dev",M7q.panel);M7q.std.chart=M7q.chart;M7q.std.startFrom=M7q.startFrom;M7q.std.days=M7q.days;M7q.std.inputs={Field:Z7q,"Standard Deviations":1,Type:M7q.inputs[K3z]};M7q.std.outputs={"_STD Dev":null};z7q.Studies.calculateStandardDeviation(p7q,M7q.std);z7q.Studies.calculateGenericEnvelope(p7q,M7q,M7q.inputs[h3z],"_MA " + M7q.name,"_STD Dev " + M7q.name);if(M7q.type == "Boll %b"){M7q.zoneOutput=A3z;}};z7q.Studies.studyLibrary=z7q.extend(z7q.Studies.studyLibrary,{"Bollinger Bands":{name:Y3z,overlay:! !"1",calculateFN:z7q.Studies.calculateBollinger,seriesFN:z7q.Studies.displayChannel,inputs:{Period:"20" - 0,Field:o3z,"Standard Deviations":"2" * 1,"Moving Average Type":T3z,"Channel Fill":! !{}},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":X3z},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:M3z,calculateFN:z7q.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:W3z,calculateFN:z7q.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:+"0.1",step:0.1}}}});}};Z9I=b7q=>{var N5f=Y2WW;var K7q,g4J,r1J,S1J,F3z;K7q=typeof _CIQ !== "undefined"?_CIQ:b7q.CIQ;if(!K7q.Studies){console.error("cci feature requires first activating studies feature.");}else {K7q.Studies.calculateCCI=function(d7q,W7q){var r7q,l3z,E7q,c7q;r7q=W7q.chart.scrubbed;if(r7q.length < W7q.days + 1){W7q.error=!"";return;}K7q.Studies.MA("simple",W7q.days,"hlc/3",0,"MA",d7q,W7q);for(var a7q=Math.max(W7q.startFrom,W7q.days - +"1");a7q < r7q.length;a7q++){l3z="R";l3z+="esult";l3z+=" ";E7q=r7q[a7q];if(!E7q)continue;c7q=0;for(var y7q=0;y7q < W7q.days;y7q++){c7q+=Math.abs(r7q[a7q - y7q]["hlc/3"] - E7q["MA " + W7q.name]);}c7q/=W7q.days;if(Math.abs(c7q) < 0.00000001){E7q[l3z + W7q.name]=0;}else {E7q["Result " + W7q.name]=(E7q["hlc/3"] - E7q["MA " + W7q.name]) / (+"0.015" * c7q);}}};N5f.h0T(14);g4J=-N5f.H0T("892138579",0);r1J=-1859371218;S1J=2;for(var e1J=1;N5f.K5J(e1J.toString(),e1J.toString().length,52269) !== g4J;e1J++){F3z="Commo";F3z+="dity";F3z+=" Channel I";F3z+="ndex";K7q.Studies.studyLibrary=K7q.extend(K7q.Studies.studyLibrary,{CCI:{name:F3z,calculateFN:K7q.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});S1J+=2;}if(N5f.K5J(S1J.toString(),S1J.toString().length,235) !== r1J){K7q.Studies.studyLibrary=K7q.extend(K7q.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:K7q.Studies.calculateCCI,inputs:{Period:49},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:357,studyOverBoughtColor:"Commodity Channel Index",studyOverSoldValue:~863,studyOverSoldColor:"Commodity Channel Index"}},attributes:{Period:{min:1}}}});}}};p9I=h7q=>{Y2WW.F6f();var u7q,B3z,n3z;u7q=typeof _CIQ !== "undefined"?_CIQ:h7q.CIQ;if(!u7q.Studies){B3z="centerOfGravit";B3z+="y feature requires first act";B3z+="ivating s";B3z+="tudies feature.";console.error(B3z);}else {n3z="Center Of Gra";n3z+="vity";u7q.Studies.calculateCenterOfGravity=function(o7q,w7q){var Z4f=Y2WW;var w3z,x7q,k7q,d3z,v7q,O7q,n7q;w3z="C";w3z+="lo";w3z+="se";x7q=w7q.chart.scrubbed;if(x7q.length < w7q.days){w7q.error=!0;return;}k7q=w7q.inputs.Field;if(!k7q || k7q == "field"){k7q=w3z;}for(var Y7q=Math.max(w7q.startFrom,w7q.days - +"1");Y7q < x7q.length;Y7q++){d3z="Re";d3z+="sult";d3z+=" ";v7q=0;O7q=0;for(var I7q="0" - 0;I7q < w7q.days;I7q++){Z4f.F0T(2);n7q=x7q[Z4f.H0T(I7q,Y7q)][k7q];Z4f.F0T(61);v7q-=Z4f.H0T(1,I7q,n7q);O7q+=n7q;}if(O7q){Z4f.h0T(8);x7q[Y7q][d3z + w7q.name]=Z4f.H0T(v7q,O7q);}}};u7q.Studies.studyLibrary=u7q.extend(u7q.Studies.studyLibrary,{COG:{name:n3z,calculateFN:u7q.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};K9I=F7q=>{var J7q,S4z;J7q=typeof _CIQ !== "undefined"?_CIQ:F7q.CIQ;if(!J7q.Studies){console.error("chaikin feature requires first activating studies feature.");}else {S4z="C";S4z+="haiki";S4z+="n ";S4z+="Volatility";J7q.Studies.calculateChaikinMoneyFlow=function(s7q,t7q){var W4f=Y2WW;var m0J,p0J,a0J,j7q,D7q,e7q,H7q,U3z,g3z,v3z;W4f.E6f();m0J=-1802608478;p0J=-664053693;W4f.h0T(13);a0J=W4f.H0T("2",897783072);for(var I0J=1;W4f.z5J(I0J.toString(),I0J.toString().length,66351) !== m0J;I0J++){j7q=t7q.chart.scrubbed;a0J+=2;}if(W4f.z5J(a0J.toString(),a0J.toString().length,44798) !== p0J){j7q=t7q.chart.scrubbed;}if(j7q.length < t7q.days){t7q.error=! ![];return;}D7q=0;e7q=0;H7q=j7q[t7q.startFrom - 1];if(H7q){U3z="_";U3z+="s";U3z+="um";U3z+="V ";if(H7q["_sumMF " + t7q.name]){D7q=H7q["_sumMF " + t7q.name];}if(H7q[U3z + t7q.name]){e7q=H7q["_sumV " + t7q.name];}}for(var X7q=t7q.startFrom;X7q < j7q.length;X7q++){g3z="_sum";g3z+="M";g3z+="F ";if(j7q[X7q].High == j7q[X7q].Low){j7q[X7q]["_MFV " + t7q.name]=+"0";}else {j7q[X7q]["_MFV " + t7q.name]=j7q[X7q].Volume * (2 * j7q[X7q].Close - j7q[X7q].High - j7q[X7q].Low) / (j7q[X7q].High - j7q[X7q].Low);}D7q+=j7q[X7q]["_MFV " + t7q.name];e7q+=j7q[X7q].Volume;if(X7q > t7q.days - 1){v3z="Resu";v3z+="l";v3z+="t ";D7q-=j7q[X7q - t7q.days]["_MFV " + t7q.name];e7q-=j7q[X7q - t7q.days].Volume;if(e7q){W4f.F0T(8);j7q[X7q][v3z + t7q.name]=W4f.a0T(D7q,e7q);}}j7q[X7q][g3z + t7q.name]=D7q;j7q[X7q]["_sumV " + t7q.name]=e7q;}};J7q.Studies.calculateChaikinVolatility=function(R7q,U7q){var i7q,l7q,r4z,P7q,k4z;Y2WW.F6f();i7q=U7q.chart.scrubbed;if(i7q.length < U7q.days){U7q.error=!"";return;}for(l7q=U7q.startFrom;l7q < i7q.length;l7q++){r4z="_";r4z+="High-";r4z+="Low ";if(i7q[l7q].futureTick)break;i7q[l7q][r4z + U7q.name]=i7q[l7q].High - i7q[l7q].Low;}J7q.Studies.MA(U7q.inputs["Moving Average Type"],U7q.days,"_High-Low " + U7q.name,+"0","_MA",R7q,U7q);P7q=U7q.inputs["Rate Of Change"];if(!P7q){P7q=U7q.days;}for(l7q=Math.max(U7q.startFrom,P7q);l7q < i7q.length;l7q++){k4z="_";k4z+="MA ";if(!i7q[l7q - P7q]["_MA " + U7q.name])continue;if(i7q[l7q].futureTick)break;i7q[l7q]["Result " + U7q.name]=100 * (i7q[l7q][k4z + U7q.name] / i7q[l7q - P7q]["_MA " + U7q.name] - 1);}};J7q.Studies.studyLibrary=J7q.extend(J7q.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:J7q.Studies.calculateChaikinMoneyFlow,inputs:{Period:"20" * 1}},"Chaikin Vol":{name:S4z,calculateFN:J7q.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":"2" * 1,"Moving Average Type":"ma"}}});}};b9I=B7q=>{var q7q,Z4z,j4z,E4z;q7q=typeof _CIQ !== "undefined"?_CIQ:B7q.CIQ;if(!q7q.Studies){console.error("chande feature requires first activating studies feature.");}else {Z4z="f";Z4z+="i";Z4z+="e";Z4z+="ld";j4z="Var";j4z+="iable";E4z="variabl";E4z+="e";q7q.Studies.prettify.variable="vma";q7q.Studies.movingAverage.conversions.vma=E4z;q7q.Studies.movingAverage.translations.variable="Variable";q7q.Studies.movingAverage.typeMap.vma=j4z;q7q.Studies.movingAverage.typeMap.variable="Variable";q7q.Studies.calculateChandeForecast=function(Q2q,A2q){var s4z,C2q,f2q,y4z,N2q;s4z="fiel";s4z+="d";C2q=A2q.chart.scrubbed;if(C2q.length < A2q.days + ("1" ^ 0)){A2q.error=! !{};return;}f2q=A2q.inputs.Field;if(!f2q || f2q == s4z){f2q="Close";}q7q.Studies.MA("time series",A2q.days,f2q,0,"MA",Q2q,A2q);for(var L2q=Math.max(1,A2q.startFrom);L2q < C2q.length;L2q++){y4z="R";y4z+="e";y4z+="sult ";N2q=C2q[L2q][f2q];if(N2q && typeof N2q == "object"){N2q=N2q[A2q.subField];}C2q[L2q][y4z + A2q.name]=("100" ^ 0) * (1 - C2q[L2q]["MA " + A2q.name] / N2q);}};q7q.Studies.calculateChandeMomentum=function(E2q,V2q){var B4f=Y2WW;var L4z,C4z,g2q,T2q,G2q,M2q,Z2q,p2q,z2q,S2q,K2q,b2q;L4z="Clos";L4z+="e";C4z="fie";C4z+="l";C4z+="d";g2q=V2q.name;for(var W2q in V2q.outputs){B4f.h0T(47);g2q=B4f.H0T(g2q,+"989.51" >= 8813?7.69e+3:" ",W2q);}T2q=V2q.chart.scrubbed;if(T2q.length < V2q.days + "1" * 1){V2q.error=!0;return;}G2q=V2q.inputs.Field;if(!G2q || G2q == C4z){G2q=L4z;}M2q=0;Z2q=0;p2q=[];for(var m2q=V2q.startFrom - V2q.days + +"1";m2q < T2q.length;m2q++){if(m2q < 1)continue;z2q=T2q[m2q][G2q];B4f.h0T(2);S2q=T2q[B4f.a0T(1,m2q)][G2q];if(z2q && typeof z2q == "object"){z2q=z2q.Close;}if(S2q && typeof S2q == "object"){S2q=S2q.Close;}if(S2q === undefined)continue;B4f.F0T(2);K2q=B4f.a0T(S2q,z2q);p2q.push(K2q);M2q+=K2q;Z2q+=Math.abs(K2q);if(p2q.length == V2q.days){B4f.h0T(60);T2q[m2q][g2q]=B4f.H0T(M2q,Z2q,100);b2q=p2q.shift();M2q-=b2q;Z2q-=Math.abs(b2q);}}};q7q.Studies.calculateMovingAverageVariable=function(F2q,r2q){var N4f=Y2WW;var t2q,d2q,n2q,h2q,u2q,w2q,y2q,a2q,c2q,x2q,O2q,o2q,v2q,k2q,X2q,Y2q,J2q,I2q;t2q=r2q.inputs.Type;d2q=r2q.chart.scrubbed;n2q=2 / (r2q.days + ("1" >> 5082496));h2q=null;u2q=r2q.name;for(var j2q in r2q.outputs){N4f.h0T(47);u2q=N4f.H0T(u2q," ",j2q);}w2q=r2q.inputs.Field;if(!w2q || w2q == "field"){w2q="Close";}r2q.cmo=new q7q.Studies.StudyDescriptor(r2q.name,"cmo",r2q.panel);r2q.cmo.chart=r2q.chart;r2q.cmo.days=9;r2q.cmo.inputs={Field:w2q};r2q.cmo.startFrom=r2q.startFrom;r2q.cmo.outputs={_CMO:null};q7q.Studies.calculateChandeMomentum(F2q,r2q.cmo);y2q=parseInt(r2q.inputs.Offset,+"10");if(isNaN(y2q)){y2q=0;}O2q=r2q.startFrom;o2q=y2q;for(a2q=r2q.startFrom - 1;a2q >= +"0";a2q--){c2q=d2q[a2q][u2q];if(!c2q && c2q !== 0)continue;if(h2q === null){h2q=c2q;}if(o2q <= 0)break;o2q--;O2q=a2q;}if(h2q === null){h2q=O2q=0;}v2q=[];for(a2q=O2q;a2q < d2q.length;a2q++){k2q=d2q[a2q];c2q=k2q[w2q];if(c2q && typeof c2q == "object"){c2q=c2q[r2q.subField];}X2q=a2q + y2q >= "0" << 1194252544 && a2q + y2q < d2q.length;Y2q=X2q?d2q[a2q + y2q]:null;if(!c2q && c2q !== 0){if(Y2q){Y2q[u2q]=null;}else if(a2q + y2q >= d2q.length){x2q={};x2q[u2q]=null;v2q.push(x2q);}continue;}if(!k2q["_CMO " + r2q.name] && k2q["_CMO " + r2q.name] !== 0)continue;J2q=Math.abs(k2q["_CMO " + r2q.name]) / 100;N4f.h0T(62);I2q=N4f.H0T(J2q,h2q,n2q,n2q,J2q,c2q,1);h2q=I2q;if(a2q < r2q.days){I2q=null;}if(Y2q){Y2q[u2q]=I2q;}else if(a2q + y2q >= d2q.length){x2q={};x2q[u2q]=I2q;v2q.push(x2q);}}r2q.appendFutureTicks(F2q,v2q);};q7q.Studies.studyLibrary=q7q.extend(q7q.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:q7q.Studies.calculateChandeForecast,inputs:{Period:+"14",Field:Z4z}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:q7q.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};W9I=D2q=>{var e2q,x4z;e2q=typeof _CIQ !== "undefined"?_CIQ:D2q.CIQ;if(!e2q.Studies){console.error("choppiness feature requires first activating studies feature.");}else {x4z="a";x4z+="u";x4z+="t";x4z+="o";e2q.Studies.calculateChoppiness=function(P2q,H2q){var U2q,e4z,s2q,i2q,c4z;e2q.Studies.calculateStudyATR(P2q,H2q);U2q=H2q.chart.scrubbed;function R2q(f8q,C8q){var B2q,A8q;B2q=Number.MAX_VALUE * -1;A8q=Number.MAX_VALUE;for(var q2q=C8q - f8q + 1;q2q <= C8q;q2q++){if(q2q < +"0")continue;B2q=Math.max(B2q,U2q[q2q].High);A8q=Math.min(A8q,U2q[q2q].Low);}return [A8q,B2q];}if(U2q.length < H2q.days + "1" * 1){H2q.error=! !{};return;}Y2WW.F6f();for(var l2q=Math.max(H2q.startFrom,H2q.days);l2q < U2q.length;l2q++){e4z="Sum";e4z+=" True Range ";s2q=U2q[l2q];if(!s2q)continue;if(s2q.futureTick)break;i2q=R2q(H2q.days,l2q);if(s2q[e4z + H2q.name]){c4z="R";c4z+="es";c4z+="ult ";s2q[c4z + H2q.name]=100 * Math.log(s2q["Sum True Range " + H2q.name] / Math.max(0.000001,i2q[1] - i2q[0])) / Math.log(H2q.days);}else if(!isNaN(s2q)){Y2WW.h0T(21);s2q["Result " + H2q.name]=Y2WW.a0T(1,"0");}}};e2q.Studies.studyLibrary=e2q.extend(e2q.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:e2q.Studies.calculateChoppiness,centerline:"50" | 32,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:+"38.2",studyOverSoldColor:x4z}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:+"50",step:"0.1"}}}});}};E9I=N8q=>{Y2WW.F6f();var L8q,z4z,N4z,q4z,H4z;L8q=typeof _CIQ !== "undefined"?_CIQ:N8q.CIQ;if(!L8q.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!L8q.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {z4z="B";z4z+="e";z4z+="t";z4z+="a";N4z="#F";N4z+="F";N4z+="0000";q4z="#0";q4z+="0DD00";H4z="S";H4z+="P";H4z+="Y";L8q.Studies.calculateCorrelationCoefficient=function(E8q,Q8q){var H4f=Y2WW;var m8q,T8q,G8q,z8q,g8q,Z8q,p8q,K8q,b8q,W8q,p4z,m4z,S8q,J4z,a4z,a8q,c8q,y8q,d8q;H4f.E6f();m8q=Q8q.chart.scrubbed;T8q=Q8q.days;if(m8q.length < T8q + 1){Q8q.error=! !{};return;}Q8q.compare=Q8q.inputs["Compare To"];if(!Q8q.compare){Q8q.compare=[];Q8q.outputs={};Q8q.outputMap={};for(var r8q in E8q.chart.series){G8q=E8q.chart.series[r8q];if(G8q.parameters.color){Q8q.compare.push(G8q.display);Q8q.outputs["Result " + G8q.display]=G8q.parameters.color;Q8q.outputMap["Result " + G8q.display + (("2600" >> 1064726112,3260) != +"1378"?" ":(479.84,4035) == 7653?(398.23,"71.55" - 0):(1249,4780) != (32.18,"33.57" - 0)?"k":(0x135d,0x21e6)) + Q8q.name]="Result " + G8q.display;}}}else {Q8q.compare=[Q8q.compare];}if(!Q8q.compare.length){Q8q.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var M8q=0;M8q < Q8q.compare.length;M8q++){z8q=+"0";g8q=0;Z8q=0;p8q=0;H4f.F0T(13);K8q=H4f.H0T("0",1008096064);b8q=Q8q.compare[M8q];H4f.F0T(34);W8q=H4f.a0T(2147483647,"0");for(var V8q=Q8q.startFrom - T8q;V8q < m8q.length;V8q++){p4z="_temp";p4z+="s ";m4z="_te";m4z+="mp";m4z+="s";m4z+=" ";if(!m8q[V8q])continue;S8q=m8q[V8q][b8q];if(S8q && typeof S8q == "object"){S8q=S8q.Close;}if(!S8q && S8q !== 0){J4z="_t";J4z+="em";J4z+="ps ";if(V8q > 0 && m8q[V8q - 1] && m8q[V8q - 1]["_temps " + Q8q.name] && m8q[V8q - 1][J4z + Q8q.name].c){S8q=m8q[V8q - +"1"]["_temps " + Q8q.name].c;}else {S8q=0;}}if(S8q && typeof S8q == "object"){S8q=S8q.Close;}m8q[V8q]["_temps " + Q8q.name]={};z8q+=m8q[V8q]["_temps " + Q8q.name].b=m8q[V8q].Close;g8q+=m8q[V8q][m4z + Q8q.name].c=S8q;Z8q+=m8q[V8q]["_temps " + Q8q.name].b2=Math.pow(m8q[V8q].Close,2);p8q+=m8q[V8q][p4z + Q8q.name].c2=Math.pow(S8q,2);K8q+=m8q[V8q]["_temps " + Q8q.name].bc=m8q[V8q].Close * S8q;if(W8q >= T8q){a4z="_te";a4z+="mps";a4z+=" ";z8q-=m8q[V8q - T8q]["_temps " + Q8q.name].b;g8q-=m8q[V8q - T8q][a4z + Q8q.name].c;Z8q-=m8q[V8q - T8q]["_temps " + Q8q.name].b2;p8q-=m8q[V8q - T8q]["_temps " + Q8q.name].c2;K8q-=m8q[V8q - T8q]["_temps " + Q8q.name].bc;a8q=Z8q / T8q - Math.pow(z8q / T8q,"2" - 0);c8q=p8q / T8q - Math.pow(g8q / T8q,+"2");y8q=K8q / T8q - z8q * g8q / Math.pow(T8q,2);d8q=y8q / Math.sqrt(a8q * c8q);m8q[V8q]["Result " + b8q + ((4970,6134) >= (7040,712.48)?" ":(1.73e+2,"t")) + Q8q.name]=d8q;}W8q++;}}};L8q.Studies.calculatePerformance=function(Y8q,u8q){var t4f=Y2WW;var R4z,I4z,D4z,h8q,k8q,M4J,W4J,l4J,Q4z,x8q;R4z="_";R4z+="MA Co";R4z+="mp";I4z="_";I4z+="MA Ba";I4z+="s";I4z+="e";D4z="Compariso";D4z+="n Symb";D4z+="ol";h8q=u8q.chart.scrubbed;k8q=u8q.inputs[D4z].toUpperCase();if(!k8q){k8q=u8q.study.inputs["Comparison Symbol"];}if(!u8q.days){u8q.days=u8q.study.inputs.Period;}if(h8q.length < u8q.days + 1){u8q.error=! !{};M4J=1775820381;W4J=1213026545;t4f.h0T(13);l4J=t4f.H0T("2",1860271488);for(var B4J=1;t4f.K5J(B4J.toString(),B4J.toString().length,56234) !== M4J;B4J++){return;}if(t4f.K5J(l4J.toString(),l4J.toString().length,77918) !== W4J){return;}}L8q.Studies.MA("ma",u8q.days,"Close",0,I4z,Y8q,u8q);L8q.Studies.MA("ma",u8q.days,k8q,0,R4z,Y8q,u8q);for(var w8q=u8q.startFrom;w8q < h8q.length;w8q++){Q4z="R";Q4z+="esu";Q4z+="lt ";x8q=h8q[w8q][k8q];if(x8q && (x8q.Close || x8q.Close === +"0")){x8q=x8q.Close;}h8q[w8q][Q4z + u8q.name]=h8q[w8q].Close / x8q * (h8q[w8q]["_MA Comp " + u8q.name] / h8q[w8q]["_MA Base " + u8q.name]);}};L8q.Studies.calculateBeta=function(F8q,I8q){var z4f=Y2WW;var G4z,V4z,i4z,v8q,J8q,u4z,n8q,o8q,b4z,f4z,t4z,O4z,P4z;G4z="_V";G4z+="A";G4z+="R";V4z="m";V4z+="a";i4z="_MA";i4z+=" Comp";v8q=I8q.chart.scrubbed;J8q=I8q.inputs["Comparison Symbol"].toUpperCase();if(!J8q){J8q=I8q.study.inputs["Comparison Symbol"];}if(!I8q.days){I8q.days=I8q.study.inputs.Period;}if(v8q.length < I8q.days + 1){I8q.error=! !1;return;}for(var O8q=Math.max(I8q.startFrom,1);O8q < v8q.length;O8q++){u4z="_Ba";u4z+="seC";u4z+="han";u4z+="ge ";v8q[O8q][u4z + I8q.name]=v8q[O8q].Close / v8q[O8q - "1" * 1].Close - 1;n8q=v8q[O8q][J8q];if(n8q && (n8q.Close || n8q.Close === 0)){n8q=n8q.Close;}z4f.F0T(2);o8q=v8q[z4f.H0T(1,O8q)][J8q];if(o8q && (o8q.Close || o8q.Close === +"0")){o8q=o8q.Close;}z4f.h0T(63);v8q[O8q]["_CompChange " + I8q.name]=z4f.H0T(n8q,o8q,1);}L8q.Studies.MA("ma",I8q.days,"_BaseChange " + I8q.name,0,"_MA Base",F8q,I8q);L8q.Studies.MA("ma",I8q.days,"_CompChange " + I8q.name,0,i4z,F8q,I8q);for(O8q=Math.max(I8q.startFrom,I8q.days);O8q < v8q.length;O8q++){b4z="_Com";b4z+="pChang";b4z+="e";b4z+=" ";f4z="_V";f4z+="A";f4z+="Rn ";t4z="_M";t4z+="A";t4z+=" ";t4z+="Comp ";O4z="_MA";O4z+=" B";O4z+="ase";O4z+=" ";v8q[O8q]["_COVARn " + I8q.name]=(v8q[O8q]["_BaseChange " + I8q.name] - v8q[O8q][O4z + I8q.name]) * (v8q[O8q]["_CompChange " + I8q.name] - v8q[O8q][t4z + I8q.name]);v8q[O8q][f4z + I8q.name]=Math.pow(v8q[O8q][b4z + I8q.name] - v8q[O8q]["_MA Comp " + I8q.name],2);}L8q.Studies.MA(V4z,I8q.days,"_COVARn " + I8q.name,0,"_COVAR",F8q,I8q);L8q.Studies.MA("ma",I8q.days,"_VARn " + I8q.name,+"0",G4z,F8q,I8q);for(O8q=Math.max(I8q.startFrom,I8q.days * +"2" - +"1");O8q < v8q.length;O8q++){P4z="_VA";P4z+="R";P4z+=" ";v8q[O8q]["Result " + I8q.name]=v8q[O8q]["_COVAR " + I8q.name] / v8q[O8q][P4z + I8q.name];}};L8q.Studies.studyLibrary=L8q.extend(L8q.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:L8q.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:"1" >> 924540128,initializeFN:L8q.Studies.initPriceRelative,seriesFN:L8q.Studies.displayVsComparisonSymbol,calculateFN:L8q.Studies.calculatePerformance,inputs:{Period:+"120","Comparison Symbol":H4z},outputs:{Result:"auto",Gain:q4z,Loss:N4z},deferUpdate:!0},Beta:{name:z4z,centerline:1,initializeFN:L8q.Studies.initPriceRelative,seriesFN:L8q.Studies.displayVsComparisonSymbol,calculateFN:L8q.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! !1}});}};r9I=X8q=>{var j8q,A4z;j8q=typeof _CIQ !== "undefined"?_CIQ:X8q.CIQ;if(!j8q.Studies){console.error("coppock feature requires first activating studies feature.");}else {A4z="f";A4z+="ie";A4z+="l";A4z+="d";j8q.Studies.calculateCoppock=function(R8q,t8q){var J4f=Y2WW;var h4z,K4z,e8q,D8q,s8q,U8q,l8q,i8q,P8q;h4z="Res";h4z+="ul";h4z+="t";K4z="L";K4z+="o";K4z+="ng RoC";e8q=t8q.chart.scrubbed;D8q=t8q.inputs.Field;if(!D8q || D8q == "field"){D8q="Close";}s8q=parseInt(t8q.inputs[K4z],10);if(!s8q){s8q=14;}U8q=parseInt(t8q.inputs["Short RoC"],10);if(!U8q){U8q=11;}l8q=t8q.days;if(!l8q){l8q=10;}if(s8q < U8q){return;}if(e8q.length < Math.max(U8q,s8q,l8q) + 1){t8q.error=! ![];return;}for(var H8q=Math.max(t8q.startFrom,s8q);H8q < e8q.length;H8q++){J4f.h0T(2);i8q=e8q[J4f.a0T(U8q,H8q)][D8q];J4f.h0T(2);P8q=e8q[J4f.a0T(s8q,H8q)][D8q];if(i8q && P8q){e8q[H8q]["_Sum " + t8q.name]=100 * (e8q[H8q][D8q] / i8q + e8q[H8q][D8q] / P8q - ("2" >> 647877760));}}j8q.Studies.MA("weighted",l8q,"_Sum " + t8q.name,0,h4z,R8q,t8q);};j8q.Studies.studyLibrary=j8q.extend(j8q.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:j8q.Studies.calculateCoppock,inputs:{Period:"10" & 2147483647,Field:A4z,"Short RoC":11,"Long RoC":14}}});}};a9I=B8q=>{var q8q,L1z,C1z;q8q=typeof _CIQ !== "undefined"?_CIQ:B8q.CIQ;if(!q8q.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {L1z="#5F7CB";L1z+="8";C1z="hi";C1z+="gh/lo";C1z+="w";q8q.Studies.calculateDarvas=function(E0q,m0q){var T4z,o4z,Y4z,A0q,V0q,p0q,b0q,S0q,L0q,Q0q,z0q,T0q,g0q,G0q,f0q,N0q,M0q,C0q,B4z,M4z,X4z,W4z,F4z,l4z,d4z,w4z,n4z,v4z,U4z,g4z;T4z="Sp";T4z+="ike";o4z="L";o4z+="oss";Y4z="Leve";Y4z+="l";Y4z+=" O";Y4z+="ffset";A0q=m0q.chart.scrubbed;V0q=0;p0q=parseInt(m0q.inputs["ATH Lookback Period"],10);if(m0q.inputs["Volume Spike"]){q8q.Studies.MA("simple",p0q,"Volume",0,"ADV",E0q,m0q);}b0q=parseFloat(m0q.inputs["Volume % of Avg"]) / 100;S0q="none";L0q={};Q0q=null;z0q=null;T0q=null;g0q=parseFloat(m0q.inputs[Y4z]);G0q=![];if(G0q){console.log("*****************");}N0q={};["Darvas","Ghost","Profit",o4z,"ATH","ADV",T4z].forEach(function(r0q){Y2WW.F6f();N0q[r0q]=r0q + ((6846,5210) <= "521.39" - 0?754.24:8820 === ("747.51" * 1,7930)?!"":889 > 5585?("a",6.55e+3):" ") + m0q.name;});for(f0q=m0q.startFrom - 1;f0q > 0;f0q--){M0q=A0q[f0q];if(M0q[N0q.Darvas] || M0q[N0q.Ghost]){for(var W0q in N0q){M0q[W0q]=null;}}else {V0q=M0q[N0q.ATH] || 0;z0q=M0q[N0q.Profit];T0q=M0q[N0q.Loss];break;}}for(f0q;f0q < A0q.length;f0q++){C0q=A0q[f0q];if(!C0q)continue;if(parseFloat(m0q.inputs["Price Minimum"]) <= A0q[V0q].Close){B4z="da";B4z+="r";B4z+="v";B4z+="as";M4z="hi";M4z+="gh/";M4z+="lo";M4z+="w";X4z="Exit";X4z+=" Fiel";X4z+="d";if(Q0q && (!Q0q.End || f0q == Q0q.End + +"1")){if(A0q[f0q - 1].Close > L0q.High){L0q={State:"1" ^ 0,High:2 * L0q.High - L0q.Low,Low:L0q.High,Start:f0q,End:+"2" * L0q.End - L0q.Start + 1};}else {Q0q=null;;}if(Q0q){C0q[N0q.Ghost]=q8q.clone(L0q);if(G0q){console.log("Ghost begin:" + C0q.DT);}L0q.State=0;if(A0q[L0q.End]){A0q[L0q.End][N0q.Ghost]=q8q.clone(L0q);if(G0q){console.log("Ghost end:" + A0q[L0q.End].DT);}}Q0q={Start:L0q.Start,End:L0q.End};z0q=L0q.High + g0q;if(!T0q || T0q < L0q.Low - g0q){T0q=L0q.Low - g0q;}}}C0q[N0q.Profit]=z0q;C0q[N0q.Loss]=T0q;if(C0q.Close >= z0q){z0q=null;}else if(m0q.inputs[X4z] == M4z && C0q.High >= z0q){z0q=null;}if(S0q == "none"){if(f0q == V0q + 3){if(!A0q[V0q + 2][N0q.Darvas] && !A0q[V0q + 1][N0q.Darvas] && !A0q[V0q][N0q.Darvas] && A0q[V0q].High > C0q.High){W4z="hig";W4z+="h";S0q=W4z;;}}}if(S0q == "high"){if(C0q.High > A0q[V0q].High){S0q="none";}else if(A0q[f0q - 3].Low < A0q[f0q - 2].Low && A0q[f0q - 3].Low < A0q[f0q - 1].Low && A0q[f0q - 3].Low < C0q.Low){L0q={State:+"1",High:A0q[V0q].High,Low:A0q[f0q - 3].Low,Start:V0q};A0q[V0q][N0q.Darvas]=q8q.clone(L0q);S0q="darvas";if(G0q){console.log("Darvas begin:" + A0q[V0q].DT);}if(G0q){console.log("Darvas established:" + C0q.DT);}if(Q0q){F4z="Gh";F4z+="ost end";F4z+=":";if(Q0q.End > f0q && A0q[Q0q.Start]){C0q[N0q.Ghost]=q8q.clone(A0q[Q0q.Start][N0q.Ghost]);C0q[N0q.Ghost].End=f0q;if(A0q[Q0q.End]){l4z="Gh";l4z+="ost End remov";l4z+="ed:";delete A0q[Q0q.End][N0q.Ghost];if(G0q){console.log(l4z + A0q[Q0q.End].DT);}}}C0q[N0q.Ghost].State=0;A0q[Q0q.Start][N0q.Ghost].End=f0q;if(G0q){console.log(F4z + C0q.DT);}Q0q=null;}z0q=L0q.High + g0q;if(!T0q || T0q < L0q.Low - g0q){T0q=L0q.Low - g0q;}}}if(S0q == B4z){d4z="Ghost";d4z+=" Box";d4z+="e";d4z+="s";w4z="high/l";w4z+="o";w4z+="w";if(C0q.Close > L0q.High){Q0q={};}else if(m0q.inputs["Exit Field"] == "high/low" && C0q.High > L0q.High){Q0q={};}else if(C0q.Close < L0q.Low){S0q="none";}else if(m0q.inputs["Exit Field"] == w4z && C0q.Low < L0q.Low){S0q="none";}if(Q0q){S0q="none";}else if(S0q == "none"){z0q=null;T0q=null;}if(!m0q.inputs[d4z]){Q0q=null;}if(S0q == "none"){for(var K0q=L0q.Start + "1" * 1;K0q < f0q;K0q++){A0q[K0q][N0q.Darvas]=q8q.clone(L0q);}L0q.State=0;L0q.End=f0q;C0q[N0q.Darvas]=q8q.clone(L0q);if(G0q){console.log("Darvas end:" + C0q.DT);}C0q[N0q.ATH]=V0q;continue;}}if(T0q){n4z="Exi";n4z+="t Field";if(C0q.Close < L0q.Low || m0q.inputs[n4z] == "high/low" && C0q.Low < L0q.Low){v4z="hi";v4z+="g";v4z+="h/low";U4z="n";U4z+="o";U4z+="n";U4z+="e";if(S0q == "darvas"){S0q=U4z;}if(C0q.Close < T0q || m0q.inputs["Exit Field"] == v4z && C0q.Low < T0q){z0q=null;T0q=null;}if(Q0q){if(Q0q.End > f0q && A0q[Q0q.Start]){C0q[N0q.Ghost]=q8q.clone(A0q[Q0q.Start][N0q.Ghost]);C0q[N0q.Ghost].End=f0q;if(A0q[Q0q.End]){delete A0q[Q0q.End][N0q.Ghost];if(G0q){console.log("Ghost End removed:" + A0q[Q0q.End].DT);}}}C0q[N0q.Ghost].State=0;A0q[Q0q.Start][N0q.Ghost].End=f0q;if(G0q){console.log("Ghost end:" + C0q.DT);}Q0q=null;}}}}if(C0q.High >= A0q[V0q].High){V0q=f0q;if(G0q){console.log("All Time High:" + C0q.DT);}}if(f0q < 3 || C0q.High >= A0q[f0q - +"1"].High && C0q.High >= A0q[f0q - 2].High && C0q.High >= A0q[f0q - 3].High){if(f0q - V0q >= p0q){V0q=f0q;for(var Z0q=0;Z0q < p0q;Z0q++){if(f0q - Z0q < 0)break;if(A0q[f0q - Z0q].High > A0q[V0q].High){Y2WW.h0T(2);V0q=Y2WW.a0T(Z0q,f0q);}}if(G0q){console.log("All Time High:" + C0q.DT);}}}if(m0q.inputs["Volume Spike"] && f0q > p0q && f0q == V0q){if(C0q[N0q.ADV] * b0q < C0q.Volume){g4z="Volu";g4z+="me Sp";g4z+="i";g4z+="ke:";C0q[N0q.Spike]=1;if(G0q){console.log(g4z + C0q.DT);}}}C0q[N0q.ATH]=V0q;}};q8q.Studies.displayDarvas=function(c0q,u0q,w0q){var Y4f=Y2WW;var r1z,X0q,I0q,o0q,h0q,a0q,y0q,d0q,U0q,O0q,x0q,k1z,H0q,l0q,R0q,i0q,k0q,Y0q,v0q,t0q,n0q,j0q,J0q,D0q,F0q,e0q,q0q,s0q,j1z,S1z,B0q,E1z,s1z,u4J,i4J,O4J,B5J,w5J,d5J,y1z,P0q,K0J,h0J,A0J;r1z="Sto";r1z+="p Lev";r1z+="el";r1z+="s";X0q=q8q.Studies.determineColor(u0q.outputs.Levels);if(!X0q || X0q == "auto" || q8q.isTransparent(X0q)){X0q=c0q.defaultColor;}I0q=q8q.Studies.determineColor(u0q.outputs.Darvas);if(!I0q || I0q == "auto" || q8q.isTransparent(I0q)){I0q=c0q.defaultColor;}o0q=q8q.Studies.determineColor(u0q.outputs.Ghost);if(!o0q || o0q == "auto" || q8q.isTransparent(o0q)){o0q=c0q.defaultColor;}h0q=c0q.panels[u0q.panel];a0q=u0q.getContext(c0q);x0q=c0q.layout.candleWidth - ("2" >> 1488710688);if(x0q < 2){x0q=+"1";}c0q.startClip(u0q.panel);if(u0q.inputs[r1z]){if(a0q.setLineDash){Y4f.F0T(21);a0q.setLineDash([Y4f.a0T(1,"2"),2]);}a0q.lineWidth=+"2";a0q.strokeStyle=X0q;a0q.beginPath();for(y0q=0;y0q < w0q.length;y0q++){k1z="L";k1z+="os";k1z+="s ";d0q=w0q[y0q];Y4f.h0T(2);H0q=w0q[Y4f.H0T(1,y0q)];if(!d0q)continue;O0q=d0q["Loss " + u0q.name]?Math.floor(c0q.pixelFromPrice(d0q[k1z + u0q.name],h0q)):null;l0q=H0q && H0q["Loss " + u0q.name]?Math.floor(c0q.pixelFromPrice(H0q["Loss " + u0q.name],h0q)):null;if(O0q){if(d0q.candleWidth){x0q=Math.floor(Math.max(1,d0q.candleWidth));}R0q=Math.floor(c0q.pixelFromBar(y0q,h0q.chart) + x0q / 2);i0q=Math.floor(c0q.pixelFromBar(y0q,h0q.chart) - x0q / 2);if(l0q && l0q >= O0q){a0q.lineTo(i0q,O0q);}else if(y0q === +"0"){a0q.moveTo(c0q.chart.left,O0q);}else {a0q.moveTo(i0q,O0q);}a0q.lineTo(R0q,O0q);}}a0q.stroke();if(a0q.setLineDash){a0q.setLineDash([]);}a0q.lineWidth=1;}k0q=-10;Y4f.h0T(34);v0q=Y4f.H0T(2147483647,"0");n0q=-10;J0q=0;F0q=!"1";e0q=!"1";q0q=a0q.measureText("\u25B2").width / 2;s0q=0;for(y0q=0;y0q < w0q.length;y0q++){j1z="Ghos";j1z+="t";j1z+=" ";S1z="D";S1z+="arva";S1z+="s ";if(!w0q[y0q])continue;if(w0q[y0q].Close || w0q[y0q].Close === 0){s0q=y0q;}if(w0q[y0q]["Spike " + u0q.name]){a0q.fillStyle=I0q;a0q.textBaseline="bottom";B0q=c0q.pixelFromPrice(w0q[y0q].High,c0q.chart.panel);a0q.fillText((14.4,513.93) == 7190?(1800,807.64) === "29" * 1?0x2000:(![],! !0):"\u25BC",c0q.pixelFromBar(y0q) - q0q,B0q - +"5");;}if(w0q[y0q].candleWidth){x0q=Math.floor(Math.max(1,w0q[y0q].candleWidth));}if(w0q[y0q][S1z + u0q.name]){E1z="Dar";E1z+="va";E1z+="s ";d0q=w0q[y0q][E1z + u0q.name];if(d0q.State == +"1" && !F0q){k0q=Math.floor(c0q.pixelFromBar(y0q,h0q.chart) - x0q / +"2");Y0q=Math.floor(c0q.pixelFromPrice(d0q.High,h0q));t0q=Math.floor(c0q.pixelFromPrice(d0q.Low,h0q)) - Y0q;F0q=! !{};}else if(d0q.State === 0){v0q=Math.floor(c0q.pixelFromBar(y0q,h0q.chart) + x0q / 2) - k0q;Y0q=Math.floor(c0q.pixelFromPrice(d0q.High,h0q));t0q=Math.floor(c0q.pixelFromPrice(d0q.Low,h0q)) - Y0q;a0q.strokeStyle=I0q;a0q.fillStyle=I0q;if(!u0q.inputs["Stop Levels"]){a0q.strokeRect(k0q,Y0q,v0q,t0q);a0q.globalAlpha=0.2;}else {a0q.globalAlpha=+"0.3";}a0q.fillRect(k0q,Y0q,v0q,t0q);a0q.globalAlpha=1;F0q=! !"";}}if(w0q[y0q][j1z + u0q.name] && u0q.inputs["Ghost Boxes"]){s1z="G";s1z+="hos";s1z+="t ";d0q=w0q[y0q][s1z + u0q.name];if(d0q.State == 1 && !e0q){n0q=Math.floor(c0q.pixelFromBar(y0q,h0q.chart) - x0q / 2);j0q=Math.floor(c0q.pixelFromPrice(d0q.High,h0q));J0q=Math.floor((d0q.End - d0q.Start + "1" * 1) * c0q.layout.candleWidth + x0q / ("2" ^ 0));D0q=Math.floor(c0q.pixelFromPrice(d0q.Low,h0q)) - j0q;e0q=! !"1";}else if(d0q.State === 0){if(d0q.Start == d0q.End){n0q=Math.floor(c0q.pixelFromBar(y0q,h0q.chart) - x0q / 2);}J0q=Math.floor(c0q.pixelFromBar(y0q,h0q.chart) + x0q / 2) - n0q;j0q=Math.floor(c0q.pixelFromPrice(d0q.High,h0q));D0q=Math.floor(c0q.pixelFromPrice(d0q.Low,h0q)) - j0q;a0q.strokeStyle=o0q;a0q.fillStyle=o0q;if(!u0q.inputs["Stop Levels"]){a0q.strokeRect(n0q,j0q,J0q,D0q);a0q.globalAlpha=0.2;}else {a0q.globalAlpha=+"0.3";}a0q.fillRect(n0q,j0q,J0q,D0q);a0q.globalAlpha=1;e0q=!"1";}}}if(F0q){v0q=Math.floor(c0q.pixelFromBar(s0q,h0q.chart) + x0q / ("2" - 0)) - k0q;u4J=-119438963;i4J=-938295236;O4J=2;for(var f4J="1" ^ 0;Y4f.K5J(f4J.toString(),f4J.toString().length,75088) !== u4J;f4J++){a0q.strokeStyle=I0q;O4J+=2;}if(Y4f.K5J(O4J.toString(),O4J.toString().length,"53473" << 598437216) !== i4J){a0q.strokeStyle=I0q;}a0q.fillStyle=I0q;if(!u0q.inputs["Stop Levels"]){a0q.beginPath();Y4f.F0T(10);a0q.moveTo(Y4f.a0T(k0q,2,v0q),Y0q);a0q.lineTo(k0q,Y0q);Y4f.F0T(0);a0q.lineTo(k0q,Y4f.H0T(Y0q,t0q));Y4f.h0T(10);a0q.lineTo(Y4f.H0T(k0q,2,v0q),Y4f.a0T(Y0q,t0q,Y4f.F0T(0)));a0q.stroke();a0q.globalAlpha=0.2;}else {a0q.globalAlpha=0.3;}Y4f.F0T(21);a0q.fillRect(k0q,Y0q,Y4f.a0T(v0q,2),t0q);a0q.globalAlpha=1;}if(e0q){a0q.strokeStyle=o0q;a0q.fillStyle=o0q;if(!u0q.inputs["Stop Levels"]){B5J=-2112560006;w5J=-800399063;d5J=+"2";for(var U5J=1;Y4f.K5J(U5J.toString(),U5J.toString().length,36364) !== B5J;U5J++){a0q.strokeRect(n0q,j0q,J0q,D0q);a0q.globalAlpha=0.2;d5J+=2;}if(Y4f.z5J(d5J.toString(),d5J.toString().length,12236) !== w5J){a0q.strokeRect(n0q,j0q,J0q,D0q);a0q.globalAlpha=+"177";}}else {a0q.globalAlpha=+"0.3";}a0q.fillRect(n0q,j0q,J0q,D0q);a0q.globalAlpha=1;}if(F0q || e0q){y1z="Stop ";y1z+="Levels";if(u0q.inputs[y1z]){if(a0q.setLineDash){a0q.setLineDash([2,2]);}a0q.lineWidth=+"2";a0q.strokeStyle=X0q;P0q=Math.floor(c0q.pixelFromBar(s0q - 1,h0q.chart) + x0q / 2);if(U0q){a0q.beginPath();a0q.moveTo(P0q,U0q);a0q.lineTo(F0q?k0q + 2 * v0q:n0q + J0q,U0q);a0q.stroke();}if(O0q){a0q.beginPath();a0q.moveTo(P0q,O0q);a0q.lineTo(F0q?k0q + 2 * v0q:n0q + J0q,O0q);a0q.stroke();}if(a0q.setLineDash){a0q.setLineDash([]);}Y4f.F0T(2);a0q.lineWidth=Y4f.H0T(0,"1");}F0q=![];Y4f.F0T(2);K0J=Y4f.H0T(0,"2121470706");h0J=-1310910244;A0J=2;for(var o0J=1;Y4f.K5J(o0J.toString(),o0J.toString().length,"46162" * 1) !== K0J;o0J++){e0q=!{};Y4f.h0T(13);A0J+=Y4f.H0T("2",1649302112);}if(Y4f.z5J(A0J.toString(),A0J.toString().length,27524) !== h0J){e0q=! !{};}}c0q.endClip();};q8q.Studies.studyLibrary=q8q.extend(q8q.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !{},calculateFN:q8q.Studies.calculateDarvas,seriesFN:q8q.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close",C1z],"Ghost Boxes":!0,"Stop Levels":! !0,"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!"1","Volume % of Avg":"400" - 0},outputs:{Darvas:L1z,Ghost:"#699158",Levels:"auto"},customRemoval:! ![],attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !{}},flippedEnabled:{hidden:! ![]}}}});}};c9I=f91=>{var A91;A91=typeof _CIQ !== "undefined"?_CIQ:f91.CIQ;Y2WW.F6f();if(!A91.Studies){console.error("detrended feature requires first activating studies feature.");}else {A91.Studies.calculateDetrendedPrice=function(Z91,L91){var Q91,V91,G91,N91,M91;Q91=L91.chart.scrubbed;if(Q91.length < L91.days + 1){L91.error=!0;return;}V91=L91.inputs.Field;if(!V91 || V91 == "field"){V91="Close";}Y2WW.E6f();G91=Math.floor(L91.days / +"2" + 1);A91.Studies.MA(L91.inputs["Moving Average Type"],L91.days,V91,-G91,"MA",Z91,L91);for(var T91=Math.max(L91.days - G91 - 1,L91.startFrom - G91);T91 < Q91.length - G91;T91++){N91=Q91[T91][V91];if(N91 && typeof N91 == "object"){N91=N91[L91.subField];}M91=Q91[T91]["MA " + L91.name];if((N91 || N91 === 0) && (M91 || M91 === 0)){Y2WW.h0T(2);Q91[T91]["Result " + L91.name]=Y2WW.a0T(M91,N91);}}};A91.Studies.studyLibrary=A91.extend(A91.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:A91.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};y9I=K91=>{var p91;p91=typeof _CIQ !== "undefined"?_CIQ:K91.CIQ;if(!p91.Studies){console.error("disparity feature requires first activating studies feature.");}else {p91.Studies.calculateDisparity=function(d91,b91){var W91,a91,e1z,Z1z,y91;W91=b91.chart.scrubbed;if(W91.length < b91.days + 1){b91.error=! ![];return;}a91=b91.inputs.Field;if(!a91 || a91 == "field"){a91="Close";}p91.Studies.MA(b91.inputs["Moving Average Type"],b91.days,a91,0,"_MA",d91,b91);for(var E91=Math.max(b91.startFrom,b91.days - 1);E91 < W91.length;E91++){e1z="Re";e1z+="sult";e1z+=" ";Z1z="_";Z1z+="M";Z1z+="A ";if(!W91[E91])continue;y91=W91[E91][Z1z + b91.name];if(y91){W91[E91][e1z + b91.name]=100 * (W91[E91][a91] / y91 - 1);}}};p91.Studies.studyLibrary=p91.extend(p91.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:p91.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};d9I=w91=>{var c1z,h91;c1z="und";c1z+="ef";c1z+="i";c1z+="ned";h91=typeof _CIQ !== c1z?_CIQ:w91.CIQ;if(!h91.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {h91.Studies.calculateEaseOfMovement=function(X91,I91){var l4f=Y2WW;var J1z,x91,x1z,v91,n91,J91,j91,O91;J1z="Moving Av";J1z+="er";J1z+="age Type";x91=I91.chart.scrubbed;if(x91.length < I91.days){I91.error=! ![];return;}l4f.E6f();for(var Y91=Math.max(1,I91.startFrom);Y91 < x91.length;Y91++){x1z="_EO";x1z+="M1 ";v91=(x91[Y91].High + x91[Y91].Low) / 2;n91=(x91[Y91 - 1].High + x91[Y91 - 1].Low) / 2;l4f.F0T(2);J91=l4f.H0T(n91,v91);j91=x91[Y91].Volume / 100000000 / (x91[Y91].High - x91[Y91].Low);l4f.h0T(8);O91=l4f.H0T(J91,j91);if(!isFinite(O91)){x91[Y91]["_EOM1 " + I91.name]=NaN;}else {x91[Y91][x1z + I91.name]=O91;}}h91.Studies.MA(I91.inputs[J1z],I91.days,"_EOM1 " + I91.name,0,"Result",X91,I91);};h91.Studies.studyLibrary=h91.extend(h91.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:h91.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};u9I=e91=>{var t91;t91=typeof _CIQ !== "undefined"?_CIQ:e91.CIQ;if(!t91.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {t91.Studies.calculateEhlerFisher=function(A61,D91){var m1z,y6J,C6J,c6J,s91,H91,a1z,p1z,i91,P91,R91;m1z="_n";m1z+=" ";function B91(V61,Q61){var f61,L61,N61;f61=Number.MAX_VALUE;Y2WW.E6f();L61=Number.MAX_VALUE * -1;for(var C61=Q61 - V61 + 1;C61 <= Q61;C61++){N61=(s91[C61].High + s91[C61].Low) / 2;f61=Math.min(f61,N61);L61=Math.max(L61,N61);}return [f61,L61];}y6J=-1593593098;C6J=-884314933;c6J=2;for(var R6J=1;Y2WW.z5J(R6J.toString(),R6J.toString().length,22279) !== y6J;R6J++){s91=D91.chart.scrubbed;c6J+=2;}if(Y2WW.z5J(c6J.toString(),c6J.toString().length,10690) !== C6J){s91=D91.chart.scrubbed;}if(s91.length < D91.days + 1){D91.error=! !1;return;}H91=0;if(D91.startFrom > 1){H91=s91[D91.startFrom - 1][m1z + D91.name];}for(var l91=D91.startFrom;l91 < s91.length;l91++){a1z="_";a1z+="n";a1z+=" ";p1z="E";p1z+="F";p1z+=" ";i91=s91[l91];if(i91.futureTick)break;if(l91 < D91.days - 1){i91["EF " + D91.name]=i91["EF Trigger " + D91.name]=H91;continue;}P91=B91(D91.days,l91);H91=("0.33" - 0) * 2 * (((s91[l91].High + s91[l91].Low) / 2 - P91[0]) / Math.max(0.000001,P91[1] - P91[0]) - 0.5) + 0.67 * H91;if(H91 > 0){H91=Math.min(H91,0.9999);}else if(H91 < 0){H91=Math.max(H91,-0.9999);}R91=l91?s91[l91 - 1]["EF " + D91.name]:0;i91[p1z + D91.name]=0.5 * Math.log((+"1" + H91) / (1 - H91)) + 0.5 * R91;i91["EF Trigger " + D91.name]=R91;i91[a1z + D91.name]=H91;}};t91.Studies.studyLibrary=t91.extend(t91.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:t91.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};h9I=S61=>{var m61,H1z,P1z,G1z,V1z;m61=typeof _CIQ !== "undefined"?_CIQ:S61.CIQ;if(!m61.Studies){console.error("elder feature requires first activating studies feature.");}else {H1z="#DD3";H1z+="E39";P1z="Elder";P1z+=" Impulse S";P1z+="yst";P1z+="em";G1z="#F";G1z+="F0";G1z+="00";G1z+="0";V1z="El";V1z+="de";V1z+="r Ray Index";m61.Studies.calculateElderImpulse=function(Z61,T61){var D1z,z61,p61,K61,M61,g61,I1z;D1z="expo";D1z+="nential";Y2WW.E6f();z61=T61.chart.scrubbed;p61=T61.outputs.Bullish;K61=T61.outputs.Bearish;M61=T61.outputs.Neutral;m61.Studies.MA(D1z,13,"Close",0,"_MA",Z61,T61);T61.macd=new m61.Studies.StudyDescriptor((5887 == (3612,7620)?(3.50e+3,4.45e+3):788.85 === 593.86?!0:(467,4605) === (1749,530.41)?(68.79,+"3.16e+3"):"_") + T61.name,"macd",T61.panel);T61.macd.chart=T61.chart;T61.macd.days=T61.days;T61.macd.startFrom=T61.startFrom;T61.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":+"9"};T61.macd.outputs={_MACD:null,_Signal:null};m61.Studies.calculateMACD(Z61,T61.macd);for(var G61=T61.startFrom;G61 < z61.length;G61++){I1z="_";I1z+="MA";I1z+=" ";if(G61 === +"0"){g61=M61;}else if(z61[G61][I1z + T61.name] > z61[G61 - 1]["_MA " + T61.name] && z61[G61][((+"8725",4810) >= 740.84?(144.76,6257) === ("2" ^ 0)?(580.51,+"6240") != +"5042"?(! !{},"z"):"Q":"_":"b") + T61.name + "_hist"] > z61[G61 - 1]["_" + T61.name + "_hist"]){g61=p61;}else if(z61[G61]["_MA " + T61.name] < z61[G61 - 1]["_MA " + T61.name] && z61[G61]["_" + T61.name + "_hist"] < z61[G61 - 1]["_" + T61.name + "_hist"]){g61=K61;}else {g61=M61;}z61[G61]["Result " + T61.name]=g61;;}};m61.Studies.calculateElderRay=function(r61,b61){var Q1z,W61,R0J,Q0J,u0J,R1z;Q1z="_hist";Q1z+="1";W61=b61.chart.scrubbed;if(W61.length < b61.days){b61.error=! !1;return;}R0J=-951641005;Q0J=+"1328031319";u0J=2;for(var O0J=+"1";Y2WW.z5J(O0J.toString(),O0J.toString().length,56737) !== R0J;O0J++){m61.Studies.MA("exponential",b61.days,"Close",0,"_EMA",r61,b61);u0J+=2;}if(Y2WW.K5J(u0J.toString(),u0J.toString().length,58506) !== Q0J){m61.Studies.MA("_EMA",b61.days,"_EMA",+"3","_EMA",r61,b61);}for(var E61=Math.max(b61.startFrom,b61.days - 1);E61 < W61.length;E61++){R1z="_EM";R1z+="A ";W61[E61][b61.name + "_hist1"]=W61[E61].High - W61[E61]["_EMA " + b61.name];W61[E61][b61.name + "_hist2"]=W61[E61].Low - W61[E61][R1z + b61.name];}b61.outputMap={};b61.outputMap[b61.name + Q1z]="";b61.outputMap[b61.name + "_hist2"]="";};m61.Studies.calculateElderForce=function(d61,a61){var i1z,u1z,c61;i1z="R";i1z+="esult";u1z="ex";u1z+="pone";u1z+="ntia";u1z+="l";c61=a61.chart.scrubbed;if(c61.length < a61.days){a61.error=! !{};return;}for(var y61=Math.max(1,a61.startFrom);y61 < c61.length;y61++){c61[y61]["_EF1 " + a61.name]=c61[y61].Volume * (c61[y61].Close - c61[y61 - +"1"].Close);}m61.Studies.MA(u1z,a61.days,"_EF1 " + a61.name,0,i1z,d61,a61);};m61.Studies.initElderImpulse=function(h61,x61,k61,Y61,w61,I61){var u61;u61=m61.Studies.initializeFN(h61,x61,k61,Y61,w61,I61);if(w61.calculateOnly){return u61;}h61.chart.customChart={chartType:"colored_bar",colorFunction:function(n61,v61,o61){var O61;O61=v61["Result " + u61.name];if(O61 && typeof O61 == "object"){O61=O61.color;}Y2WW.F6f();return O61;}};h61.setMainSeriesRenderer();return u61;};m61.Studies.displayElderForce=function(F61,J61,D61){var X61,t61,e61,j61;m61.Studies.displaySeriesAsLine(F61,J61,D61);X61=m61.Studies.determineColor(J61.outputs.Result);t61=F61.panels[J61.panel];e61=J61.getYAxis(F61);j61={skipTransform:t61.name != J61.chart.name,panelName:J61.panel,band:"Result " + J61.name,threshold:0,color:X61,yAxis:e61};if(!J61.highlight && F61.highlightedDraggable){j61.opacity=0.3;}j61.direction=1;m61.preparePeakValleyFill(F61,j61);j61.direction=-1;m61.preparePeakValleyFill(F61,j61);};m61.Studies.displayElderRay=function(s61,H61,C11){var R61,i61,B61,A11,P61,f11,b1z,f1z,t1z,O1z,U61;R61=s61.panels[H61.panel];i61=H61.getContext(s61);B61=H61.getYAxis(s61);Y2WW.F6f();A11=s61.pixelFromPrice(0,R61,B61);P61=s61.layout.candleWidth - 2;if(P61 < 2){P61=1;}s61.canvasColor("stx_histogram");f11=i61.fillStyle;if(!H61.underlay){i61.globalAlpha=1;}s61.startClip(H61.panel);if(!H61.highlight && s61.highlightedDraggable){i61.globalAlpha*=0.3;}function q61(N11,L11,Q11,V11){i61.fillStyle=m61.Studies.determineColor(H61.outputs[Q11]);i61.fillRect(Math.floor(s61.pixelFromBar(N11,R61.chart) - P61 / +"2" + P61 * L11),Math.floor(A11),Math.floor(P61 * (1 - 2 * L11)),Math.floor(s61.pixelFromPrice(U61[H61.name + V11],R61,B61) - A11));}for(var l61=+"0";l61 < C11.length;l61++){b1z="_";b1z+="hi";b1z+="st2";f1z="E";f1z+="lder B";f1z+="ull Power";t1z="Elder";t1z+=" Bear Power";O1z="_";O1z+="hist";O1z+="2";U61=C11[l61];if(!U61)continue;if(U61.candleWidth){P61=Math.floor(Math.max(1,U61.candleWidth - 2));}if(U61[H61.name + "_hist1"] > 0){q61(l61,0,"Elder Bull Power","_hist1");}if(U61[H61.name + O1z] < 0){q61(l61,0,t1z,"_hist2");}if(U61[H61.name + "_hist1"] < +"0"){Y2WW.h0T(2);q61(l61,Y2WW.H0T(0,"0.1"),f1z,"_hist1");}if(U61[H61.name + b1z] > 0){q61(l61,0.1,"Elder Bear Power","_hist2");}}s61.endClip();i61.fillStyle=f11;};m61.Studies.studyLibrary=m61.extend(m61.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:m61.Studies.calculateElderForce,seriesFN:m61.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:V1z,seriesFN:m61.Studies.displayElderRay,calculateFN:m61.Studies.calculateElderRay,centerline:"0" << 1622819488,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":G1z}},"Elder Impulse":{name:P1z,calculateFN:m61.Studies.calculateElderImpulse,initializeFN:m61.Studies.initElderImpulse,seriesFN:null,customRemoval:! !1,underlay:! !1,inputs:{},outputs:{Bullish:"#8BC176",Bearish:H1z,Neutral:"#5F7CB8"},removeFN:function(m11,S11){m11.chart.customChart=null;m11.setMainSeriesRenderer();}}});}};w9I=G11=>{var T11,N1z;T11=typeof _CIQ !== "undefined"?_CIQ:G11.CIQ;if(!T11.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {N1z="a";N1z+="u";N1z+="t";N1z+="o";T11.Studies.calculateFractalChaos=function(r11,Z11){var g11,K11,b11,p11,q1z,W11,E11,M11;g11=Z11.chart.scrubbed;K11=0;Y2WW.F6f();b11=0;p11=0;if(Z11.startFrom && Z11.type == "Fractal Chaos Bands"){q1z="Fract";q1z+="al High";q1z+=" ";K11=g11[Z11.startFrom - 1][q1z + Z11.name];b11=g11[Z11.startFrom - 1]["Fractal Low " + Z11.name];}for(var z11=Math.max(4,Z11.startFrom);z11 < g11.length;z11++){if(g11[z11].futureTick)break;W11=!isNaN(g11[z11].High);E11=!isNaN(g11[z11].Low);if(W11 || E11){g11[z11]["Result " + Z11.name]=0;}p11=0;for(M11=0;M11 <= z11;M11++){if(!g11[z11 - M11])break;if(g11[z11 - M11].High > g11[z11 - 2].High)break;if(M11 < 2 && g11[z11 - M11].High == g11[z11 - "2" * 1].High)break;if(g11[z11 - M11].High < g11[z11 - ("2" >> 552022272)].High){p11++;}if(p11 == +"4"){K11=g11[z11 - ("2" - 0)].High;break;}}if(Z11.type == "Fractal Chaos Bands"){if(W11){g11[z11]["Fractal High " + Z11.name]=K11 > 0?K11:null;}}else if(p11 == 4){g11[z11]["Result " + Z11.name]=1;}p11=+"0";for(M11=0;M11 <= z11;M11++){if(!g11[z11 - M11])break;if(g11[z11 - M11].Low < g11[z11 - 2].Low)break;if(M11 < 2 && g11[z11 - M11].Low == g11[z11 - 2].Low)break;if(g11[z11 - M11].Low > g11[z11 - +"2"].Low){p11++;}if(p11 == "4" - 0){b11=g11[z11 - 2].Low;break;}}if(Z11.type == "Fractal Chaos Bands"){if(E11){g11[z11]["Fractal Low " + Z11.name]=b11 > 0?b11:null;}}else if(p11 == +"4"){g11[z11]["Result " + Z11.name]=- +"1";}}};T11.Studies.studyLibrary=T11.extend(T11.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:T11.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !1,calculateFN:T11.Studies.calculateFractalChaos,seriesFN:T11.Studies.displayChannel,inputs:{"Channel Fill":! !1},outputs:{"Fractal High":"auto","Fractal Low":N1z,"Fractal Channel":"auto"}}});}};x9I=c11=>{var A4J,Y4J,o4J,a11,z1z,K1z,W1z,M1z;A4J=-123215316;Y4J=-776036882;o4J=+"2";for(var X4J=1;Y2WW.K5J(X4J.toString(),X4J.toString().length,13373) !== A4J;X4J++){a11=+_CIQ === ""?_CIQ:c11.CIQ;o4J+=2;}Y2WW.E6f();if(Y2WW.z5J(o4J.toString(),o4J.toString().length,"35810" ^ 0) !== Y4J){z1z="un";z1z+="defined";a11=typeof _CIQ !== z1z?_CIQ:c11.CIQ;}if(!a11.Studies){K1z="highLowStud";K1z+="ies";K1z+=" feature requires first activating stud";K1z+="ies feature.";console.error(K1z);}else {W1z="aut";W1z+="o";M1z="Highest Hig";M1z+="h Value";a11.Studies.calculateMaxHighMinLow=function(O11,y11){var w4f=Y2WW;var d11,I11,Y11,x11,w11,h11,Y1z,h1z,k11,A1z,o1z,T1z;d11=y11.chart.scrubbed;I11=y11.days;Y11=y11.days;if(y11.inputs["High Period"]){I11=y11.inputs["High Period"];}if(y11.inputs["Low Period"]){Y11=y11.inputs["Low Period"];}if(d11.length < Math.max(I11,Y11) + +"1"){y11.error=!0;return;}w4f.F6f();x11=Number.MAX_VALUE;w11=Number.MAX_VALUE * -1;if(y11.startFrom > +"1"){for(h11=+"1";h11 < I11;h11++){if(y11.startFrom - h11 >= "0" >> 455078016){w11=Math.max(w11,d11[y11.startFrom - h11].High);}}for(h11=1;h11 < Y11;h11++){if(y11.startFrom - h11 >= 0){x11=Math.min(x11,d11[y11.startFrom - h11].Low);}}}for(var u11=Math.max(0,y11.startFrom - 1);u11 < d11.length;u11++){Y1z="Willia";Y1z+="m";Y1z+="s %R";h1z="G";h1z+="o";h1z+="pal";h1z+="a";w11=Math.max(w11,d11[u11].High);x11=Math.min(x11,d11[u11].Low);if(u11 >= I11){if(d11[u11 - I11].High == w11){w11=d11[u11].High;for(h11=1;h11 < I11;h11++){w11=Math.max(w11,d11[u11 - h11].High);}}}if(u11 >= Y11){if(d11[u11 - Y11].Low == x11){x11=d11[u11].Low;for(h11=1;h11 < Y11;h11++){x11=Math.min(x11,d11[u11 - h11].Low);}}}k11=0;if(y11.type == "HHV"){k11=w11;}else if(y11.type == "LLV"){k11=x11;}else if(y11.type == "Donchian Width"){w4f.h0T(2);k11=w4f.a0T(x11,w11);}else if(y11.type == "GAPO" || y11.type == h1z){k11=Math.log(w11 - x11) / Math.log(Y11);}else if(y11.type == "VT HZ Filter"){A1z="_MHM";A1z+="L";A1z+=" ";w4f.h0T(2);k11=w4f.a0T(x11,w11);d11[u11][A1z + y11.name]=k11;continue;}else if(y11.type == Y1z){k11=-100 * (w11 - d11[u11].Close) / (w11 - x11);d11[u11]["Result " + y11.name]=k11;continue;}if(u11 == d11.length - 1)break;if(!d11[u11 + 1].futureTick){if(y11.type == "Donchian Channel"){o1z="Do";o1z+="nch";o1z+="ian High ";w4f.F0T(0);d11[w4f.H0T(u11,1)][o1z + y11.name]=w11;w4f.F0T(0);d11[w4f.H0T(u11,1)]["Donchian Low " + y11.name]=x11;w4f.h0T(0);d11[w4f.H0T(u11,1)]["Donchian Median " + y11.name]=w4f.a0T(2,w11,x11,w4f.F0T(7));}else {T1z="Re";T1z+="sul";T1z+="t";T1z+=" ";w4f.F0T(0);d11[w4f.a0T(u11,1)][T1z + y11.name]=k11;}}}};a11.Studies.calculateVerticalHorizontalFilter=function(X11,v11){var n11,J11,F11,j11,X1z;n11=v11.chart.scrubbed;if(n11.length < v11.days + 1){v11.error=! ![];return;}Y2WW.E6f();v11.mhml=new a11.Studies.StudyDescriptor(v11.name,v11.type,v11.panel);v11.mhml.chart=v11.chart;v11.mhml.days=v11.days;v11.mhml.startFrom=v11.startFrom;v11.mhml.inputs={};v11.mhml.outputs={_MHML:null};a11.Studies.calculateMaxHighMinLow(X11,v11.mhml);J11=+"0";F11=[];for(var o11=Math.max(1,v11.startFrom - v11.days);o11 < n11.length;o11++){j11=Math.abs(n11[o11].Close - n11[o11 - 1].Close);F11.push(j11);J11+=j11;if(F11.length == v11.days){X1z="_";X1z+="MHML";X1z+=" ";n11[o11]["Result " + v11.name]=n11[o11][X1z + v11.name] / J11;J11-=F11.shift();}}};a11.Studies.studyLibrary=a11.extend(a11.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:a11.Studies.calculateMaxHighMinLow,seriesFN:a11.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !1},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:a11.Studies.calculateMaxHighMinLow,inputs:{"High Period":"20" ^ 0,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:a11.Studies.calculateMaxHighMinLow},HHV:{name:M1z,calculateFN:a11.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:a11.Studies.calculateMaxHighMinLow,inputs:{Period:"14" << 2027228864}},"Williams %R":{name:"Williams %R",calculateFN:a11.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:-20,studyOverBoughtColor:W1z,studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:a11.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(H11,D11){var e11;e11=D11.chart.scrubbed;Y2WW.F6f();for(var t11=D11.startFrom;t11 < e11.length;t11++){e11[t11]["Result " + D11.name]=e11[t11].High - e11[t11].Low;}},inputs:{}}});}};k9I=U11=>{var l1z,s11,v1z,U1z;l1z="undefin";Y2WW.E6f();l1z+="ed";s11=typeof _CIQ !== l1z?_CIQ:U11.CIQ;if(!s11.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {v1z="#";v1z+="0";v1z+="0F";v1z+="F00";U1z="#";U1z+="FF0000";s11.Studies.calculateIchimoku=function(N31,i11){var F1z,P11,R11,l11,q11,w1z,B1z,C31,f31,L31,d1z,B11;F1z="Conve";F1z+="r";F1z+="sion Line Period";P11=i11.chart.scrubbed;function A31(T31,S31){Y2WW.F6f();var V31,m31;V31=Number.MAX_VALUE;m31=Number.MAX_VALUE * -1;for(var Q31=S31 - T31 + 1;Q31 <= S31;Q31++){if(Q31 < 0)continue;V31=Math.min(V31,P11[Q31].Low);m31=Math.max(m31,P11[Q31].High);}return [V31,m31];}R11={Base:Number(i11.inputs["Base Line Period"]),Conv:Number(i11.inputs[F1z]),LeadB:Number(i11.inputs["Leading Span B Period"]),Lag:Number(i11.inputs["Lagging Span Period"])};for(l11=i11.startFrom;l11 < P11.length;l11++){w1z="L";w1z+="agging ";w1z+="Span ";B1z="C";B1z+="onversion Line ";if(!P11[l11])continue;q11=A31(R11.Conv,l11);P11[l11][B1z + i11.name]=(q11[1] + q11[+"0"]) / 2;q11=A31(R11.Base,l11);P11[l11]["Base Line " + i11.name]=(q11[+"1"] + q11[0]) / ("2" & 2147483647);if(l11 < R11.Lag)continue;P11[l11 - R11.Lag][w1z + i11.name]=P11[l11].Close;}C31=[];for(l11=Math.max(0,i11.startFrom - R11.Base);l11 < P11.length;l11++){q11=A31(R11.LeadB,l11);f31=(P11[l11]["Conversion Line " + i11.name] + P11[l11]["Base Line " + i11.name]) / 2;L31=(q11[1] + q11[0]) / 2;if(P11[l11 + R11.Base]){P11[l11 + R11.Base]["Leading Span A " + i11.name]=f31;P11[l11 + R11.Base]["Leading Span B " + i11.name]=L31;}else {d1z="L";d1z+="eadin";d1z+="g Span A ";B11={};B11[d1z + i11.name]=f31;B11["Leading Span B " + i11.name]=L31;C31.push(B11);}}i11.appendFutureTicks(N31,C31);};s11.Studies.displayIchimoku=function(z31,G31,E31){var n1z,g31,M31,K31,b31,W31,Z31,p31;n1z="L";n1z+="eading ";n1z+="Sp";n1z+="an B ";g31="Leading Span A " + G31.name;M31=n1z + G31.name;K31=s11.Studies.determineColor(G31.outputs[G31.outputMap[g31]]);b31=s11.Studies.determineColor(G31.outputs[G31.outputMap[M31]]);Y2WW.E6f();W31=z31.panels[G31.panel];Z31=G31.getYAxis(z31);p31={topBand:g31,bottomBand:M31,topColor:K31,bottomColor:b31,skipTransform:W31.name != G31.chart.name,topAxis:Z31,bottomAxis:Z31,opacity:0.3};if(!G31.highlight && z31.highlightedDraggable){p31.opacity*=0.3;}s11.fillIntersecting(z31,G31.panel,p31);s11.Studies.displaySeriesAsLine(z31,G31,E31);};s11.Studies.studyLibrary=s11.extend(s11.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !{},calculateFN:s11.Studies.calculateIchimoku,seriesFN:s11.Studies.displayIchimoku,inputs:{"Conversion Line Period":+"9","Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":U1z,"Leading Span A":v1z,"Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};Y9I=a31=>{var r31;r31=typeof _CIQ !== "undefined"?_CIQ:a31.CIQ;if(!r31.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {r31.Studies.calculateIntradayMomentum=function(Y31,c31){var y31,w31,u31,h31,k6z,r6z,g1z,x31,k31;Y2WW.E6f();y31=c31.chart.scrubbed;w31=c31.days;if(y31.length < w31 + 1){c31.error=! !"1";return;}u31=0;h31=0;if(c31.startFrom > 1){u31=y31[c31.startFrom - 1]["_totUp " + c31.name];h31=y31[c31.startFrom - 1]["_totDn " + c31.name];}for(var d31=c31.startFrom;d31 < y31.length;d31++){k6z="_totDn";k6z+=" ";r6z="_totU";r6z+="p ";g1z="Res";g1z+="u";g1z+="lt";g1z+=" ";x31=y31[d31].Close - y31[d31].Open;if(x31 > 0){u31+=x31;}else {h31-=x31;}if(d31 >= w31){k31=y31[d31 - w31].Close - y31[d31 - w31].Open;if(k31 > 0){u31-=k31;}else {h31+=k31;}}Y2WW.F0T(64);y31[d31][g1z + c31.name]=Y2WW.H0T(u31,u31,"100",h31);y31[d31][r6z + c31.name]=u31;y31[d31][k6z + c31.name]=h31;}};r31.Studies.studyLibrary=r31.extend(r31.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:r31.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" << 551236384,studyOverSoldColor:"auto"}}}});}};I9I=O31=>{var I31,S6z,j6z;Y2WW.E6f();I31=typeof _CIQ !== "undefined"?_CIQ:O31.CIQ;if(!I31.Studies){S6z="keltner feature";S6z+=" requires first activating studies feature.";console.error(S6z);}else {j6z="e";j6z+="m";j6z+="a";I31.Studies.calculateKeltner=function(n31,v31){var E6z;E6z="M";E6z+="A";I31.Studies.MA(v31.inputs["Moving Average Type"],v31.days,"Close",0,E6z,n31,v31);I31.Studies.calculateStudyATR(n31,v31);I31.Studies.calculateGenericEnvelope(n31,v31,v31.inputs.Shift,"MA " + v31.name,"ATR " + v31.name);};I31.Studies.studyLibrary=I31.extend(I31.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! !{},seriesFN:I31.Studies.displayChannel,calculateFN:I31.Studies.calculateKeltner,inputs:{Period:50,Shift:+"5","Moving Average Type":j6z,"Channel Fill":! !"1"},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:+"0.1"}}}});}};O9I=J31=>{var Y5f=Y2WW;var s6z,o31,M8J,W8J,l8J,y6z,x6z;s6z="undef";s6z+="in";s6z+="ed";Y5f.F6f();o31=typeof _CIQ !== s6z?_CIQ:J31.CIQ;if(!o31.Studies){M8J=-551082565;W8J=+"47906241";l8J=2;for(var B8J=1;Y5f.K5J(B8J.toString(),B8J.toString().length,57165) !== M8J;B8J++){console.error("");Y5f.F0T(13);l8J+=Y5f.a0T("2",1860029824);}if(Y5f.z5J(l8J.toString(),l8J.toString().length,77606) !== W8J){y6z="klinger feature requires first";y6z+=" activating studi";y6z+="es feat";y6z+="ure.";console.error(y6z);}}else {x6z="#00DD0";x6z+="0";o31.Studies.calculateKlinger=function(s31,j31){var c6z,e6z,L6z,C6z,X31,U31,t31,l31,e31,R31,D31,i31,P31,F31,Z6z,H31;c6z="_E";c6z+="MA-L";e6z="ex";e6z+="pon";e6z+="e";e6z+="ntial";L6z="_";L6z+="EMA";Y5f.F6f();L6z+="-S ";C6z="K";C6z+="l";C6z+="in";C6z+="gerSignal ";X31=j31.chart.scrubbed;U31=Number(j31.inputs["Short Cycle"]);t31=Number(j31.inputs["Long Cycle"]);if(X31.length < Math.max(U31,t31) + 1){j31.error=! ![];return;}l31=j31.name + "_hist";e31="Klinger " + j31.name;R31=C6z + j31.name;D31="_SV " + j31.name;i31=L6z + j31.name;P31="_EMA-L " + j31.name;for(F31=Math.max(1,j31.startFrom);F31 < X31.length;F31++){Z6z="h";Z6z+="l";Z6z+="c";Z6z+="/3";H31=X31[F31].Volume;if(X31[F31]["hlc/3"] < X31[F31 - 1][Z6z]){H31*=-1;}if(H31){X31[F31][D31]=H31;}}Y5f.F0T(14);o31.Studies.MA("exponential",U31,D31,Y5f.H0T("0",0),"_EMA-S",s31,j31);o31.Studies.MA(e6z,t31,D31,0,c6z,s31,j31);for(F31=Math.max(t31,j31.startFrom);F31 < X31.length;F31++){if(X31[F31].futureTick || X31[F31][i31] === null || X31[F31][P31] === null)break;X31[F31][e31]=X31[F31][i31] - X31[F31][P31];}o31.Studies.MA("exponential",Number(j31.inputs["Signal Periods"]),e31,0,"KlingerSignal",s31,j31);for(F31=j31.startFrom;F31 < X31.length;F31++){X31[F31][l31]=X31[F31][e31] - X31[F31][R31];}j31.outputMap[l31]="";};o31.Studies.studyLibrary=o31.extend(o31.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:o31.Studies.displayHistogramWithSeries,calculateFN:o31.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":"55" << 1800281472},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":x6z,"Decreasing Bar":"#FF0000"}}});}};v9I=B31=>{Y2WW.F6f();var J6z,q31,m6z,t6z,O6z,i6z,u6z,Q6z,I6z,D6z,a6z,p6z;J6z="unde";J6z+="f";J6z+="i";J6z+="ned";q31=typeof _CIQ !== J6z?_CIQ:B31.CIQ;if(!q31.Studies){m6z="linearRegression ";m6z+="feature requires fi";m6z+="rst activating studies feature.";console.error(m6z);}else {t6z="fi";t6z+="el";t6z+="d";O6z="Linear ";O6z+="R";O6z+="eg R2";i6z="fie";i6z+="ld";u6z="f";u6z+="iel";u6z+="d";Q6z="Li";Q6z+="ne";Q6z+="ar Reg Foreca";Q6z+="st";I6z="TimeS";I6z+="e";I6z+="ries";D6z="Time";D6z+=" Series";a6z="ts";a6z+="ma";p6z="tim";p6z+="e ";p6z+="series";q31.Studies.prettify[p6z]=a6z;q31.Studies.movingAverage.conversions.tsma="time series";q31.Studies.movingAverage.translations["time series"]=D6z;q31.Studies.movingAverage.typeMap.tsma=I6z;q31.Studies.movingAverage.typeMap["time series"]="TimeSeries";q31.Studies.calculateMovingAverageTimeSeries=function(G41,A41){var y3f=Y2WW;y3f.F6f();var L3J,Z3J,e3J,L41,f41,N41,Q41,V41,m41,S41,R6z,T41;L3J=-436354888;Z3J=-777838249;e3J=2;for(var x3J=1;y3f.z5J(x3J.toString(),x3J.toString().length,49231) !== L3J;x3J++){A41.ma=new q31.Studies.StudyDescriptor(A41.name,"",A41.panel);A41.ma.chart=A41.chart;e3J+=+"2";}if(y3f.K5J(e3J.toString(),e3J.toString().length,75733) !== Z3J){A41.ma=new q31.Studies.StudyDescriptor(A41.name,"",A41.panel);A41.ma.chart=A41.chart;}A41.ma=new q31.Studies.StudyDescriptor(A41.name,"ma",A41.panel);A41.ma.chart=A41.chart;A41.ma.days=A41.days;A41.ma.startFrom=A41.startFrom;A41.ma.inputs=A41.inputs;q31.Studies.calculateLinearRegressionIndicator(G41,A41.ma);L41=A41.name;for(var z41 in A41.outputs){y3f.h0T(47);L41=y3f.a0T(L41," ",z41);}f41=parseInt(A41.inputs.Offset,10);if(isNaN(f41)){f41=0;}N41=A41.chart.scrubbed;Q41=f41;for(var C41=A41.startFrom - "1" * 1;C41 >= 0;C41--){V41=N41[C41][L41];if(!V41 && V41 !== 0)continue;if(Q41 > +"0"){Q41--;continue;}break;}m41=[];for(C41++;C41 < N41.length;C41++){S41=N41[C41];if(C41 + f41 >= 0){if(C41 + f41 < N41.length){y3f.F0T(0);N41[y3f.H0T(C41,f41)][L41]=S41["Forecast " + A41.name];}else {R6z="Fore";R6z+="cast";R6z+=" ";T41={};T41[L41]=S41[R6z + A41.name];m41.push(T41);}}}A41.appendFutureTicks(G41,m41);};q31.Studies.calculateLinearRegressionIndicator=function(x41,g41){var Z41,W41,a41,d41,u41,K41,c41,E41,y41,p41,b41,r41,h41,w41;Z41=g41.chart.scrubbed;if(Z41.length < g41.days + 1){g41.error=! !{};return;}W41=g41.inputs.Field;if(!W41 || W41 == "field"){W41="Close";}a41=g41.days * (g41.days + 1) / 2;d41=Math.pow(a41,2);u41=a41 * (2 * g41.days + 1) / 3;K41=0;c41=0;E41=0;if(g41.startFrom){y41=Z41[g41.startFrom - ("1" | 0)]["_sums " + g41.name];if(y41){c41=y41[+"0"];K41=y41[1];E41=y41[2];}}for(var M41=g41.startFrom;M41 < Z41.length;M41++){p41=Z41[M41][W41];if(p41 && typeof p41 == "object"){p41=p41[g41.subField];}if(!p41 && p41 !== ("0" & 2147483647))continue;c41+=g41.days * p41 - K41;K41+=p41;E41+=Math.pow(p41,2);if(M41 < g41.days - "1" * 1)continue;else if(M41 > g41.days - 1){b41=Z41[M41 - g41.days][W41];if(b41 && typeof b41 == "object"){b41=b41[g41.subField];}if(!b41 && b41 !== 0)continue;K41-=b41;E41-=Math.pow(b41,2);}r41=(g41.days * c41 - a41 * K41) / (g41.days * u41 - d41);Z41[M41]["Slope " + g41.name]=r41;h41=(K41 - r41 * a41) / g41.days;Z41[M41]["Intercept " + g41.name]=h41;Z41[M41]["Forecast " + g41.name]=h41 + r41 * g41.days;w41=(g41.days * u41 - d41) / (g41.days * E41 - Math.pow(K41,2));Y2WW.F0T(65);Z41[M41]["RSquared " + g41.name]=Y2WW.a0T(r41,w41,r41);Z41[M41]["_sums " + g41.name]=[c41,K41,E41];}};q31.Studies.studyLibrary=q31.extend(q31.Studies.studyLibrary,{"Lin Fcst":{name:Q6z,overlay:! !1,calculateFN:q31.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:u6z},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! ![],calculateFN:q31.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:i6z},outputs:{Intercept:"auto"}},"Lin R2":{name:O6z,calculateFN:q31.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:t6z},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:q31.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:! !{},calculateFN:q31.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};n9I=Y41=>{var k41,q6z;Y2WW.E6f();k41=typeof _CIQ !== "undefined"?_CIQ:Y41.CIQ;if(!k41.Studies){console.error("macd feature requires first activating studies feature.");}else {q6z="#";q6z+="FF";q6z+="0";q6z+="000";k41.Studies.calculateMACD=function(t41,I41){var K3f=Y2WW;var H6z,P6z,V6z,b6z,f6z,o41,J41,O41,F41,j41,n41,v41,e41,G6z,X41,D41,H41;H6z="S";H6z+="i";H6z+="gnal";P6z="S";P6z+="ignal MA T";P6z+="ype";V6z="ex";V6z+="p";V6z+="onential";b6z="M";b6z+="oving Avera";b6z+="ge Type";f6z="Si";f6z+="gnal";f6z+=" Period";o41=I41.chart.scrubbed;J41=I41.inputs;O41=I41.name;if(!I41.macd1Days){I41.macd1Days=parseFloat(J41["Fast MA Period"]);}if(!I41.macd2Days){I41.macd2Days=parseFloat(J41["Slow MA Period"]);}if(!I41.signalDays){I41.signalDays=parseFloat(J41[f6z]);}if(!I41.days){I41.days=Math.max(I41.macd1Days,I41.macd2Days,I41.signalDays);}if(o41.length < I41.days + 1){I41.error=! !1;return;}F41=I41.inputs.Field;if(!F41 || F41 == "field"){F41="Close";}j41=J41[b6z];if(!j41){j41=V6z;}k41.Studies.MA(j41,I41.macd1Days,F41,+"0","_MACD1",t41,I41);k41.Studies.MA(j41,I41.macd2Days,F41,0,"_MACD2",t41,I41);e41=Math.max(I41.startFrom,I41.days - 1);for(n41=e41;n41 < o41.length;n41++){G6z="_MA";G6z+="CD";G6z+="2 ";v41=o41[n41];if((v41["_MACD1 " + O41] || v41["_MACD1 " + O41] === 0) && (v41["_MACD2 " + O41] || v41[G6z + O41] === 0)){K3f.F0T(0);v41[K3f.a0T("MACD ",O41)]=v41["_MACD1 " + O41] - v41["_MACD2 " + O41];}}X41=J41[P6z];if(!X41){X41="exponential";}k41.Studies.MA(X41,I41.signalDays,"MACD " + O41,0,H6z,t41,I41);K3f.h0T(0);D41=K3f.a0T(O41,"_hist");for(n41=e41;n41 < o41.length;n41++){v41=o41[n41];K3f.F0T(0);H41=v41[K3f.H0T("Signal ",O41)];if(!H41 && H41 !== 0)continue;v41[D41]=v41["MACD " + O41] - v41["Signal " + O41];}I41.outputMap[D41]="";};k41.Studies.studyLibrary=k41.extend(k41.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:k41.Studies.calculateMACD,seriesFN:k41.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:q6z,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};o9I=U41=>{var s41,N6z;s41=typeof _CIQ !== "undefined"?_CIQ:U41.CIQ;if(!s41.Studies){N6z="massIndex feature requires";N6z+=" f";N6z+="irst activating studies feature.";console.error(N6z);}else {s41.Studies.calculateMassIndex=function(B41,l41){var K6z,i41,z6z,q41,h6z,A6z;K6z="_t";K6z+="ota";K6z+="l";K6z+=" ";i41=l41.chart.scrubbed;if(i41.length < Math.max(9,l41.days + 1)){l41.error=! !{};return;}for(var R41=l41.startFrom;R41 < i41.length;R41++){z6z="_Hi";z6z+="gh-";z6z+="L";z6z+="ow ";i41[R41][z6z + l41.name]=i41[R41].High - i41[R41].Low;}s41.Studies.MA("exponential",9,"_High-Low " + l41.name,0,"_EMA",B41,l41);s41.Studies.MA("exponential",9,"_EMA " + l41.name,0,"_EMA2",B41,l41);q41=0;if(i41[l41.startFrom - 1] && i41[l41.startFrom - +"1"]["_total " + l41.name]){q41=i41[l41.startFrom - 1][K6z + l41.name];}for(var P41=Math.max(17,l41.startFrom);P41 < i41.length;P41++){h6z="_E";h6z+="MA2";h6z+=" ";q41+=i41[P41]["_EMA " + l41.name] / i41[P41][h6z + l41.name];if(P41 >= 17 + l41.days - 1){A6z="_";A6z+="E";A6z+="MA2";A6z+=" ";i41[P41]["Result " + l41.name]=q41;q41-=i41[P41 - l41.days + 1]["_EMA " + l41.name] / i41[P41 - l41.days + 1][A6z + l41.name];}i41[P41]["_total " + l41.name]=q41;}};s41.Studies.displayMassIndex=function(C51,A51,V51){var q3f=Y2WW;var f51,m51,L51,N51,Q51,y8J,C8J,L8J;s41.Studies.displaySeriesAsLine(C51,A51,V51);f51=A51.inputs["Bulge Threshold"];m51=C51.panels[A51.panel];L51=A51.getYAxis(C51);N51=s41.Studies.determineColor(A51.outputs.Result);Q51={skipTransform:C51.panels[A51.panel].name != A51.chart.name,panelName:A51.panel,band:"Result " + A51.name,threshold:f51,direction:1,color:N51,yAxis:L51,opacity:0.3};y8J=1487841762;q3f.F0T(21);C8J=q3f.H0T(1,"795106220");L8J=2;for(var e8J=1;q3f.K5J(e8J.toString(),e8J.toString().length,95021) !== y8J;e8J++){if(!A51.highlight && C51.highlightedDraggable){Q51.opacity*=0.3;}L8J+=2;}if(q3f.K5J(L8J.toString(),L8J.toString().length,55302) !== C8J){if(-A51.highlight || C51.highlightedDraggable){Q51.opacity%=747;}}q3f.F6f();s41.preparePeakValleyFill(C51,Q51);s41.Studies.drawHorizontal(C51,A51,null,f51,L51,N51);};s41.Studies.studyLibrary=s41.extend(s41.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:s41.Studies.displayMassIndex,calculateFN:s41.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:+"20",max:35,step:0.1}}}});}};J9I=T51=>{var S51,M6z;S51=typeof _CIQ !== "undefined"?_CIQ:T51.CIQ;if(!S51.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {M6z="0";M6z+=" to ";M6z+="1";M6z+="00";S51.Studies.calculateMoneyFlowIndex=function(y51,g51){var C3f=Y2WW;var o6z,Y6z,z51,Z51,M51,K51,r51,b51,a51,T6z,W51,X6z,c51,p51,E51;o6z="Re";o6z+="s";o6z+="ult ";Y6z="_cu";Y6z+="mMF";Y6z+=" ";z51=g51.chart.scrubbed;if(z51.length < g51.days + 1){g51.error=! ![];return;}Z51=0;M51=0;K51=z51[g51.startFrom - 1];r51="_rawMF " + g51.name;b51=Y6z + g51.name;a51=o6z + g51.name;if(K51 && K51[b51]){Z51=K51[b51][+"0"];M51=K51[b51][1];}for(var G51=g51.startFrom;G51 < z51.length;G51++){T6z="hlc";T6z+="/";T6z+="3";W51=z51[G51][T6z];if(G51 > 0 && !z51[G51].futureTick){X6z="hlc";X6z+="/3";C3f.h0T(2);c51=z51[C3f.a0T(1,G51)][X6z];p51=W51 * z51[G51].Volume;if(W51 > c51){Z51+=p51;}else if(W51 < c51){C3f.h0T(27);p51*=-C3f.a0T("1",1187284160);M51-=p51;}else {p51=0;}if(G51 > g51.days){E51=z51[G51 - g51.days][r51];if(E51 > 0){Z51-=E51;}else {M51+=E51;}if(M51 === 0){z51[G51][a51]=100;}else if(z51[G51].Volume){C3f.h0T(66);z51[G51][a51]=C3f.H0T(M51,1,100,100,Z51);}}z51[G51][r51]=p51;z51[G51][b51]=[Z51,M51];}}};S51.Studies.studyLibrary=S51.extend(S51.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:M6z,calculateFN:S51.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};F9I=u51=>{var W6z,d51,l6z,J8z,x8z,c8z,B6z,F6z;W6z="und";W6z+="e";Y2WW.E6f();W6z+="fi";W6z+="ned";d51=typeof _CIQ !== W6z?_CIQ:u51.CIQ;if(!d51.Studies){l6z="moving";l6z+="Av";l6z+="erages feature requires first ac";l6z+="tivating studies feature.";console.error(l6z);}else {J8z="#00D";J8z+="D00";x8z="p";x8z+="erce";x8z+="nt";c8z="f";c8z+="i";c8z+="e";c8z+="ld";B6z="H";B6z+="u";B6z+="l";B6z+="l";F6z="t";F6z+="e";F6z+="m";F6z+="a";d51.Studies.prettify=d51.extend({"2-exponential":"dema","3-exponential":F6z,hull:"hma"},d51.Studies.prettify);d51.extend(d51.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:B6z,"2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});d51.Studies.calculateMovingAverageHull=function(n51,h51){var g6z,d6z,w6z,x51,k51,w51,Y51,v6z,U6z,n6z,I51,O51,o51,v51,r8z;g6z="_";g6z+="M";g6z+="MA ";d6z="_";d6z+="WM";d6z+="A";d6z+="2";w6z="fie";w6z+="l";w6z+="d";x51=h51.chart.scrubbed;k51=h51.inputs.Field;if(!k51 || k51 == w6z){k51="Close";}d51.Studies.MA("wma",h51.days,k51,0,"_WMA1",n51,h51);d51.Studies.MA("wma",Math.ceil(h51.days / +"2"),k51,0,d6z,n51,h51);for(w51=h51.startFrom - ("1" - 0);w51 >= "0" - 0;w51--){Y51=x51[w51][k51];if(Y51 && typeof Y51 == "object"){Y51=Y51[h51.subField];}if(Y51 || Y51 === +"0")break;}for(w51++;w51 < x51.length;w51++){v6z="_";v6z+="WMA1 ";U6z="_";U6z+="WM";U6z+="A";U6z+="2 ";n6z="_";n6z+="M";n6z+="MA ";I51=x51[w51];I51[n6z + h51.name]=2 * I51[U6z + h51.name] - I51[v6z + h51.name];}O51=parseInt(h51.inputs.Offset,+"10");if(isNaN(O51)){O51=0;}o51=Math.floor(Math.sqrt(h51.days));d51.Studies.MA("wma",o51,g6z + h51.name,O51,"_HMA",n51,h51);v51=h51.name;for(var J51 in h51.outputs){Y2WW.h0T(47);v51=Y2WW.H0T(v51,(510,6170) !== (8037,4.81)?" ":(567,+"369.61"),J51);}for(w51=Math.max(h51.days + o51 - 1,h51.startFrom);w51 < x51.length;w51++){r8z="_H";r8z+="M";r8z+="A";r8z+=" ";x51[w51][v51]=x51[w51][r8z + h51.name];}};d51.Studies.calculateMovingAverageDoubleExponential=function(s51,F51){var g3f=Y2WW;var S8z,k8z,e51,D51,X51,j51,t51,U51,H51,l51,E8z,i51,P51,R51;S8z="e";S8z+="m";S8z+="a";k8z="Cl";k8z+="os";k8z+="e";e51=F51.chart.scrubbed;D51=F51.inputs.Field;if(!D51 || D51 == "field"){D51=k8z;}d51.Studies.MA(S8z,F51.days,D51,0,"_EMA1",s51,F51);d51.Studies.MA("ema",F51.days,"_EMA1 " + F51.name,0,"_EMA2",s51,F51);X51=parseInt(F51.inputs.Offset,10);if(isNaN(X51)){g3f.F0T(14);X51=g3f.a0T("0",0);}U51=X51;for(j51=F51.startFrom - 1;j51 >= 0;j51--){t51=e51[j51][D51];if(t51 && typeof t51 == "object"){t51=t51[F51.subField];}if(!t51 && t51 !== 0)continue;if(U51 > 0){U51--;continue;}break;}H51=F51.name;for(var q51 in F51.outputs){g3f.h0T(47);H51=g3f.a0T(H51,(6560,61.13) === (701.83,2951)?(! !{},+"661.49"):(683,"1201" & 2147483647) > "547" >> 1006755808?" ":+"9410" <= 208.93?(0x1577,8.61e+3):(4.83e+3,0x3e7),q51);}l51=[];for(j51++;j51 < e51.length;j51++){E8z="_E";E8z+="MA1 ";if(j51 < +"2" * (F51.days - 1))continue;i51=e51[j51];P51=2 * i51[E8z + F51.name] - i51["_EMA2 " + F51.name];if(j51 + X51 >= 0){if(j51 + X51 < e51.length){g3f.h0T(0);e51[g3f.H0T(j51,X51)][H51]=P51;}else {R51={};R51[H51]=P51;l51.push(R51);}}}F51.appendFutureTicks(s51,l51);};d51.Studies.calculateMovingAverageTripleExponential=function(V71,B51){var d3f=Y2WW;var s8z,j8z,L71,N71,C71,A71,f71,S71,Q71,T71,m71,G71,z71;d3f.F6f();s8z="e";s8z+="ma";j8z="fi";j8z+="e";j8z+="l";j8z+="d";L71=B51.chart.scrubbed;N71=B51.inputs.Field;if(!N71 || N71 == j8z){N71="Close";}d51.Studies.MA("ema",B51.days,N71,0,"_EMA1",V71,B51);d51.Studies.MA("ema",B51.days,"_EMA1 " + B51.name,"0" * 1,"_EMA2",V71,B51);d51.Studies.MA(s8z,B51.days,"_EMA2 " + B51.name,0,"_EMA3",V71,B51);C71=parseInt(B51.inputs.Offset,10);if(isNaN(C71)){C71=0;}S71=C71;for(A71=B51.startFrom - 1;A71 >= 0;A71--){f71=L71[A71][N71];if(f71 && typeof f71 == "object"){f71=f71[B51.subField];}if(!f71 && f71 !== 0)continue;if(S71 > +"0"){S71--;continue;}break;}Q71=B51.name;for(var g71 in B51.outputs){d3f.F0T(47);Q71=d3f.H0T(Q71,4842 !== "6241" * 1?" ":147.97,g71);}T71=[];for(A71++;A71 < L71.length;A71++){if(A71 < 3 * (B51.days - 1))continue;m71=L71[A71];G71=("3" >> 1821464768) * m71["_EMA1 " + B51.name] - +"3" * m71["_EMA2 " + B51.name] + m71["_EMA3 " + B51.name];if(A71 + C71 >= 0){if(A71 + C71 < L71.length){d3f.h0T(0);L71[d3f.H0T(A71,C71)][Q71]=G71;}else {z71={};z71[Q71]=G71;T71.push(z71);}}}B51.appendFutureTicks(V71,T71);};d51.Studies.calculateMAEnvelope=function(b71,M71){var y8z,Z71,p71,K71;y8z="Clo";y8z+="s";y8z+="e";Z71=M71.inputs.Field;if(!Z71 || Z71 == "field"){Z71=y8z;}d51.Studies.MA(M71.inputs["Moving Average Type"],M71.days,Z71,0,"MA",b71,M71);p71=M71.inputs["Shift Type"];K71=M71.inputs.Shift;if(!p71){p71="percent";K71=M71.inputs["Shift Percentage"];}if(p71 == "percent"){Y2WW.F0T(8);d51.Studies.calculateGenericEnvelope(b71,M71,Y2WW.a0T(K71,100),"MA " + M71.name);}else if(p71 == "points"){d51.Studies.calculateGenericEnvelope(b71,M71,null,"MA " + M71.name,null,Number(K71));}};d51.Studies.calculateMADev=function(x71,W71){var F3f=Y2WW;var L8z,C8z,y71,r71,d71,u71,w71,Z8z,a71,E71,c71,e8z;L8z="Moving Ave";L8z+="ra";L8z+="ge Ty";L8z+="pe";C8z="C";C8z+="lo";C8z+="se";y71=W71.chart.scrubbed;F3f.E6f();if(y71.length < W71.days + 1){W71.error=!0;return;}r71=W71.inputs.Field;if(!r71 || r71 == "field"){r71=C8z;}d71=W71.inputs["Points Or Percent"];if(!d71){d71="Points";}u71=W71.inputs[L8z];if(!u71){u71="exponential";}d51.Studies.MA(u71,W71.days,r71,0,"_MA",x71,W71);w71=W71.name + "_hist";for(var h71=Math.max(W71.startFrom,W71.days - 1);h71 < y71.length;h71++){Z8z="_M";Z8z+="A";Z8z+=" ";a71=y71[h71];E71=a71[r71];if(E71 && typeof E71 == "object"){E71=E71[W71.subField];}c71=a71[Z8z + W71.name];if(c71 || c71 === 0){e8z="P";e8z+="oi";e8z+="n";e8z+="ts";if(d71 == e8z){F3f.F0T(2);a71[w71]=F3f.H0T(c71,E71);}else {F3f.F0T(67);a71[w71]=F3f.H0T(1,E71,c71,100);}}}W71.outputMap={};W71.outputMap[W71.name + "_hist"]="";};d51.Studies.studyLibrary=d51.extend(d51.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! ![],seriesFN:d51.Studies.displayChannel,calculateFN:d51.Studies.calculateMAEnvelope,inputs:{Period:50,Field:c8z,"Shift Type":[x8z,"points"],Shift:+"5","Moving Average Type":"ma","Channel Fill":! !{}},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:"0.1" * 1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:d51.Studies.calculateMADev,seriesFN:d51.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":J8z,"Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!"",seriesFN:d51.Studies.displayChannel,calculateFN:function(Y71,k71){Y2WW.E6f();var m8z;m8z="Mo";m8z+="ving A";m8z+="vera";m8z+="ge Type";k71.inputs[m8z]="triangular";d51.Studies.calculateMAEnvelope(Y71,k71);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":! !{}},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:+"0.1",step:0.1}}}});}};j9I=O71=>{var I71;I71=typeof _CIQ !== "undefined"?_CIQ:O71.CIQ;if(!I71.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {I71.Studies.calculatePSAR=function(i71,F71){var k3f=Y2WW;var p8z,v71,j71,o71,X71,J71,D71,H71,t71,a8z,e71,s71,U71;function l71(){j71=0;o71=null;X71=!X71;}p8z="M";p8z+="a";p8z+="xi";p8z+="mum AF";v71=F71.chart.scrubbed;k3f.h0T(34);j71=k3f.a0T(2147483647,"0");o71=null;X71=!1;J71=0;D71=parseFloat(F71.inputs["Minimum AF"]);H71=parseFloat(F71.inputs[p8z]);if(F71.startFrom > 0){J71=v71[F71.startFrom - +"1"]["Result " + F71.name];t71=v71[F71.startFrom - 1]["_state " + F71.name];if(t71 && t71.length == 3){j71=t71[+"0"];o71=t71[1];X71=t71[2];}}for(var n71=F71.startFrom - 1;n71 < v71.length - 1;n71++){a8z="_";a8z+="st";a8z+="at";a8z+="e ";if(n71 < 0)continue;if(v71[n71].futureTick)break;e71=J71;if(X71){if(!o71 || o71 < v71[n71].High){o71=v71[n71].High;k3f.F0T(0);j71=Math.min(k3f.a0T(j71,D71),H71);}k3f.F0T(68);J71=k3f.H0T(o71,j71,e71,e71);s71=Math.min(v71[Math.max(1,n71) - 1].Low,v71[n71].Low);if(J71 > v71[n71 + 1].Low){J71=o71;l71();}else if(J71 > s71){J71=s71;}}else {if(!o71 || o71 > v71[n71].Low){o71=v71[n71].Low;k3f.F0T(0);j71=Math.min(k3f.H0T(j71,D71),H71);}k3f.h0T(68);J71=k3f.a0T(o71,j71,e71,e71);U71=Math.max(v71[Math.max(1,n71) - 1].High,v71[n71].High);if(J71 < v71[n71 + 1].High){J71=o71;l71();}else if(J71 < U71){J71=U71;}}k3f.F0T(0);v71[k3f.a0T(n71,1)][a8z + F71.name]=[j71,o71,X71];if(!isNaN(v71[n71].High) || !isNaN(v71[n71].Low)){k3f.h0T(0);v71[k3f.a0T(n71,1)]["Result " + F71.name]=J71;}}};I71.Studies.studyLibrary=I71.extend(I71.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! ![],calculateFN:I71.Studies.calculatePSAR,seriesFN:I71.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":+"0.2"}}});}};X9I=R71=>{var D8z,P71,n3J,U3J,v3J,h8z,K8z,z8z,N8z,Y8z,A8z;D8z="und";D8z+="e";D8z+="fin";D8z+="ed";Y2WW.E6f();P71=typeof _CIQ !== D8z?_CIQ:R71.CIQ;if(!P71.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {P71.Studies.calculatePivotPoints=function(f21,C21){var Q8z,R8z,I8z,B71,L21,V21,N21,q71,u8z,O8z,i8z,m21,S21,t8z,f8z;Q8z="_po";Q8z+="inters ";R8z="seco";R8z+="nd";I8z="mo";I8z+="nth";function Q21(){Y2WW.E6f();q71.pivotPoint=(q71.high + q71.low + B71[A21 - ("1" | 0)].Close) / ("3" >> 1868576672);q71.prevHigh=q71.high;q71.prevLow=q71.low;q71.hlSpread=q71.high - q71.low;q71.high=q71.low=0;}B71=C21.chart.scrubbed;L21="day";if(f21.layout.interval == "day"){L21=I8z;}else if(P71.ChartEngine.isDailyInterval(f21.layout.interval)){L21="year";}else if(f21.layout.interval == R8z || f21.layout.interval == "millisecond" || f21.layout.timeUnit == "second" || f21.layout.timeUnit == "millisecond"){L21="15min";}else {V21=f21.layout.periodicity;if(f21.layout.interval != "minute"){V21*=f21.layout.interval;}if(V21 >= +"30"){L21="week";}}N21=null;q71={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:"0" >> 1377348608};if(C21.startFrom > 1 && B71[C21.startFrom - 1][Q8z + C21.name]){u8z="_point";u8z+="er";u8z+="s ";q71=P71.clone(B71[C21.startFrom - 1][u8z + C21.name]);}for(var A21=Math.max("1" & 2147483647,C21.startFrom);A21 < B71.length;A21++){O8z="f";O8z+="ibona";O8z+="cci";i8z="d";i8z+="a";i8z+="y";if(!B71[A21 - 1])continue;q71.high=Math.max(q71.high,B71[A21 - 1].High);q71.low=Math.min(q71.low > 0?q71.low:B71[A21 - ("1" - 0)].Low,B71[A21 - ("1" >> 938775104)].Low);if(C21.inputs.Continuous){Q21();}else if(L21 == "year" && B71[A21].DT.getYear() != B71[A21 - ("1" ^ 0)].DT.getYear()){Q21();}else if(L21 == "month" && B71[A21].DT.getMonth() != B71[A21 - 1].DT.getMonth()){Q21();}else if(L21 == "week" && B71[A21].DT.getDay() < B71[A21 - 1].DT.getDay()){Q21();}else if(L21 == i8z){if(N21 === null){N21=P71.Studies.getMarketOffset({stx:f21,localQuoteDate:B71[A21].DT,shiftToDateBoundary:! ![]});}m21=new Date(new Date(+B71[A21].DT).setMilliseconds(B71[A21].DT.getMilliseconds() + N21));S21=new Date(new Date(+B71[A21 - 1].DT).setMilliseconds(B71[A21 - 1].DT.getMilliseconds() + N21));if(S21.getDate() !== m21.getDate() && S21.getDay() !== 0 && f21.chart.market.isMarketDate(m21)){N21=null;Q21();}}else if(L21 == "15min" && (B71[A21].DT.getHours() != B71[A21 - 1].DT.getHours() || Math.floor(B71[A21].DT.getMinutes() / 15) != Math.floor(B71[A21 - ("1" - 0)].DT.getMinutes() / 15))){Q21();}B71[A21]["Pivot " + C21.name]=q71.pivotPoint;if(C21.inputs.Type.toLowerCase() == O8z){t8z="R";t8z+="esist";t8z+="ance 2 ";B71[A21]["Resistance 1 " + C21.name]=q71.pivotPoint + 0.382 * q71.hlSpread;B71[A21][t8z + C21.name]=q71.pivotPoint + 0.618 * q71.hlSpread;B71[A21]["Resistance 3 " + C21.name]=q71.pivotPoint + q71.hlSpread;B71[A21]["Support 1 " + C21.name]=q71.pivotPoint - 0.382 * q71.hlSpread;B71[A21]["Support 2 " + C21.name]=q71.pivotPoint - 0.618 * q71.hlSpread;B71[A21]["Support 3 " + C21.name]=q71.pivotPoint - q71.hlSpread;}else {f8z="Su";f8z+="p";f8z+="port 3";f8z+=" ";B71[A21]["Resistance 1 " + C21.name]=2 * q71.pivotPoint - q71.prevLow;B71[A21]["Resistance 2 " + C21.name]=q71.pivotPoint + q71.hlSpread;B71[A21]["Resistance 3 " + C21.name]=q71.prevHigh + 2 * (q71.pivotPoint - q71.prevLow);B71[A21]["Support 1 " + C21.name]=("2" | 0) * q71.pivotPoint - q71.prevHigh;B71[A21]["Support 2 " + C21.name]=q71.pivotPoint - q71.hlSpread;B71[A21][f8z + C21.name]=q71.prevLow - 2 * (q71.prevHigh - q71.pivotPoint);}B71[A21]["_pointers " + C21.name]=P71.clone(q71);}};P71.Studies.displayPivotPoints=function(G21,T21,M21){var q8z,H8z,P8z,G8z,V8z,b8z,g21,z21;T21.noSlopes=!T21.inputs.Continuous;P71.Studies.displaySeriesAsLine(G21,T21,M21);if(T21.inputs.Shading){q8z="Suppor";q8z+="t";q8z+=" 2 ";H8z="Sup";H8z+="port ";H8z+="3 ";P8z="Su";P8z+="p";P8z+="por";P8z+="t 1";G8z="P";G8z+="i";G8z+="vo";G8z+="t ";V8z="Resistance";V8z+=" 2";b8z="R";b8z+="esista";b8z+="nce 2 ";g21=G21.panels[T21.panel];z21={noSlopes:T21.noSlopes,opacity:T21.parameters.opacity?T21.parameters.opacity:0.2,skipTransform:g21.name != T21.chart.name,yAxis:T21.getYAxis(G21)};if(!T21.highlight && G21.highlightedDraggable){z21.opacity*=+"0.3";}P71.prepareChannelFill(G21,P71.extend({panelName:T21.panel,topBand:"Resistance 3 " + T21.name,bottomBand:b8z + T21.name,color:P71.Studies.determineColor(T21.outputs["Resistance 3"])},z21));P71.prepareChannelFill(G21,P71.extend({panelName:T21.panel,topBand:"Resistance 2 " + T21.name,bottomBand:"Resistance 1 " + T21.name,color:P71.Studies.determineColor(T21.outputs[V8z])},z21));P71.prepareChannelFill(G21,P71.extend({panelName:T21.panel,topBand:"Resistance 1 " + T21.name,bottomBand:"Pivot " + T21.name,color:P71.Studies.determineColor(T21.outputs["Resistance 1"])},z21));P71.prepareChannelFill(G21,P71.extend({panelName:T21.panel,topBand:"Support 1 " + T21.name,bottomBand:G8z + T21.name,color:P71.Studies.determineColor(T21.outputs[P8z])},z21));P71.prepareChannelFill(G21,P71.extend({panelName:T21.panel,topBand:"Support 2 " + T21.name,bottomBand:"Support 1 " + T21.name,color:P71.Studies.determineColor(T21.outputs["Support 2"])},z21));P71.prepareChannelFill(G21,P71.extend({panelName:T21.panel,topBand:H8z + T21.name,bottomBand:q8z + T21.name,color:P71.Studies.determineColor(T21.outputs["Support 3"])},z21));}};n3J=-418709063;U3J=-1657126971;v3J=2;for(var r4J=1;Y2WW.K5J(r4J.toString(),r4J.toString().length,17687) !== n3J;r4J++){h8z="#b";h8z+="82c0b";K8z="#ffd0";K8z+="cf";z8z="#f";z8z+="fd0";z8z+="cf";N8z="S";N8z+="uppor";N8z+="t";N8z+=" 1";P71.Studies.studyLibrary=P71.extend(P71.Studies.studyLibrary,{"Pivot Points":{name:N8z,overlay:!{},seriesFN:P71.Studies.displayPivotPoints,calculateFN:P71.Studies.calculatePivotPoints,inputs:{Type:[z8z,K8z],Continuous:! !{},Shading:! !1},outputs:{Pivot:"#d3e8ae","Resistance 1":h8z,"Support 1":"Resistance 3","Resistance 2":"Support 3","Support 2":"#ffd0cf","Resistance 3":"#ffd0cf","Support 3":"#ffd0cf"},parameters:{init:{opacity:230}}}});v3J+=2;}if(Y2WW.K5J(v3J.toString(),v3J.toString().length,15116) !== U3J){Y8z="#f";Y8z+="f";Y8z+="d0";Y8z+="cf";A8z="a";A8z+="ut";A8z+="o";P71.Studies.studyLibrary=P71.extend(P71.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! ![],seriesFN:P71.Studies.displayPivotPoints,calculateFN:P71.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:![],Shading:!{}},outputs:{Pivot:A8z,"Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":Y8z,"Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}}};t9I=p21=>{var o8z,Z21;o8z="un";o8z+="def";o8z+="i";o8z+="ned";Z21=typeof _CIQ !== o8z?_CIQ:p21.CIQ;if(!Z21.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {Z21.Studies.calculatePrettyGoodOscillator=function(E21,K21){Y2WW.F6f();var M8z,X8z,T8z,b21,W8z;M8z="_";M8z+="SMA";X8z="_";X8z+="EMA";T8z="t";T8z+="r";T8z+="ueRange";b21=K21.chart.scrubbed;if(b21.length < K21.days + +"1"){K21.error=!"";return;}Z21.Studies.MA("exponential",K21.days,T8z,+"0",X8z,E21,K21);Z21.Studies.MA("simple",K21.days,"Close",0,M8z,E21,K21);for(var W21=Math.max("1" << 907877568,K21.startFrom);W21 < b21.length;W21++){W8z="_";W8z+="S";W8z+="MA";W8z+=" ";if(!b21[W21][W8z + K21.name] || !b21[W21]["_EMA " + K21.name])continue;b21[W21]["Result " + K21.name]=(b21[W21].Close - b21[W21]["_SMA " + K21.name]) / b21[W21]["_EMA " + K21.name];}};Z21.Studies.studyLibrary=Z21.extend(Z21.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:Z21.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:+"3",studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};e9I=a21=>{var l8z,r21,H6J,q6J,N6J,v8z,U8z,k0z,r0z,g8z;l8z="u";Y2WW.E6f();l8z+="ndefined";r21=typeof _CIQ !== l8z?_CIQ:a21.CIQ;if(!r21.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {r21.Studies.calculatePMO=function(w21,c21){var n8z,d8z,B8z,F8z,u21,y21,h21,d21,x21,w8z;n8z="PMOSign";n8z+="al";d8z="P";d8z+="M";d8z+="O";B8z="Cl";B8z+="o";Y2WW.E6f();B8z+="s";B8z+="e";F8z="Smoothi";F8z+="ng Period";u21={Smooth:Number(c21.inputs[F8z]) - +"1",Double:Number(c21.inputs["Double Smoothing Period"]) - 1,Signal:Number(c21.inputs["Signal Period"])};y21=c21.chart.scrubbed;if(y21.length < u21.Smooth + u21.Double){c21.error=!0;return;}h21=c21.inputs.Field;if(!h21 || h21 == "field"){h21=B8z;}for(d21=c21.startFrom;d21 < y21.length;d21++){if(!y21[d21])continue;if(!y21[d21 - 1])continue;Y2WW.h0T(33);x21=y21[Y2WW.a0T(d21,"1")][h21];if(x21){w8z="_ROC";w8z+="x";w8z+="10 ";y21[d21][w8z + c21.name]=1000 * (y21[d21][h21] / x21 - 1);}}r21.Studies.MA("exponential",u21.Smooth,"_ROCx10 " + c21.name,0,"_EMAx10",w21,c21);r21.Studies.MA("exponential",u21.Double,"_EMAx10 " + c21.name,0,d8z,w21,c21);r21.Studies.MA("exponential",u21.Signal,"PMO " + c21.name,0,n8z,w21,c21);c21.zoneOutput="PMO";};H6J=1951675307;q6J=201673657;N6J=2;for(var M6J=1;Y2WW.z5J(M6J.toString(),M6J.toString().length,20648) !== H6J;M6J++){v8z="a";v8z+="uto";U8z="a";U8z+="u";U8z+="t";U8z+="o";r21.Studies.studyLibrary=r21.extend(r21.Studies.studyLibrary,{PMO:{name:"auto",calculateFN:r21.Studies.calculatePMO,inputs:{Field:"0.05","Smoothing Period":20,"Double Smoothing Period":40,"Signal Period":69},outputs:{PMO:U8z,PMOSignal:"Signal Period"},parameters:{init:{studyOverZonesEnabled:!{},studyOverBoughtValue:107,studyOverBoughtColor:v8z,studyOverSoldValue:~699,studyOverSoldColor:"Smoothing Period"}},attributes:{studyOverBoughtValue:{min:6,step:"Smoothing Period"},studyOverSoldValue:{max:9,step:"auto"}}}});N6J+=2;}if(Y2WW.K5J(N6J.toString(),N6J.toString().length,26334) !== q6J){k0z="0";k0z+=".";k0z+="0";k0z+="5";r0z="a";r0z+="u";r0z+="t";r0z+="o";g8z="#FF00";g8z+="00";r21.Studies.studyLibrary=r21.extend(r21.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:r21.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":+"35","Double Smoothing Period":20,"Signal Period":+"10"},outputs:{PMO:"auto",PMOSignal:g8z},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:2.5,studyOverBoughtColor:r0z,studyOverSoldValue:-("2.5" * 1),studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:k0z},studyOverSoldValue:{max:0,step:"0.05"}}}});}}};D9I=Y21=>{var k21,J0z,x0z,c0z,e0z,Z0z,L0z;k21=typeof _CIQ !== "undefined"?_CIQ:Y21.CIQ;Y2WW.F6f();if(!k21.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {J0z="a";J0z+="u";J0z+="t";J0z+="o";x0z="#";x0z+="00D";x0z+="D";x0z+="00";c0z="P";c0z+="e";c0z+="rcent";e0z="P";e0z+="o";e0z+="ints";Z0z="fie";Z0z+="ld";L0z="Price";L0z+=" Oscillator";k21.Studies.calculatePriceOscillator=function(D21,I21){var O3f=Y2WW;var s0z,E0z,S0z,F21,e21,j21,v21,n21,j0z,X21,O21,o21,J21,y0z,C0z;s0z="Percen";s0z+="t";E0z="Moving Avera";E0z+="ge Type";S0z="Long ";S0z+="C";S0z+="ycl";S0z+="e";F21=I21.chart.scrubbed;e21=Number(I21.inputs["Short Cycle"]);j21=Number(I21.inputs[S0z]);if(F21.length < Math.max(e21,j21) + +"1"){I21.error=! !1;return;}v21=I21.inputs.Field;n21=I21.inputs[E0z];if(!n21){n21="simple";}if(!v21 || v21 == "field"){v21="Close";}if(I21.parameters.isVolume){j0z="ex";j0z+="ponential";v21="Volume";n21=j0z;}X21=I21.inputs["Points Or Percent"];if(!X21){X21=s0z;}k21.Studies.MA(n21,e21,v21,0,"_Short MA",D21,I21);k21.Studies.MA(n21,j21,v21,0,"_Long MA",D21,I21);for(var t21=Math.max(j21,I21.startFrom);t21 < F21.length;t21++){O21=F21[t21];if(!O21)continue;o21=O21["_Short MA " + I21.name];J21=O21["_Long MA " + I21.name];if((o21 || o21 === ("0" | 0)) && (J21 || J21 === 0)){y0z="Inc";y0z+="reasin";y0z+="g Ba";y0z+="r";if(X21 == "Points"){O3f.h0T(2);O21["Result " + I21.name]=O3f.H0T(J21,o21);}else {O3f.F0T(67);O21["Result " + I21.name]=O3f.a0T(1,o21,J21,100);}if(I21.outputs[y0z]){C0z="_h";C0z+="i";C0z+="s";C0z+="t";O21[I21.name + C0z]=O21["Result " + I21.name];I21.outputMap={};I21.outputMap[I21.name + "_hist"]="";}}}};k21.Studies.displayRAVI=function(s21,H21,B21){var q21,l21,C81,m81,P21,z81,g81,U21,R21,S81,T81;q21=s21.panels[H21.panel];l21=H21.getContext(s21);C81=H21.getYAxis(s21);m81=s21.pixelFromPrice(0,q21,C81);P21=s21.layout.candleWidth - +"2";if(P21 < 2){P21=1;}z81=k21.Studies.determineColor(H21.outputs["Increasing Bar"]);g81=k21.Studies.determineColor(H21.outputs["Decreasing Bar"]);s21.startClip(H21.panel);s21.canvasColor("stx_histogram");if(!H21.underlay){l21.globalAlpha=1;}if(!H21.highlight && s21.highlightedDraggable){l21.globalAlpha*=0.3;}for(var i21=0;i21 < B21.length;i21++){U21=B21[i21];Y2WW.F0T(2);R21=B21[Y2WW.a0T(1,i21)];if(!R21){R21=s21.getPreviousBar(s21.chart,H21.name + "_hist",i21);}if(!U21)continue;S81=0;T81=0;if(H21.parameters && H21.parameters.studyOverZonesEnabled){S81=parseFloat(H21.parameters.studyOverBoughtValue);T81=parseFloat(H21.parameters.studyOverSoldValue);}if(!R21){l21.fillStyle="#CCCCCC";}else if(U21[H21.name + "_hist"] > S81 && R21[H21.name + "_hist"] < U21[H21.name + "_hist"]){l21.fillStyle=z81;}else if(U21[H21.name + "_hist"] < T81 && R21[H21.name + "_hist"] > U21[H21.name + "_hist"]){l21.fillStyle=g81;}else {l21.fillStyle="#CCCCCC";}if(U21.candleWidth){P21=Math.floor(Math.max(1,U21.candleWidth - 2));}l21.fillRect(Math.floor(s21.pixelFromBar(i21,q21.chart) - P21 / +"2"),Math.floor(m81),Math.floor(P21),Math.floor(s21.pixelFromPrice(U21[H21.name + "_hist"],q21,C81) - m81));}s21.endClip();};k21.Studies.studyLibrary=k21.extend(k21.Studies.studyLibrary,{"Price Osc":{name:L0z,calculateFN:k21.Studies.calculatePriceOscillator,inputs:{Field:Z0z,"Short Cycle":"12" * 1,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":[e0z,c0z]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:k21.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:! ![]}}},RAVI:{name:"RAVI",seriesFN:k21.Studies.displayRAVI,calculateFN:k21.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":x0z,"Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-("3" << 1523145664),studyOverSoldColor:J0z}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};Y2WW.F6f();H9I=E81=>{var m0z,p81,D0z,a0z;m0z="und";m0z+="efi";m0z+="n";m0z+="ed";p81=typeof _CIQ !== m0z?_CIQ:E81.CIQ;if(!p81.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {D0z="aut";D0z+="o";a0z="Pri";a0z+="me N";a0z+="umber B";a0z+="ands";p81.Studies.calculatePrimeNumber=function(B81,u81){var w81,F81,y81,c81,r81,p0z,k81,P81,q81;w81=[];F81=u81.chart.scrubbed;function v81(A01){var f01;if(A01 <= 0){return !"1";}else if(A01 != Math.floor(A01)){return !{};}else if(w81[A01] === ! !"1" || w81[A01] === ![]){return w81[A01];}f01=parseInt(Math.sqrt(A01),10);for(var C01=2;C01 <= f01;C01++){if(A01 % C01 === 0){w81[A01]=![];return ! !"";}}w81[A01]=! ![];return !"";}Y2WW.E6f();for(var o81=u81.startFrom;o81 < F81.length;o81++){y81=F81[o81];if(!y81)continue;c81=y81.High;if(!isNaN(c81)){for(var X81=0;c81 > 0 && c81 <= 10;X81++){c81*=10;}if(v81(c81)){c81+=2;}c81=Math.ceil(c81);if(c81 % 2 === 0){c81++;}while(!v81(c81)){c81+=2;}Y2WW.h0T(34);c81/=Math.pow(Y2WW.a0T(2147483647,"10"),X81);}r81=y81.Low;if(!isNaN(r81)){for(var U81="0" & 2147483647;r81 > +"0" && r81 <= 10;U81++){r81*=10;}if(v81(r81)){r81-=2;}r81=Math.floor(r81);if(r81 % 2 === ("0" | 0)){r81--;}if(r81 > +"0"){while(!v81(r81)){r81-=2;}r81/=Math.pow(10,U81);}}if(u81.type == "Prime Number Bands"){if(!isNaN(c81)){y81["Prime Bands Top " + u81.name]=c81;}if(!isNaN(r81)){y81["Prime Bands Bottom " + u81.name]=Math.max(0,r81);}}else {p0z="Res";p0z+="ult ";k81=0;P81=u81.inputs["Tolerance Percentage"] * (c81 - r81) / 100;q81=c81 + r81 - 2 * y81.Close;if(q81 < P81){k81=1;}else if(q81 > P81){k81=-1;}if(k81){y81[p0z + u81.name]=k81;}}}};p81.Studies.studyLibrary=p81.extend(p81.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:p81.Studies.calculatePrimeNumber,centerline:"0" & 2147483647,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:"0.1" * 1,step:0.1}}},"Prime Number Bands":{name:a0z,overlay:! !{},calculateFN:p81.Studies.calculatePrimeNumber,seriesFN:p81.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":D0z,"Prime Bands Channel":"auto"}}});}};s9I=N01=>{var L01,N0z,q0z,H0z;L01=typeof _CIQ !== "undefined"?_CIQ:N01.CIQ;Y2WW.E6f();if(!L01.Studies){console.error("pring feature requires first activating studies feature.");}else {N0z="w";N0z+="ee";N0z+="k";N0z+="ly";q0z="dail";q0z+="y";H0z="Pri";H0z+="ng's Special K";L01.Studies.calculateKST=function(M01,Q01){var t0z,Q0z,R0z,I0z,S01,G01,T01,z01,Z01,m01,V01,u0z,i0z,O0z,g01;t0z="K";t0z+="STSi";t0z+="gnal";Q0z="Heavy SMA P";Q0z+="eriod";R0z="Heavy Rat";R0z+="e of Change Perio";R0z+="d";I0z="C";I0z+="los";I0z+="e";S01=Q01.chart.scrubbed;G01=Q01.inputs.Field;if(!G01 || G01 == "field"){G01=I0z;}T01={};z01={};T01[1]=Number(Q01.inputs["Lightest Rate of Change Period"]);T01[2]=Number(Q01.inputs["Light Rate of Change Period"]);T01[3]=Number(Q01.inputs[R0z]);T01[4]=Number(Q01.inputs["Heaviest Rate of Change Period"]);z01[1]=Number(Q01.inputs["Lightest SMA Period"]);z01[2]=Number(Q01.inputs["Light SMA Period"]);z01[3]=Number(Q01.inputs[Q0z]);z01[4]=Number(Q01.inputs["Heaviest SMA Period"]);Z01=Number(Q01.inputs["Signal Period"]);for(m01=Q01.startFrom;m01 < S01.length;m01++){if(!S01[m01])continue;for(V01=1;V01 <= "4" << 1308771264;V01++){u0z="_";u0z+="ROC";if(m01 >= T01[V01] && S01[m01 - T01[V01]] && S01[m01 - T01[V01]][G01]){S01[m01][u0z + V01 + (("4964" | 4704,"6150" << 870251488) <= (+"861",3160)?(! !"1",+"0x2337"):9406 <= (1803,"3123" & 2147483647)?1083 != 6213?("0xdd4" >> 1655734400,! !1):"a":" ") + Q01.name]=("100" >> 989438368) * (S01[m01][G01] / S01[m01 - T01[V01]][G01] - 1);}}}for(V01=+"1";V01 <= 4;V01++){i0z="simp";i0z+="le";L01.Studies.MA(i0z,z01[V01],"_ROC" + V01 + (54 === 560?+"8.12e+3":+"893" <= 102.08?"D":(+"9910",233.01) > 4192?0xb9a:" ") + Q01.name,0,"_SMA" + V01,M01,Q01);}Y2WW.F6f();for(m01=Q01.startFrom;m01 < S01.length;m01++){S01[m01]["KST " + Q01.name]=null;for(V01=1;V01 <= "4" >> 1701607936;V01++){O0z="_";O0z+="S";O0z+="M";O0z+="A";g01=S01[m01][O0z + V01 + ((279.69,"170.78" * 1) <= +"5410"?" ":669 === (1900,141.32)?(! ![],! !"1"):(3060,777) != ("8026" & 2147483647)?241.06:(!"1","a")) + Q01.name];if(g01 || g01 === 0){Y2WW.h0T(21);S01[m01]["KST " + Q01.name]+=Y2WW.a0T(g01,V01);}}}L01.Studies.MA("simple",Z01,"KST " + Q01.name,0,t0z,M01,Q01);};L01.Studies.calculateSpecialK=function(u01,E01){var V0z,b0z,f0z,b01,r01,W01,a01,y01,K01,p01,G0z,P0z,d01;V0z="d";V0z+="ail";V0z+="y";b0z="Cl";b0z+="os";b0z+="e";f0z="f";f0z+="i";f0z+="e";f0z+="ld";b01=E01.chart.scrubbed;r01=E01.inputs.Field;if(!r01 || r01 == f0z){r01=b0z;}W01=E01.inputs.Interval;if(!W01){W01=V0z;}a01={daily:[10,15,20,30,"50" >> 1708369088,65,75,100,195,+"265",390,"530" >> 1237683424],weekly:[4,5,6,+"8",10,13,15,20,39,52,78,104]};y01={daily:[10,10,10,15,50,"65" - 0,+"75",100,130,130,130,195],weekly:[4,5,6,8,+"10",13,"15" * 1,20,26,+"26",26,39]};for(K01=E01.startFrom;K01 < b01.length;K01++){if(!b01[K01])continue;for(p01=0;p01 < a01[W01].length;p01++){if(K01 >= a01[W01][p01] && b01[K01 - a01[W01][p01]] && b01[K01 - a01[W01][p01]][r01]){b01[K01]["_ROC" + p01 + ((8210,870.13) <= 676.99?(228.82,!{}):(1962,7750) == (+"555.24",5250)?! !"":819 <= 125.72?(! !{},0x661):" ") + E01.name]=100 * (b01[K01][r01] / b01[K01 - a01[W01][p01]][r01] - 1);}}}for(p01=0;p01 < y01[W01].length;p01++){G0z="si";G0z+="mp";G0z+="l";G0z+="e";L01.Studies.MA(W01 == "daily"?G0z:"exponential",y01[W01][p01],"_ROC" + p01 + " " + E01.name,0,"_MA" + p01,u01,E01);}for(K01=E01.startFrom;K01 < b01.length;K01++){P0z="Re";P0z+="sult ";b01[K01][P0z + E01.name]=null;for(p01=0;p01 < y01[W01].length;p01++){d01=b01[K01]["_MA" + p01 + (4960 !== 383.67?("706" * 1,+"9.45") > (4830,"9730" << 754012512)?839:" ":0x1fca) + E01.name];if(d01 || d01 === 0){Y2WW.h0T(69);b01[K01]["Result " + E01.name]+=Y2WW.a0T(d01,4,1,p01);}}}};L01.Studies.studyLibrary=L01.extend(L01.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:L01.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:H0z,calculateFN:L01.Studies.calculateSpecialK,inputs:{Field:"field",Interval:[q0z,N0z]}}});}};U9I=w01=>{var z0z,h01,x01,L9W,s9W,j9W,g0z,v0z,U0z,n0z;z0z="undef";z0z+="in";z0z+="e";z0z+="d";h01=typeof _CIQ !== z0z?_CIQ:w01.CIQ;Y2WW.E6f();x01=typeof _timezoneJS !== "undefined"?_timezoneJS:w01.timezoneJS;if(!h01.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {L9W="#8cc17";L9W+="6";s9W="hh";s9W+=":mm";s9W+=":s";s9W+="s";j9W="#cf";j9W+="bd0e";g0z="-";g0z+="1";g0z+="2";g0z+="5%";v0z="-2";v0z+="5%";U0z="+";U0z+="5";U0z+="0%";n0z="+75";n0z+="%";h01.Studies.initProjectedVolume=function(I01,n01,Y01,o01,J01,F01){var k01,v01;var {market:O01}=I01.chart;k01="00:00";if(O01){k01=O01.getNormalOpen();}if(k01.match(/^[\d]{2}:[\d]{2}$/)){k01+=":00";}if(!Y01["Anchor Time"] || !Y01["Anchor Time"].length){Y01["Anchor Time"]=k01;}v01=h01.Studies.initializeFN(I01,n01,Y01,o01,J01,F01);if(!I01.currentlyImporting){v01.defaultAnchorTime=k01;}return v01;};h01.Studies.validateProjectedVolumeLookback=function(e01,D01){var {interval:j01, periodicity:X01}=e01.layout;Y2WW.F6f();var {"Lookback Days":t01}=D01.inputs;Y2WW.h0T(70);return Y2WW.H0T("10",X01,j01,t01);};h01.Studies.calculateProjectedVolume=function(U01,H01){var c3f=Y2WW;var l0z,o0z,Y0z,A0z,h0z,K0z,t6b,N9b,h5J,A5J,Y5J,K9b,q6b,A1b,l9b,i9b,l01,P9b,a1b,i01,L6b,m6b,C1b,G6b,X0z,Q9b,M6b,c1b,A9b,y1b,w9b,P01,O9b,q01,E9b,L1b,N1b,Q1b,V1b,b6b,a6b,D9b,h1b,m1b,T0z,r9b,c9b,s9b,w1b,h6b,W0z,M0z,R01,S1b,T1b,Y6b,G1b,x9b;function M1b(j1b){c3f.F6f();return U01.tickFromDate(j1b,null,null,! !1,"scrubbed");}l0z="V";l0z+=" ";o0z="P";o0z+="V ";Y0z="HH";Y0z+=":";Y0z+="m";Y0z+="m";function Z1b(X1b){c3f.F6f();return U01.dateFromTick(X1b,null,! !{},"scrubbed");}A0z=":";A0z+="0";A0z+="0";h0z="Anchor";h0z+=" Selector";K0z="P";K0z+="A";K0z+="V";var {interval:p1b, timeUnit:o6b, aggregationType:J6b}=U01.layout;var {symbol:K1b, scroll:b1b, scrubbed:s01, market:B01}=U01.chart;t6b=H01.type === K0z;N9b=H01.study?H01.study.name:H01.type;if(h01.ChartEngine.isDailyInterval(p1b)){H01.error=`${N9b} is Intraday Only`;}else if(o6b === "tick"){H01.error=`Tick mode not supported for ${N9b}`;}else if(o6b !== "minute"){H01.error=`Sub-minute periodicities not supported for ${N9b}`;}else if(!J6b || !["ohlc","heikinashi"].includes(J6b)){H01.error=`Aggregation type not supported for ${N9b}`;}else if(!h01.Studies.validateProjectedVolumeLookback(U01,H01)){h5J=1892326191;A5J=-2103505;Y5J=2;for(var T5J=1;c3f.z5J(T5J.toString(),T5J.toString().length,67284) !== h5J;T5J++){H01.error=`Selected lookback/periodicity combo not supported for ${N9b}`;Y5J+=+"2";}if(c3f.z5J(Y5J.toString(),Y5J.toString().length,17232) !== A5J){H01.error=`Selected lookback/periodicity combo not supported for ${N9b}`;}}if(H01.error){return;}if(H01.inputs[h0z]){h01.Studies.initAnchorHandle(U01,H01);}else {h01.Studies.removeAnchorHandle(U01,H01);}K9b=B01?B01.getNormalOpen():"00:00";if(K9b.match(/^[\d]{2}:[\d]{2}$/)){K9b+=A0z;}if(!U01.currentlyImporting && K9b !== H01.defaultAnchorTime){H01.defaultAnchorTime=K9b;H01.inputs["Anchor Time"]=K9b;h01.Studies.repositionAnchor(U01,H01);return;}var {"Lookback Days":I9b, "Anchor Time":W1b}=H01.inputs;c3f.h0T(21);var [E1b,r1b,U6b = Y2WW.a0T(1,"0")]=W1b.split(+"5065" <= 8316?7040 === (5700,"5794" >> 1731198496)?"b":":":631.56);q6b=h01.Market.Symbology.isForexSymbol(K1b);function z1b(v1b){c3f.E6f();console.error(`Expected data for ${Z1b(v1b).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}A1b=H01.getDependents(U01);l9b=0;i9b=[];function g1b(o1b,J1b,F1b){while(J1b){o1b=new Date(new Date(o1b).setDate(o1b.getDate() + (F1b?1:-("1" ^ 0))));if(B01.isMarketDate(o1b)){J1b--;}}c3f.E6f();return o1b;}A1b.forEach(({inputs:k1b, outputMap:Y1b})=>{if(k1b.Period){l9b=Math.max(parseInt(k1b.Period),l9b);i9b.push(...Object.keys(Y1b));}});H01.dependentsOutputMap=i9b;function x1b(t1b){var e1b;t1b.setHours(0);c3f.F6f();t1b.setMinutes(0);e1b=h01.Studies.getMarketOffset({stx:U01,localQuoteDate:t1b});return new Date(t1b.getTime() + e1b);}P9b=k9b(s01.length - 1,! !"1");a1b=Math.ceil(s01.length - +"1" - b1b);c3f.F0T(2);i01=k9b(c3f.H0T(l9b,a1b));if(q6b && s01[i01] && h01.dateToStr(s01[i01].DT,Y0z) !== K9b){c3f.h0T(2);i01=k9b(c3f.a0T(1,i01));;}if(!q6b && H01.startFrom > i01 && s01[i01] && s01[i01]["V " + H01.name] !== undefined && i9b.every(I1b=>{return ![undefined,null].includes(s01[i01][I1b]);}) && P9b !== !"1"){l01=P9b;;}else {l01=i01;}L6b=g1b(Z1b(i01),I9b);L6b.setHours(+"0",0,0);m6b=k9b(0,! ![]);C1b=(m6b || m6b === +"0") && M1b(g1b(s01[m6b].DT,I9b,! !1));if(s01[0].DT > L6b){if(U01.quoteDriver){U01.quoteDriver.extendHistoricalData({from:L6b});if(C1b > 0){l01=C1b;}else {return;}}else {return H01.error=`Not enough data to calculate ${N9b}`;}}if(l01 < 0 || l01 > s01.length - +"1"){return;}G6b=s01.length - H01.startFrom === "1" - 0 && H01.cachedFutureTicks && H01.cachedLastProjection && +H01.cachedLastProjection.DT === +s01[s01.length - 1].DT && s01[l01][o0z + H01.name];if(G6b){s01[s01.length - 1]["PV " + H01.name]=H01.cachedLastProjection.projectedValue;H01.appendFutureTicks(U01,H01.cachedFutureTicks);l01=H01.startFrom;}else {X0z="P";X0z+="V";X0z+=" ";H01.cachedFutureTicks=null;H01.cachedLastProjection=null;Q9b=[P9b];M6b=[];for(var f1b=0;f1b < I9b;f1b++){c1b=k9b(Q9b[+"0"] - ("1" | 1));Q9b.unshift(c1b);;}while(Q9b[I9b] >= l01){A9b=Q9b.pop();if(!s01[A9b]){return z1b(A9b);}y1b=y9b(s01[A9b].DT);var {hours:S9b, minutes:d9b}=y1b;w9b=B01.getClose(s01[A9b].DT);P01=void 0;if(!w9b){P01={hours:24,minutes:0};}else {O9b=B01.getNextClose(s01[A9b].DT);P01=y9b(w9b);while(!(P01.hours === 0 && P01.minutes === 0) && w9b.getDate() === O9b.getDate()){w9b=O9b;O9b=B01.getNextClose(O9b);}P01=y9b(w9b);if(P01.hours === ("0" ^ 0)){P01.hours=24;}}q01=Q9b.slice();for(var v9b=0;v9b < q01.length;v9b++){E9b=q01[v9b];if(!s01[E9b]){return z1b(E9b);}var {hours:j9b, minutes:Z6b}=y9b(s01[E9b].DT);if(j9b < S9b || j9b === S9b && Z6b < d9b){do {E9b++;({hours:j9b, minutes:Z6b}=y9b(s01[E9b].DT));}while(!(j9b === S9b && Z6b === d9b));}q01[v9b]=E9b;}while(S9b < P01.hours || S9b === P01.hours && d9b < P01.minutes){L1b=!{};N1b=void 0;Q1b=void +"0";V1b=0;b6b=0;for(var g9b="0" ^ 0;g9b < q01.length;g9b++){a6b=q01[g9b];if(a6b === null)continue;D9b=s01[a6b];if(!D9b){return z1b(a6b);}var {hours:d1b, minutes:u1b}=y9b(D9b.DT);h1b=D9b.DT.getDate();if(d1b === S9b && u1b === d9b){V1b+=D9b.Volume;b6b++;q01[g9b]++;if(s01[q01[g9b]].DT.getDate() !== h1b){q01[g9b]=null;}else if(!L1b){({hours:N1b, minutes:Q1b}=y9b(s01[q01[g9b]].DT));L1b=! ![];;}}}S9b=N1b;d9b=Q1b;if(b6b === 0)break;c3f.h0T(8);m1b=c3f.a0T(V1b,b6b);if(s01[A9b]){s01[A9b]["PV " + H01.name]=m1b;}else {T0z="P";T0z+="V";T0z+=" ";M6b.push({[T0z + H01.name]:m1b});}A9b++;}Q9b.unshift(k9b(Q9b[0] - 1));;}H01.cachedLastProjection={DT:s01[s01.length - 1].DT,projectedValue:s01[s01.length - 1][X0z + H01.name]};H01.cachedFutureTicks=M6b;H01.appendFutureTicks(U01,M6b);}r9b=null;c9b=0;s9b=0;function y9b(n1b){return {hours:n1b.getHours(),minutes:n1b.getMinutes()};}if(G6b && t6b){while(l01 > 0){c3f.h0T(71);h6b=s01[c3f.H0T(l01,2147483647,"1")]["V " + H01.name];if(h6b || h6b === 0){c9b=h6b;break;}l01--;}}for(var p9b=l01;p9b < s01.length;p9b++){W0z="V";W0z+=" ";M0z="Ameri";M0z+="ca/New_York";R01=s01[p9b];S1b=R01.Volume;T1b=R01["PV " + H01.name];if(!R01.futureTick){w1b=p9b;}if(r9b === null){r9b=h01.Studies.getMarketOffset({stx:U01,localQuoteDate:s01[p9b].DT,shiftToDateBoundary:! ![]});}Y6b=new Date(new Date(R01.DT).getTime() + r9b);G1b=s01[p9b - +"1"] && new Date(new Date(s01[p9b - 1].DT).getTime() + r9b);x9b=new x01.Date(R01.DT,B01.market_def.market_tz || M0z);x9b.setHours(E1b,r1b,U6b);c3f.h0T(0);x9b=new Date(c3f.H0T(x9b,r9b));x9b.setDate(Y6b.getDate());if(G1b && Y6b.getDate() !== G1b.getDate()){r9b=null;c9b=0;s9b=0;}if(Y6b < x9b){R01["V " + H01.name]=0;R01["PV " + H01.name]=0;continue;}if(t6b){c9b+=S1b;s9b+=T1b;}else {c9b=S1b;s9b=T1b;}R01[W0z + H01.name]=c9b;if(!G6b){R01["PV " + H01.name]=s9b;}if([NaN,null,undefined].includes(c9b) && !R01.futureTick){H01.error=`${N9b} requires volume`;return;}}function k9b(U1b,l1b){var H1b,s1b,D1b;H1b=Z1b(U1b);s1b=B01.getOpen(H1b) || x1b(H1b);D1b=M1b(s1b);if(!l1b){return D1b;}if(D1b < "0" - 0){D1b=M1b(g1b(s1b,1,! !1));}if(D1b >= s01.length){return ! !"";}return D1b;}H01.cachedLastProjection.projectedValue=s01[w1b]["PV " + H01.name];H01.outputMap={};H01.outputMap[l0z + H01.name]="";H01.outputMap["PV " + H01.name]="Average Line";A1b.forEach(O1b=>{O1b.startFrom=l01;c3f.F6f();O1b.study.calculateFN(U01,O1b);});};h01.Studies.displayProjectedVolume=function(P1b,i1b,R1b){var w0z,B0z,F0z,A3b,q1b,C3b,f3b,L3b,Q3b,V3b;w0z="stx";w0z+="_volume_underlay_down";B0z="stx_vo";B0z+="lume_u";B0z+="nderlay_up";F0z="o";F0z+="bje";F0z+="c";F0z+="t";if(i1b.error){return h01.Studies.removeAnchorHandle(P1b,i1b);}var {"Alert Threshold":B1b = ""}=i1b.inputs;A3b=parseInt(B1b.slice(0,-1),+"10") / 100;q1b=i1b.outputs["Alert Bar"];if(typeof q1b === F0z){q1b=q1b.color;}i1b.volumeField="V " + i1b.name;i1b.plotStepLine=! !1;i1b.alignStepToSide=! !1;i1b.extendToEndOfLastBar=! !1;i1b.lineWidth=2;C3b=P1b.canvasStyle(B0z).opacity;f3b=P1b.canvasStyle(w0z).opacity;i1b.colorFunction=function(S3b){var H2f=Y2WW;var d0z,p3b,m3b,K3b,T3b,G3b,z3b;d0z="V";d0z+=" ";var {Open:g3b, Close:M3b, iqPrevClose:Z3b}=S3b;p3b=P1b.colorByCandleDirection?g3b:Z3b;H2f.F0T(72);m3b=H2f.a0T(p3b,M3b);K3b=S3b["PV " + i1b.name];T3b=S3b[d0z + i1b.name];H2f.F0T(73);G3b=H2f.H0T(A3b,K3b,1);z3b=A3b < +"0"?T3b < G3b:T3b > G3b;return {fill_color:z3b && q1b || (m3b?this.fill_color_down:this.fill_color_up),border_color:m3b?this.border_color_down:this.border_color_up,opacity:z3b?1:m3b?f3b:C3b,border_opacity:m3b?f3b:C3b};};L3b=i1b.study?i1b.study.name:i1b.type;var {loadingMore:N3b}=P1b.chart;Q3b=R1b.some(b3b=>{Y2WW.F6f();return b3b && b3b[i1b.volumeField] && b3b["PV " + i1b.name];});V3b=R1b[0] && !R1b[0].futureTick && (R1b[0]["PV " + i1b.name] === undefined || (i1b.dependentsOutputMap || []).some(W3b=>{Y2WW.E6f();return [undefined,null].includes(R1b[0][W3b]);}));if(!Q3b && N3b){return i1b.error=`Fetching data for ${L3b}`;}h01.Studies.createVolumeChart(P1b,i1b,R1b);h01.Studies.displaySeriesAsLine(P1b,i1b,R1b);if(i1b.anchorHandle){h01.Studies.displayAnchorHandleAndLine(P1b,i1b,R1b);}if(V3b){h01.Studies.calculateProjectedVolume(P1b,i1b);}};h01.Studies.studyLibrary=h01.extend(h01.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,zoom:0},calculateFN:h01.Studies.calculateProjectedVolume,seriesFN:h01.Studies.displayProjectedVolume,initializeFN:h01.Studies.initProjectedVolume,removeFN:h01.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%",n0z,U0z,"+25%","None",v0z,"-50%","-75%","-100%",g0z,"-150%"],"Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Alert Bar":j9W,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:s9W,step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! !1,initialMarginTop:+"0",zoom:0},calculateFN:h01.Studies.calculateProjectedVolume,seriesFN:h01.Studies.displayProjectedVolume,initializeFN:h01.Studies.initProjectedVolume,removeFN:h01.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Up Volume":L9W,"Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};l9I=r3b=>{var E3b,x9W,e9W;E3b=typeof _CIQ !== "undefined"?_CIQ:r3b.CIQ;if(!E3b.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {x9W="0 to";x9W+=" 100";e9W="Psychologi";e9W+="cal Line";E3b.Studies.calculatePsychologicalLine=function(x3b,a3b){var y3b,d3b,h3b,u3b,w3b;y3b=a3b.chart.scrubbed;if(y3b.length < a3b.days + 1){a3b.error=! ![];return;}d3b=[];h3b=100 / a3b.days;u3b=0;for(var c3b=Math.max(a3b.startFrom - a3b.days,1);c3b < y3b.length;c3b++){if(y3b[c3b].futureTick)break;w3b=Number(y3b[c3b].Close > y3b[c3b - 1].Close);if(w3b){u3b+=h3b;}d3b.push(w3b);if(d3b.length > a3b.days){u3b-=d3b.shift() * h3b;}if(c3b < a3b.startFrom)continue;if(!isNaN(y3b[c3b].Close)){y3b[c3b]["Result " + a3b.name]=u3b;}}};E3b.Studies.studyLibrary=E3b.extend(E3b.Studies.studyLibrary,{PSY:{name:e9W,range:x9W,calculateFN:E3b.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};i9I=Y3b=>{var j0J,s0J,y0J,k3b;j0J=-176679437;Y2WW.E6f();s0J=1714777353;y0J=2;for(var L0J=1;Y2WW.z5J(L0J.toString(),L0J.toString().length,2230) !== j0J;L0J++){k3b=+_CIQ != ""?_CIQ:Y3b.CIQ;y0J+=2;}if(Y2WW.K5J(y0J.toString(),y0J.toString().length,47848) !== s0J){k3b=+_CIQ != ""?_CIQ:Y3b.CIQ;}k3b=typeof _CIQ !== "undefined"?_CIQ:Y3b.CIQ;if(!k3b.Studies){console.error("qstick feature requires first activating studies feature.");}else {k3b.Studies.calculateQStick=function(n3b,I3b){var O3b;O3b=I3b.chart.scrubbed;if(O3b.length < I3b.days + 1){I3b.error=!0;return;}for(var v3b=I3b.startFrom;v3b < O3b.length;v3b++){O3b[v3b]["_Close-Open " + I3b.name]=O3b[v3b].Close - O3b[v3b].Open;}k3b.Studies.MA(I3b.inputs["Moving Average Type"],I3b.days,"_Close-Open " + I3b.name,0,"Result",n3b,I3b);};k3b.Studies.studyLibrary=k3b.extend(k3b.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:k3b.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};P9I=J3b=>{var o3b,Y9W,K9W,N9W,H9W,G9W,V9W;o3b=typeof _CIQ !== "undefined"?_CIQ:J3b.CIQ;Y2WW.E6f();if(!o3b.Studies){console.error("rainbow feature requires first activating studies feature.");}else {Y9W="#FF";Y9W+="0000";K9W="Rainbow Oscillato";K9W+="r";N9W="#";N9W+="FF0";N9W+="0F";N9W+="F";H9W="#0";H9W+="07FFF";G9W="#00";G9W+="FFFF";V9W="#F";V9W+="F7F";V9W+="00";o3b.Studies.calculateRainbow=function(R3b,F3b){var a9W,J9W,j3b,e3b,i3b,P3b,s3b,U3b,l3b,I9W,D3b,H3b,R9W,O9W,i9W;Y2WW.F6f();a9W="Clo";a9W+="s";a9W+="e";J9W="f";J9W+="ie";J9W+="ld";j3b=F3b.chart.scrubbed;if(j3b.length < F3b.days + 1){F3b.error=! ![];return;}e3b=F3b.inputs.Field;function q3b(L4b,f4b){var A4b,C4b;Y2WW.E6f();A4b=Number.MAX_VALUE * -1;C4b=Number.MAX_VALUE;for(var B3b=f4b - L4b + 1;B3b <= f4b;B3b++){if(B3b < 0)continue;A4b=Math.max(A4b,j3b[B3b].Close);C4b=Math.min(C4b,j3b[B3b].Close);}return [C4b,A4b];}if(!e3b || e3b == J9W){e3b=a9W;}i3b=e3b;for(var t3b=1;t3b <= 10;t3b++){o3b.Studies.MA("simple",F3b.days,i3b,0,"SMA" + t3b,R3b,F3b);i3b="SMA" + t3b + " " + F3b.name;}for(var X3b=Math.max(F3b.startFrom,10);X3b < j3b.length;X3b++){if(!j3b[X3b])continue;if(j3b[X3b].futureTick)break;P3b=0;s3b=+"0";U3b=Number.MAX_VALUE * -1;l3b=Number.MAX_VALUE;for(t3b=1;t3b <= 10;t3b++){I9W="S";I9W+="M";I9W+="A";D3b=j3b[X3b][I9W + t3b + (2449 > 1630?8150 !== 1240?(473.15,641.62) >= 2230?0x1676:" ":(!1,"k"):0x14aa) + F3b.name];if(D3b || D3b === "0" << 315713248){P3b+=D3b;s3b++;U3b=Math.max(U3b,D3b);l3b=Math.min(l3b,D3b);}}if(F3b.name.indexOf("Osc") > -1){H3b=q3b(F3b.inputs["HHV/LLV Lookback"],X3b);if(s3b){R9W="O";R9W+="ver ";j3b[X3b][F3b.name + "_hist"]=100 * (j3b[X3b][e3b] - P3b / s3b) / Math.max(0.000001,H3b[1] - H3b[0]);j3b[X3b][R9W + F3b.name]=100 * (U3b - l3b) / Math.max(0.000001,H3b["1" & 2147483647] - H3b[0]);j3b[X3b]["Under " + F3b.name]=-j3b[X3b]["Over " + F3b.name];j3b[X3b]["Zero " + F3b.name]=0;}}}if(F3b.name.indexOf("Osc") > -1){O9W="Z";O9W+="e";O9W+="ro";O9W+=" ";i9W="U";i9W+="nd";i9W+="e";i9W+="r ";F3b.outputMap={};F3b.outputMap["Over " + F3b.name]="Positive Bar";F3b.outputMap[i9W + F3b.name]="Negative Bar";F3b.outputMap[O9W + F3b.name]="";F3b.outputMap[F3b.name + "_hist"]="";}};o3b.Studies.displayRainbowMA=function(V4b,Q4b,S4b){var m4b;m4b=V4b.panels[Q4b.panel];for(var N4b="10" | 8;N4b > 0;N4b--){o3b.Studies.displayIndividualSeriesAsLine(V4b,Q4b,m4b,"SMA" + N4b + " " + Q4b.name,S4b);}};o3b.Studies.displayRainbowOsc=function(G4b,T4b,y4b){var b9W,t9W,M4b,g4b,z4b,K4b,b4b,E4b,r4b,a4b,c4b,p4b,Z4b;b9W="Negative Ba";Y2WW.F6f();b9W+="r";t9W="O";t9W+="ve";t9W+="r";t9W+=" ";o3b.Studies.displaySeriesAsLine(G4b,T4b,y4b);M4b=G4b.panels[T4b.panel];g4b=T4b.getContext(G4b);z4b=T4b.getYAxis(G4b);G4b.startClip(T4b.panel);if(!T4b.highlight && G4b.highlightedDraggable){g4b.globalAlpha*=+"0.3";}K4b=G4b.pixelFromPrice(0,M4b,z4b);b4b=M4b.name != T4b.chart.name;E4b=o3b.Studies.determineColor(T4b.outputs["Positive Bar"]);g4b.strokeStyle=E4b;G4b.plotDataSegmentAsLine(t9W + T4b.name,M4b,{skipTransform:b4b,label:!{},yAxis:z4b});r4b=g4b.createLinearGradient(0,K4b,0,z4b.flipped?z4b.bottom:z4b.top);r4b.addColorStop(+"0",G4b.containerColor);r4b.addColorStop(1,E4b);o3b.prepareChannelFill(G4b,{skipTransform:b4b,color:r4b,opacity:!T4b.highlight && G4b.highlightedDraggable?0.3:"1" >> 794874240,panelName:T4b.panel,topBand:"Over " + T4b.name,bottomBand:"Zero " + T4b.name,yAxis:z4b});a4b=o3b.Studies.determineColor(T4b.outputs[b9W]);g4b.strokeStyle=a4b;G4b.plotDataSegmentAsLine("Under " + T4b.name,M4b,{skipTransform:b4b,label:! !"",yAxis:z4b});c4b=g4b.createLinearGradient(0,K4b,+"0",z4b.flipped?z4b.top:z4b.bottom);c4b.addColorStop(0,G4b.containerColor);c4b.addColorStop(1,a4b);o3b.prepareChannelFill(G4b,{skipTransform:b4b,color:c4b,opacity:!T4b.highlight && G4b.highlightedDraggable?+"0.3":1,panelName:T4b.panel,topBand:"Zero " + T4b.name,bottomBand:"Under " + T4b.name,yAxis:z4b});p4b=G4b.layout.candleWidth - +"2";if(p4b < 2){p4b=1;}G4b.canvasColor("stx_histogram");if(!T4b.underlay){g4b.globalAlpha=1;}if(!T4b.highlight && G4b.highlightedDraggable){g4b.globalAlpha*=0.3;}g4b.fillStyle="#CCCCCC";for(var W4b=0;W4b < y4b.length;W4b++){Z4b=y4b[W4b];if(!Z4b)continue;if(Z4b[T4b.name + "_hist"] > 0){g4b.fillStyle=E4b;}else if(Z4b[T4b.name + "_hist"] < 0){g4b.fillStyle=a4b;}if(Z4b.candleWidth){p4b=Math.floor(Math.max(1,Z4b.candleWidth - 2));}g4b.fillRect(Math.floor(G4b.pixelFromBar(W4b,M4b.chart) - p4b / 2),Math.floor(K4b),Math.floor(p4b),Math.floor(G4b.pixelFromPrice(Z4b[T4b.name + "_hist"],M4b,z4b) - K4b));}G4b.endClip();};o3b.Studies.studyLibrary=o3b.extend(o3b.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!"",calculateFN:o3b.Studies.calculateRainbow,seriesFN:o3b.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:V9W,SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:G9W,SMA7:H9W,SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:N9W}},"Rainbow Osc":{name:K9W,calculateFN:o3b.Studies.calculateRainbow,seriesFN:o3b.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":Y9W}}});}};R9I=u4b=>{var d4b,d9W,W9W,M9W;d4b=typeof _CIQ !== "undefined"?_CIQ:u4b.CIQ;if(!d4b.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {d9W="#00";d9W+="0";d9W+="0";d9W+="FF";W9W="#FF000";W9W+="0";M9W="Rand";M9W+="om Walk Inde";M9W+="x";d4b.Studies.calculateRandomWalk=function(j4b,k4b){var w4b,v4b,n4b,o4b,Y4b,I4b,O4b,J4b,F4b;w4b=k4b.chart.scrubbed;if(w4b.length < k4b.days + 1){k4b.error=! ![];return;}for(var h4b=Math.max(2,k4b.startFrom);h4b < w4b.length;h4b++){v4b=0;n4b=w4b[h4b].High;o4b=w4b[h4b].Low;Y2WW.F0T(19);Y4b=Y2WW.a0T(0,"0");I4b=0;for(var x4b="1" & 2147483647;x4b <= k4b.days;x4b++){if(w4b[h4b].futureTick)break;if(h4b <= x4b){Y4b=I4b=0;break;}v4b+=w4b[h4b - x4b].trueRange;O4b=v4b / x4b * Math.sqrt(x4b);if(O4b){J4b=(n4b - w4b[h4b - x4b].Low) / O4b;F4b=(w4b[h4b - x4b].High - o4b) / O4b;Y4b=Math.max(Y4b,J4b);I4b=Math.max(I4b,F4b);}}if(!w4b[h4b].futureTick && (!isNaN(n4b) || !isNaN(o4b))){w4b[h4b]["Random Walk High " + k4b.name]=Y4b;w4b[h4b]["Random Walk Low " + k4b.name]=I4b;}}};d4b.Studies.studyLibrary=d4b.extend(d4b.Studies.studyLibrary,{"Random Walk":{name:M9W,calculateFN:d4b.Studies.calculateRandomWalk,outputs:{"Random Walk High":W9W,"Random Walk Low":d9W}}});}};q9I=t4b=>{var X4b,n9W,C2W,y2W,s2W;X4b=typeof _CIQ !== "undefined"?_CIQ:t4b.CIQ;if(!X4b.Studies){n9W="relativeVigor feature requires first activat";n9W+="ing studies feature.";console.error(n9W);}else {C2W="#";C2W+="F";C2W+="F";C2W+="0000";y2W="#0";y2W+="0D";y2W+="D00";s2W="au";s2W+="t";s2W+="o";X4b.Studies.calculateRelativeVigor=function(R4b,e4b){var j2W,S2W,k2W,H4b,D4b,r2W,s4b,l4b,i4b,q4b,P4b,U4b,E2W;j2W="_";j2W+="h";j2W+="i";j2W+="st";S2W="tria";S2W+="ng";S2W+="ul";S2W+="ar";k2W="_Num";k2W+="e";k2W+="r";H4b=e4b.chart.scrubbed;if(H4b.length < e4b.days + 1){e4b.error=!"";return;}for(D4b=e4b.startFrom;D4b < H4b.length;D4b++){r2W="_C";r2W+="hang";r2W+="e ";s4b=H4b[D4b];if(!isNaN(s4b.Close) && !isNaN(s4b.Open)){s4b[r2W + e4b.name]=s4b.Close - s4b.Open;}if(!isNaN(s4b.High) && !isNaN(s4b.Low)){s4b["_Range " + e4b.name]=s4b.High - s4b.Low;}}X4b.Studies.MA("triangular",4,"_Change " + e4b.name,+"0",k2W,R4b,e4b);X4b.Studies.MA("triangular",4,"_Range " + e4b.name,0,"_Denom",R4b,e4b);l4b=[];i4b=[];for(D4b=Math.max(e4b.startFrom - e4b.days,0);D4b < H4b.length;D4b++){if(H4b[D4b].futureTick)break;if(H4b[D4b]["_Numer " + e4b.name] === null && H4b[D4b]["_Denom " + e4b.name] === null)continue;l4b.push(H4b[D4b]["_Numer " + e4b.name]);i4b.push(H4b[D4b]["_Denom " + e4b.name]);if(l4b.length > e4b.days){l4b.shift();i4b.shift();}q4b=0;P4b=0;for(U4b=0;U4b < l4b.length;U4b++){q4b+=l4b[U4b];}for(U4b=0;U4b < i4b.length;U4b++){P4b+=i4b[U4b];}if(P4b === 0){P4b=0.00000001;}if(D4b < e4b.startFrom)continue;Y2WW.F0T(8);H4b[D4b]["Rel Vig " + e4b.name]=Y2WW.a0T(q4b,P4b);}X4b.Studies.MA(S2W,4,"Rel Vig " + e4b.name,0,"RelVigSignal",R4b,e4b);for(D4b=e4b.startFrom;D4b < H4b.length;D4b++){E2W="Rel ";E2W+="V";E2W+="ig";E2W+=" ";H4b[D4b][e4b.name + "_hist"]=H4b[D4b][E2W + e4b.name] - H4b[D4b]["RelVigSignal " + e4b.name];}e4b.outputMap[e4b.name + j2W]="";};X4b.Studies.studyLibrary=X4b.extend(X4b.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:X4b.Studies.displayHistogramWithSeries,calculateFN:X4b.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":s2W,RelVigSignal:"#FF0000","Increasing Bar":y2W,"Decreasing Bar":C2W}}});}};B9I=A5b=>{var L2W,B4b,e2W;L2W="und";L2W+="e";L2W+="fined";B4b=typeof _CIQ !== L2W?_CIQ:A5b.CIQ;Y2WW.E6f();if(!B4b.Studies){console.error("rsi feature requires first activating studies feature.");}else {e2W="a";e2W+="u";e2W+="t";e2W+="o";B4b.Studies.calculateRSI=function(g5b,C5b){var f3f=Y2WW;var Z2W,S5b,f5b,V5b,m5b,T5b,G5b,L5b,N5b;function z5b(p5b,M5b){var Z5b;if(M5b === +"0"){return 100;}f3f.h0T(8);Z5b=f3f.a0T(p5b,M5b);f3f.F0T(74);return f3f.a0T(100,100,Z5b,1);}Z2W="RS";Z2W+="I";S5b=C5b.chart.scrubbed;f5b=C5b.inputs.Field;if(!f5b || f5b == "field"){f5b="Close";}if(S5b.length < C5b.days + 1){C5b.error=!0;return;}for(var Q5b=C5b.startFrom;Q5b < S5b.length;Q5b++){if(!Q5b)continue;V5b=S5b[Q5b];f3f.F0T(2);m5b=S5b[f3f.H0T(1,Q5b)];if(!V5b[f5b] && V5b[f5b] !== 0)continue;if(!m5b[f5b] && m5b[f5b] !== 0)continue;T5b=V5b[f5b] - m5b[f5b];G5b=Math.min(Q5b,C5b.days);L5b=m5b["_avgG " + C5b.name];if(!L5b){L5b=0;}f3f.F0T(8);L5b-=f3f.a0T(L5b,G5b);N5b=m5b["_avgL " + C5b.name];if(!N5b){f3f.F0T(19);N5b=f3f.a0T(0,"0");}f3f.F0T(8);N5b-=f3f.H0T(N5b,G5b);if(T5b > 0){f3f.F0T(8);L5b+=f3f.H0T(T5b,G5b);}else if(T5b <= 0){f3f.F0T(8);N5b-=f3f.a0T(T5b,G5b);}else continue;if(Q5b >= C5b.days){if((L5b || L5b !== 0) && (N5b || N5b !== 0)){V5b["RSI " + C5b.name]=z5b(L5b,N5b);}}V5b["_avgG " + C5b.name]=L5b;V5b["_avgL " + C5b.name]=N5b;}C5b.zoneOutput=Z2W;};B4b.Studies.studyLibrary=B4b.extend(B4b.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:B4b.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:e2W}}}});}};A6I=b5b=>{var K5b,R2W,I2W;K5b=typeof _CIQ !== "undefined"?_CIQ:b5b.CIQ;if(!K5b.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {R2W="e";R2W+="m";R2W+="a";I2W="0 to";I2W+=" 100";K5b.Studies.calculateSchaff=function(n5b,W5b){var J2W,x2W,c2W,a5b,y5b,O5b,d5b,u5b,v5b,h5b,w5b,p2W,m2W,c5b,x5b,k5b,Y5b,r5b,a2W,I5b,D2W;J2W="_";J2W+="M";J2W+="ACD1";x2W="Movi";x2W+="ng Average Ty";function o5b(e5b,t5b,D5b){var F5b,j5b,J5b;Y2WW.F6f();F5b=null;j5b=null;for(var X5b=t5b - e5b + 1;X5b <= t5b;X5b++){J5b=a5b[X5b][D5b + " " + W5b.name];if(!J5b)continue;F5b=F5b === null?J5b:Math.min(F5b,J5b);j5b=j5b === null?J5b:Math.max(j5b,J5b);}return [F5b,j5b];}x2W+="pe";c2W="C";c2W+="l";c2W+="ose";a5b=W5b.chart.scrubbed;y5b=W5b.days;O5b=Number(W5b.inputs["Short Cycle"]);d5b=Number(W5b.inputs["Long Cycle"]);if(a5b.length < Math.max(y5b,O5b,d5b) + 1){W5b.error=! !1;return;}u5b=W5b.inputs.Field;if(!u5b || u5b == "field"){u5b=c2W;}v5b=0.5;Y2WW.E6f();K5b.Studies.MA(W5b.inputs[x2W],O5b,u5b,0,J2W,n5b,W5b);K5b.Studies.MA(W5b.inputs["Moving Average Type"],d5b,u5b,"0" - 0,"_MACD2",n5b,W5b);h5b=0;w5b=0;for(var E5b=W5b.startFrom;E5b < a5b.length;E5b++){p2W="_";p2W+="MA";p2W+="CD";m2W="_M";m2W+="ACD2";m2W+=" ";c5b=a5b[E5b];if(E5b < d5b - +"1")continue;x5b=c5b["_MACD1 " + W5b.name];k5b=c5b[m2W + W5b.name];if(x5b || x5b === 0 || k5b || k5b === +"0"){Y2WW.h0T(2);c5b["_MACD " + W5b.name]=Y2WW.a0T(k5b,x5b);}Y5b=c5b["_MACD " + W5b.name];if(E5b < d5b + (y5b - +"1"))continue;r5b=o5b(y5b,E5b,p2W);h5b=r5b[1] > r5b["0" - 0]?("100" & 2147483647) * (Y5b - r5b[0]) / (r5b[1] - r5b[0]):h5b;if(Y5b || Y5b === 0){a2W="_";a2W+="PF ";c5b["_PF " + W5b.name]=a5b[E5b - 1]["_PF " + W5b.name]?a5b[E5b - 1]["_PF " + W5b.name] + v5b * (h5b - a5b[E5b - ("1" | 1)][a2W + W5b.name]):h5b;}I5b=c5b["_PF " + W5b.name];if(E5b < d5b + 2 * (y5b - "1" * 1))continue;r5b=o5b(y5b,E5b,"_PF");w5b=r5b[1] > r5b["0" << 936516160]?100 * (I5b - r5b[0]) / (r5b[1] - r5b[0]):w5b;if(I5b || I5b === 0){D2W="Resu";D2W+="lt ";c5b["Result " + W5b.name]=a5b[E5b - 1]["Result " + W5b.name]?a5b[E5b - 1][D2W + W5b.name] + v5b * (w5b - a5b[E5b - 1]["Result " + W5b.name]):w5b;}}};K5b.Studies.studyLibrary=K5b.extend(K5b.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:I2W,calculateFN:K5b.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":R2W},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:"25" - 0,studyOverSoldColor:"auto"}}}});}};C6I=s5b=>{var I6f=Y2WW;var u8J,i8J,O8J,H5b,Q2W,u2W;I6f.h0T(19);u8J=-I6f.H0T(404453440,"450623956");i8J=-886395870;O8J=2;for(var f8J=1;I6f.K5J(f8J.toString(),f8J.toString().length,87608) !== u8J;f8J++){H5b=~_CIQ === ""?_CIQ:s5b.CIQ;O8J+=2;}if(I6f.z5J(O8J.toString(),O8J.toString().length,82934) !== i8J){H5b=~_CIQ === ""?_CIQ:s5b.CIQ;}H5b=typeof _CIQ !== "undefined"?_CIQ:s5b.CIQ;if(!H5b.Studies){Q2W="shinohara feature ";Q2W+="requires first activating studies fe";Q2W+="atu";Q2W+="re.";console.error(Q2W);}else {u2W="#E99B";u2W+="54";H5b.Studies.calculateShinohara=function(R5b,i5b){var l5b,P5b;l5b=i5b.chart.scrubbed;if(l5b.length < i5b.days + 1){i5b.error=! !"1";return;}P5b={weakNum:0,weakDen:0,strongNum:0,strongDen:0};I6f.F6f();if(i5b.startFrom > 1){P5b=H5b.clone(l5b[i5b.startFrom - 1]["_accums " + i5b.name]);}for(var U5b=i5b.startFrom;U5b < l5b.length;U5b++){P5b.weakNum+=l5b[U5b].High - l5b[U5b].Close;P5b.weakDen+=l5b[U5b].Close - l5b[U5b].Low;if(U5b > 0){P5b.strongNum+=l5b[U5b].High - l5b[U5b - 1].Close;P5b.strongDen+=l5b[U5b - +"1"].Close - l5b[U5b].Low;}if(U5b >= i5b.days){P5b.weakNum-=l5b[U5b - i5b.days].High - l5b[U5b - i5b.days].Close;P5b.weakDen-=l5b[U5b - i5b.days].Close - l5b[U5b - i5b.days].Low;l5b[U5b]["Weak Ratio " + i5b.name]=100 * P5b.weakNum / P5b.weakDen;if(U5b > i5b.days){P5b.strongNum-=l5b[U5b - i5b.days].High - l5b[U5b - i5b.days - 1].Close;P5b.strongDen-=l5b[U5b - i5b.days - 1].Close - l5b[U5b - i5b.days].Low;l5b[U5b]["Strong Ratio " + i5b.name]=100 * P5b.strongNum / P5b.strongDen;}}l5b[U5b]["_accums " + i5b.name]=H5b.clone(P5b);}};H5b.Studies.studyLibrary=H5b.extend(H5b.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:H5b.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":u2W,"Weak Ratio":"#5F7CB8"}}});}};f6I=B5b=>{var q5b,i2W,M2W,X2W,T2W,o2W,Y2W;q5b=typeof _CIQ !== "undefined"?_CIQ:B5b.CIQ;Y2WW.E6f();if(!q5b.Studies){i2W="stochastics feature requires first activ";i2W+="ating s";i2W+="tudies feature.";console.error(i2W);}else {M2W="au";M2W+="t";M2W+="o";X2W="a";X2W+="uto";T2W="#FF0";T2W+="000";o2W="a";o2W+="u";o2W+="t";o2W+="o";Y2W="e";Y2W+="ma";q5b.Studies.calculateStochastics=function(m7b,A7b){var V2W,b2W,L7b,C7b,f7b,Q7b,V7b,T7b;V2W="sim";V2W+="ple";b2W="%";b2W+="K";Y2WW.E6f();if(!A7b.smooth){A7b.smooth=A7b.inputs.Smooth;}L7b=A7b.inputs.Field;if(!L7b || L7b == "field"){L7b="Close";}C7b=A7b.inputs["%K Periods"];if(!C7b){C7b=A7b.days;}f7b=A7b.chart.scrubbed;if(f7b.length < Math.max(C7b,A7b.days) + 1){A7b.error=! !"1";return;}Q7b=A7b.inputs["%K Smoothing Periods"];if(Q7b){A7b.smooth=!0;}else if(A7b.smooth){Q7b=3;}V7b=A7b.inputs["%D Periods"];if(!V7b){V7b=3;}A7b.outputMap={};A7b.outputMap["%K " + A7b.name]="Fast";A7b.outputMap["%D " + A7b.name]="Slow";function S7b(K7b,g7b,E7b){var b7b,z7b,G7b,f2W,t2W,O2W,Z7b,p7b,W7b;Y2WW.F0T(1);Y2WW.E6f();b7b=Y2WW.a0T(1,E7b,K7b);z7b=Number.MAX_VALUE * -1;G7b=Number.MAX_VALUE;for(var M7b=b7b;M7b <= K7b;M7b++){f2W="H";f2W+="i";f2W+="g";f2W+="h";t2W="L";t2W+="o";t2W+="w";O2W="Cl";O2W+="o";O2W+="se";Z7b=f7b[M7b][g7b == O2W?t2W:g7b];p7b=f7b[M7b][g7b == "Close"?f2W:g7b];if(!Z7b && Z7b !== 0)continue;if(!p7b && p7b !== 0)continue;G7b=Math.min(G7b,Z7b);z7b=Math.max(z7b,p7b);}if(z7b == Number.MAX_VALUE * -1 || G7b == Number.MAX_VALUE){return null;}W7b=z7b == G7b?+"0":(f7b[K7b][g7b] - G7b) / (z7b - G7b) * ("100" << 1023755360);return W7b;}for(var N7b=Math.max(C7b,A7b.startFrom);N7b < f7b.length;N7b++){T7b=S7b(N7b,L7b,C7b);if(T7b !== null){f7b[N7b][A7b.name]=S7b(N7b,L7b,C7b);}}q5b.Studies.MA("simple",A7b.smooth?Q7b:1,A7b.name,0,b2W,m7b,A7b);q5b.Studies.MA(V2W,V7b,"%K " + A7b.name,+"0","%D",m7b,A7b);};q5b.Studies.calculateStochMomentum=function(y7b,r7b){var A2W,K2W,z2W,N2W,q2W,H2W,P2W,G2W,d7b,h7b,w7b,k7b,a7b,c7b,x7b,u7b,h2W;A2W="%";A2W+="D";K2W="_";K2W+="DH";function Y7b(o7b,n7b){var O7b,v7b;Y2WW.F6f();O7b=null;v7b=null;for(var I7b=n7b - o7b + 1;I7b <= n7b;I7b++){O7b=O7b === null?a7b[I7b].Low:Math.min(O7b,a7b[I7b].Low);v7b=v7b === null?a7b[I7b].High:Math.max(v7b,a7b[I7b].High);}return [O7b,v7b];}K2W+="L";K2W+="2";z2W="_";z2W+="DHL1";N2W="_HS";N2W+="1 ";q2W="_";q2W+="H";q2W+="S1";H2W="_";H2W+="H";H2W+=" ";P2W="%K Double Smoo";P2W+="thing ";P2W+="Periods";G2W="%K Peri";G2W+="od";G2W+="s";d7b=Number(r7b.inputs[G2W]);h7b=Number(r7b.inputs["%K Smoothing Periods"]);w7b=Number(r7b.inputs[P2W]);k7b=Number(r7b.inputs["%D Periods"]);a7b=r7b.chart.scrubbed;if(a7b.length < d7b + h7b + w7b - +"1" || a7b.length < k7b){r7b.error=! !1;return;}for(c7b=Math.max(d7b,r7b.startFrom) - 1;c7b < a7b.length;c7b++){x7b=a7b[c7b];u7b=Y7b(d7b,c7b);x7b["_H " + r7b.name]=x7b.Close - (u7b[0] + u7b["1" >> 1454486368]) / 2;x7b["_DHL " + r7b.name]=u7b["1" & 2147483647] - u7b[0];}q5b.Studies.MA("exponential",h7b,H2W + r7b.name,0,q2W,y7b,r7b);q5b.Studies.MA("exponential",w7b,N2W + r7b.name,0,"_HS2",y7b,r7b);q5b.Studies.MA("exponential",h7b,"_DHL " + r7b.name,0,z2W,y7b,r7b);q5b.Studies.MA("exponential",w7b,"_DHL1 " + r7b.name,0,K2W,y7b,r7b);for(c7b=d7b - 1;c7b < a7b.length;c7b++){h2W="_";h2W+="HS";h2W+="2 ";a7b[c7b]["%K " + r7b.name]=a7b[c7b][h2W + r7b.name] / (0.5 * a7b[c7b]["_DHL2 " + r7b.name]) * 100;}q5b.Studies.MA(r7b.inputs["%D Moving Average Type"],k7b,"%K " + r7b.name,"0" >> 949596928,A2W,y7b,r7b);r7b.zoneOutput="%K";};q5b.Studies.studyLibrary=q5b.extend(q5b.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:q5b.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":Y2W},outputs:{"%K":o2W,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:q5b.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! ![]},outputs:{Fast:"auto",Slow:T2W},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:X2W,studyOverSoldValue:20,studyOverSoldColor:M2W}}}});}};L6I=F7b=>{var W2W,J7b,s7W,j7W;W2W="u";W2W+="ndef";W2W+="ined";Y2WW.E6f();J7b=typeof _CIQ !== W2W?_CIQ:F7b.CIQ;if(!J7b.Studies){console.error("supertrend feature requires first activating studies feature.");}else {s7W="#b";s7W+="82c";s7W+="0c";j7W="Supe";j7W+="rtr";j7W+="end";J7b.Studies.calculateSupertrend=function(l7b,j7b){var Z3f=Y2WW;var t7b,v2W,l2W,e7b,s7b,U7b,D7b,H7b,w2W,B2W,F2W,U2W,n2W,d2W;t7b=j7b.chart.scrubbed;if(t7b.length < j7b.days + 1){j7b.error=! ![];return;}J7b.Studies.calculateStudyATR(l7b,j7b);for(var X7b=j7b.startFrom;X7b < t7b.length;X7b++){v2W="_Direction";v2W+=" ";l2W="A";l2W+="T";l2W+="R";l2W+=" ";e7b=t7b[X7b];if(!e7b)continue;s7b=(e7b.High + e7b.Low) / ("2" * 1);U7b=j7b.inputs.Multiplier * e7b[l2W + j7b.name];Z3f.h0T(2);D7b=Z3f.a0T(U7b,s7b);Z3f.F0T(0);H7b=Z3f.H0T(s7b,U7b);if(X7b){w2W="_Downtr";w2W+="end ";B2W="_";B2W+="Do";B2W+="wntrend ";F2W="_";F2W+="Up";F2W+="trend ";if(t7b[X7b - 1] && t7b[X7b - 1].Close && t7b[X7b - 1].Close > t7b[X7b - 1][F2W + j7b.name] && t7b[X7b - 1]["_Uptrend " + j7b.name] > D7b){Z3f.h0T(33);D7b=t7b[Z3f.H0T(X7b,"1")]["_Uptrend " + j7b.name];}if(t7b[X7b - 1] && t7b[X7b - 1].Close && t7b[X7b - 1].Close < t7b[X7b - ("1" ^ 0)][B2W + j7b.name] && t7b[X7b - 1]["_Downtrend " + j7b.name] < H7b){Z3f.h0T(2);H7b=t7b[Z3f.H0T(1,X7b)][w2W + j7b.name];}}e7b["_Direction " + j7b.name]=1;if(X7b){U2W="_";U2W+="Upt";U2W+="ren";U2W+="d ";n2W="_Downtre";n2W+="nd ";d2W="_Dire";d2W+="ct";d2W+="ion";d2W+=" ";Z3f.h0T(2);e7b["_Direction " + j7b.name]=t7b[Z3f.H0T(1,X7b)][d2W + j7b.name];if(e7b.Close > t7b[X7b - 1][n2W + j7b.name]){e7b["_Direction " + j7b.name]=1;}else if(e7b.Close < t7b[X7b - 1][U2W + j7b.name]){e7b["_Direction " + j7b.name]=-1;}}e7b["_Uptrend " + j7b.name]=D7b;e7b["_Downtrend " + j7b.name]=H7b;e7b["Trend " + j7b.name]=e7b[v2W + j7b.name] > 0?D7b:H7b;if(!X7b)continue;}j7b.outputMap={};Z3f.F6f();j7b.outputMap["Trend " + j7b.name]="";};J7b.Studies.displaySupertrend=function(P7b,i7b,B7b){var g2W,A2b,R7b,C2b,z2b,V2b,f2b,L2b,q7b,S7W,k7W,r7W,S2b,E7W,T2b;g2W="T";g2W+="r";g2W+="en";g2W+="d ";A2b=P7b.panels[i7b.panel];R7b=i7b.getContext(P7b);function G2b(M2b,g2b,Z2b){if(g2b && g2b["_Direction " + i7b.name] < 0){return i7b.outputs.Downtrend;}return i7b.outputs.Uptrend;}C2b=i7b.getYAxis(P7b);z2b={skipTransform:A2b.name != i7b.chart.name,skipProjections:! ![],label:P7b.preferences.labels,yAxis:C2b,highlight:i7b.highlight};R7b.strokeStyle=G2b(P7b,B7b[B7b.length - 1]);R7b.lineWidth=2;if(i7b.highlight){R7b.lineWidth=1.5;}V2b=g2W + i7b.name;for(var m2b="0" & 2147483647;A2b.chart.transformFunc && C2b != A2b.chart.yAxis && m2b < B7b.length;m2b++){f2b=B7b[m2b];if(f2b && f2b.transform){f2b.transform[V2b]=A2b.chart.transformFunc(P7b,A2b.chart,f2b[V2b]);}}P7b.plotDataSegmentAsLine(V2b,A2b,z2b,G2b);R7b.lineWidth=1;Y2WW.h0T(13);R7b.globalAlpha=Y2WW.H0T("1",1396088800);P7b.startClip(i7b.panel);if(!i7b.highlight && P7b.highlightedDraggable){R7b.globalAlpha*=0.3;}L2b=R7b.measureText((418.98,"5200" ^ 0) < 335.97?(9.71e+3,8.45e+3):"\u25B2").width / 2;for(q7b=0;q7b < B7b.length;q7b++){S7W="_Dire";S7W+="ctio";S7W+="n";S7W+=" ";k7W="_";k7W+="Directi";k7W+="o";k7W+="n ";r7W="_Directio";r7W+="n ";if(!B7b[q7b] || !B7b[q7b - 1])continue;if(B7b[q7b - +"1"][r7W + i7b.name] > B7b[q7b]["_Direction " + i7b.name]){R7b.fillStyle=i7b.outputs.Downtrend;R7b.textBaseline="bottom";S2b=P7b.pixelFromPrice(B7b[q7b].High,A2b,C2b);for(var N2b=5;N2b <= 45;N2b+=10){if(C2b.flipped){R7b.fillText((9531,+"4428") <= 1843?3.28e+3:("729.26" * 1,"220.55" - 0) < (3704,3116)?"\u25B2":"573" - 0,P7b.pixelFromBar(q7b) - L2b,S2b + N2b);}else {R7b.fillText(9810 == (9162,"411.36" - 0)?(4.68e+3,0x2244):"866.79" * 1 === (3358,+"878")?(2.73e+3,"x"):"\u25BC",P7b.pixelFromBar(q7b) - L2b,S2b - N2b);}}}else if(B7b[q7b - 1][k7W + i7b.name] < B7b[q7b][S7W + i7b.name]){E7W="t";E7W+="o";E7W+="p";R7b.fillStyle=i7b.outputs.Uptrend;R7b.textBaseline=E7W;T2b=P7b.pixelFromPrice(B7b[q7b].Low,A2b,C2b);for(var Q2b=5;Q2b <= 45;Q2b+=10){if(C2b.flipped){R7b.fillText(+"1720" === (3530,2670)?!{}:"\u25BC",P7b.pixelFromBar(q7b) - L2b,T2b - Q2b);}else {R7b.fillText(3110 !== 1288?("5013" * 1,5561) > (6863,4490)?"\u25B2":7140 >= "490.13" * 1?309.18:(0x1c4c,8.85e+3):"n",P7b.pixelFromBar(q7b) - L2b,T2b + Q2b);}}}}P7b.endClip();};J7b.Studies.studyLibrary=J7b.extend(J7b.Studies.studyLibrary,{Supertrend:{name:j7W,overlay:!0,seriesFN:J7b.Studies.displaySupertrend,calculateFN:J7b.Studies.calculateSupertrend,inputs:{Period:"7" >> 1226574944,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:s7W},attributes:{Multiplier:{min:+"0.1",step:"0.1" - 0}}}});}};N6I=K2b=>{var p2b,L7W;Y2WW.F6f();p2b=typeof _CIQ !== "undefined"?_CIQ:K2b.CIQ;if(!p2b.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {L7W="Accumulative Sw";L7W+="ing Ind";L7W+="ex";p2b.Studies.calculateSwingIndex=function(Y2b,E2b){var x3f=Y2WW;var y7W,r2b,b2b,a2b,C7W,y2b,d2b,x2b,k2b,h2b,u2b,c2b,w2b;y7W="R";y7W+="esu";y7W+="lt";y7W+=" ";r2b=E2b.inputs["Limit Move Value"];x3f.E6f();if(r2b === null || isNaN(r2b)){r2b=99999;}b2b=E2b.chart.scrubbed;x3f.F0T(27);a2b=x3f.H0T("0",2143886336);if(E2b.startFrom > +"1"){a2b=b2b[E2b.startFrom - 1][y7W + E2b.name];}for(var W2b=Math.max(1,E2b.startFrom);W2b < b2b.length;W2b++){C7W="Sw";C7W+="in";C7W+="g";y2b=Math.abs(b2b[W2b].High - b2b[W2b - 1].Close);d2b=Math.abs(b2b[W2b].Low - b2b[W2b - +"1"].Close);x2b=Math.abs(b2b[W2b].High - b2b[W2b].Low);k2b=Math.abs(b2b[W2b - 1].Close - b2b[W2b - 1].Open);h2b=Math.max(y2b,d2b);u2b=Math.max(x2b,h2b);x3f.F0T(10);c2b=x3f.a0T(u2b,0.25,k2b);if(u2b == y2b){x3f.h0T(21);c2b-=x3f.a0T(d2b,0.5);}else if(u2b == d2b){x3f.F0T(21);c2b-=x3f.a0T(y2b,0.5);}w2b=50 * (b2b[W2b].Close - b2b[W2b - +"1"].Close + 0.5 * (b2b[W2b].Close - b2b[W2b].Open) + +"0.25" * (b2b[W2b - 1].Close - b2b[W2b - 1].Open)) / c2b * (h2b / r2b);if(c2b === 0 || r2b === +"0"){w2b=0;}if(E2b.type == C7W){a2b=0;}a2b+=w2b;b2b[W2b]["Result " + E2b.name]=a2b;}};p2b.Studies.studyLibrary=p2b.extend(p2b.Studies.studyLibrary,{"Acc Swing":{name:L7W,calculateFN:p2b.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:p2b.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};Q6I=O2b=>{var I2b,Z7W,a7W,p7W;I2b=typeof _CIQ !== "undefined"?_CIQ:O2b.CIQ;if(!I2b.Studies){Z7W="trendIntensity feature requir";Z7W+="es first activating studies feature.";console.error(Z7W);}else {a7W="a";a7W+="ut";a7W+="o";p7W="0";p7W+=" ";p7W+="t";p7W+="o 100";I2b.Studies.calculateTrendIntensity=function(D2b,v2b){var B3f=Y2WW;var m7W,J7W,c7W,e7W,J2b,F2b,j2b,X2b,n2b,o2b,t2b,e2b,x7W;m7W="Si";B3f.E6f();m7W+="g";m7W+="n";m7W+="al";J7W="S";J7W+="ignal Peri";J7W+="o";J7W+="d";c7W="_SM";function H2b(U2b,s2b){if(Math.abs(s2b) < 0.00000001){return 100;}B3f.h0T(66);return B3f.a0T(s2b,1,100,100,U2b);}c7W+="A";e7W="m";e7W+="a";J2b=v2b.chart.scrubbed;if(J2b.length < v2b.days + 1){v2b.error=! ![];return;}F2b=v2b.inputs.Field;if(!F2b || F2b == "field"){F2b="Close";}I2b.Studies.MA(e7W,v2b.days,F2b,0,c7W,D2b,v2b);j2b=0;X2b=0;t2b=[];e2b=Math.ceil(v2b.days / ("2" >> 1538586400));for(n2b=Math.max(0,v2b.startFrom - e2b);n2b < J2b.length;n2b++){x7W="_";x7W+="S";x7W+="MA";x7W+=" ";if(!J2b[n2b]["_SMA " + v2b.name] && J2b[n2b]["_SMA " + v2b.name] !== 0)continue;o2b=J2b[n2b][F2b] - J2b[n2b][x7W + v2b.name];if(o2b < 0){B3f.h0T(75);X2b+=B3f.H0T(o2b,1);}else {j2b+=o2b;}t2b.push(o2b);if(t2b.length > e2b){o2b=t2b.shift();if(o2b < +"0"){B3f.h0T(75);X2b-=B3f.a0T(o2b,1);}else {j2b-=o2b;}}if(n2b < v2b.startFrom)continue;J2b[n2b]["TII " + v2b.name]=H2b(j2b,X2b);}I2b.Studies.MA("ema",v2b.inputs[J7W],"TII " + v2b.name,+"0",m7W,D2b,v2b);};I2b.Studies.studyLibrary=I2b.extend(I2b.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:I2b.Studies.calculateTrendIntensity,range:p7W,inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:a7W,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};V6I=i2b=>{var k4J,S4J,E4J,l2b;k4J=1863720641;S4J=367482106;E4J=+"2";for(var s4J=1;Y2WW.K5J(s4J.toString(),s4J.toString().length,51768) !== k4J;s4J++){l2b=typeof _CIQ !== "undefined"?_CIQ:i2b.CIQ;E4J+=2;}if(Y2WW.z5J(E4J.toString(),E4J.toString().length,40486) !== S4J){l2b=~_CIQ != ""?_CIQ:i2b.CIQ;}if(!l2b.Studies){console.error("trix feature requires first activating studies feature.");}else {l2b.Studies.calculateTRIX=function(Q8b,P2b){var N3f=Y2WW;var D7W,R2b,B2b,C8b,I7W,L8b,N8b,f8b;D7W="C";D7W+="lose";R2b=P2b.chart.scrubbed;if(R2b.length < P2b.days + 1){P2b.error=!0;return;}B2b=P2b.name;N3f.F0T(0);C8b=[D7W,N3f.H0T("_MA1 ",B2b),N3f.a0T("_MA2 ",B2b),N3f.H0T("_MA3 ",B2b)];for(var A8b=+"0";A8b < C8b.length - 1;A8b++){I7W="_";I7W+="M";I7W+="A";l2b.Studies.MA("exponential",P2b.days,C8b[A8b],0,I7W + (A8b + 1).toString(),Q8b,P2b);}N3f.h0T(2);L8b=C8b[N3f.a0T(0,"3")];for(var q2b=Math.max(1,P2b.startFrom);q2b < R2b.length;q2b++){N3f.h0T(71);N8b=R2b[N3f.a0T(q2b,2147483647,"1")][L8b];if(!N8b)continue;f8b=R2b[q2b][L8b];if(f8b || f8b === 0){N3f.F0T(0);R2b[q2b][N3f.H0T("Result ",B2b)]=N3f.H0T(1,f8b,N8b,100,N3f.F0T(67));}}};l2b.Studies.studyLibrary=l2b.extend(l2b.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:l2b.Studies.calculateTRIX}});}};m6I=m8b=>{var V8b;V8b=typeof _CIQ !== "undefined"?_CIQ:m8b.CIQ;Y2WW.E6f();if(!V8b.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {V8b.Studies.calculateTwiggsMoneyFlow=function(K8b,S8b){var G8b,g8b,z8b,M8b,R7W,i7W,u7W,Z8b,p8b,Q7W;G8b=S8b.chart.scrubbed;Y2WW.E6f();if(G8b.length < S8b.days){S8b.error=! !1;return;}g8b=0;z8b=0;M8b=G8b[S8b.startFrom - 1];if(M8b){R7W="_s";R7W+="um";R7W+="MF ";if(M8b["_sumMF " + S8b.name]){g8b=M8b[R7W + S8b.name];}if(M8b["_sumV " + S8b.name]){z8b=M8b["_sumV " + S8b.name];}}for(var T8b=Math.max(1,S8b.startFrom);T8b < G8b.length;T8b++){i7W="_s";i7W+="umV ";u7W="_sumM";u7W+="F ";Z8b=Math.max(G8b[T8b - 1].Close,G8b[T8b].High);p8b=Math.min(G8b[T8b - 1].Close,G8b[T8b].Low);G8b[T8b]["_MFV " + S8b.name]=G8b[T8b].Volume * (2 * G8b[T8b].Close - Z8b - p8b) / (Z8b - p8b === +"0"?"999999" << 994359296:Z8b - p8b);if(T8b > S8b.days - 1){g8b*=(S8b.days - 1) / S8b.days;z8b*=(S8b.days - 1) / S8b.days;}g8b+=G8b[T8b]["_MFV " + S8b.name];z8b+=G8b[T8b].Volume;if(T8b > S8b.days - 1){Q7W="Re";Q7W+="s";Q7W+="ul";Q7W+="t ";if(z8b){Y2WW.F0T(8);G8b[T8b][Q7W + S8b.name]=Y2WW.a0T(g8b,z8b > 0?z8b:999999);}}G8b[T8b][u7W + S8b.name]=g8b;G8b[T8b][i7W + S8b.name]=z8b;}};V8b.Studies.studyLibrary=V8b.extend(V8b.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:V8b.Studies.calculateTwiggsMoneyFlow,inputs:{Period:"21" >> 497259488}}});}};S6I=W8b=>{var O7W,b8b,X5J,M5J,W5J;O7W="und";O7W+="efi";O7W+="ne";O7W+="d";Y2WW.E6f();b8b=typeof _CIQ !== O7W?_CIQ:W8b.CIQ;if(!b8b.Studies){X5J=-932883517;M5J=-623939745;W5J=2;for(var F5J=1;Y2WW.z5J(F5J.toString(),F5J.toString().length,"76873" ^ 0) !== X5J;F5J++){console.error("");W5J+=2;}if(Y2WW.K5J(W5J.toString(),W5J.toString().length,36942) !== M5J){console.error("");}console.error("typicalPrice feature requires first activating studies feature.");}else if(!b8b.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {b8b.Studies.studyLibrary=b8b.extend(b8b.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:b8b.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:b8b.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};T6I=r8b=>{var E8b;E8b=typeof _CIQ !== "undefined"?_CIQ:r8b.CIQ;Y2WW.E6f();if(!E8b.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {E8b.Studies.calculateUlcerIndex=function(h8b,a8b){var b7W,f7W,y8b,d8b,c8b,t7W,u8b;b7W="_";b7W+="M";b7W+="A";f7W="_PD";f7W+="2 ";y8b=a8b.chart.scrubbed;function w8b(O8b,Y8b,I8b){var k8b;k8b=null;for(var x8b=Y8b - O8b + 1;x8b <= Y8b;x8b++){if(x8b < 0)continue;k8b=k8b === null?y8b[x8b][I8b]:Math.max(k8b,y8b[x8b][I8b]);}Y2WW.E6f();return k8b;}if(y8b.length < 2 * a8b.days - ("1" & 2147483647)){a8b.error=!0;return;}d8b=a8b.inputs.Field;if(!d8b || d8b == "field"){d8b="Close";}for(c8b=Math.max(a8b.startFrom,a8b.days - +"1");c8b < y8b.length;c8b++){t7W="_P";t7W+="D2";t7W+=" ";y8b[c8b][t7W + a8b.name]=Math.pow(("100" & 2147483647) * (y8b[c8b][d8b] / w8b(a8b.days,c8b,d8b) - 1),2);}E8b.Studies.MA("simple",a8b.days,f7W + a8b.name,+"0",b7W,h8b,a8b);for(c8b=Math.max(a8b.startFrom,+"2" * (a8b.days - +"1"));c8b < y8b.length;c8b++){u8b=y8b[c8b]["_MA " + a8b.name];if(u8b || u8b === 0){y8b[c8b]["Result " + a8b.name]=Math.sqrt(u8b);}}};E8b.Studies.studyLibrary=E8b.extend(E8b.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:E8b.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};G6I=n8b=>{var v8b,G7W;v8b=typeof _CIQ !== "undefined"?_CIQ:n8b.CIQ;if(!v8b.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {G7W="a";G7W+="u";G7W+="t";G7W+="o";v8b.Studies.calculateUltimateOscillator=function(f0b,J8b){var H3f=Y2WW;var o8b,j8b,D8b,H8b,s8b,U8b,t8b,e8b,V7W,l8b,P8b,R8b,i8b,q8b,B8b,A0b,C0b;o8b=J8b.chart.scrubbed;j8b=[J8b.inputs["Cycle 1"],J8b.inputs["Cycle 2"],J8b.inputs["Cycle 3"]];D8b=Math.max(j8b[0],j8b[1],j8b[2]);if(o8b.length < D8b + 1){J8b.error=!0;return;}H8b=j8b[0] * j8b[1];s8b=j8b[0] * j8b[2];U8b=j8b[1] * j8b[+"2"];t8b=[0,0,0];H3f.F0T(2);e8b=[0,H3f.H0T(0,"0"),0];if(J8b.startFrom){if(o8b[J8b.startFrom - 1]["_accbp " + J8b.name]){t8b=o8b[J8b.startFrom - +"1"]["_accbp " + J8b.name].slice();}if(o8b[J8b.startFrom - 1]["_acctr " + J8b.name]){e8b=o8b[J8b.startFrom - 1]["_acctr " + J8b.name].slice();}}for(var F8b=Math.max(1,J8b.startFrom);F8b < o8b.length;F8b++){V7W="_ac";V7W+="cb";V7W+="p ";l8b=Math.min(o8b[F8b].Low,o8b[F8b - 1].Close);P8b=o8b[F8b].Close - l8b;R8b=Math.max(o8b[F8b].High,o8b[F8b - 1].Close) - l8b;for(var X8b=+"0";X8b < j8b.length;X8b++){t8b[X8b]+=P8b;e8b[X8b]+=R8b;if(F8b > j8b[X8b]){i8b=Math.min(o8b[F8b - j8b[X8b]].Low,o8b[F8b - j8b[X8b] - 1].Close);q8b=o8b[F8b - j8b[X8b]].Close - i8b;B8b=Math.max(o8b[F8b - j8b[X8b]].High,o8b[F8b - j8b[X8b] - 1].Close) - i8b;t8b[X8b]-=q8b;e8b[X8b]-=B8b;}}o8b[F8b][V7W + J8b.name]=t8b.slice();o8b[F8b]["_acctr " + J8b.name]=e8b.slice();if(F8b < D8b)continue;A0b=U8b * t8b["0" ^ 0] / e8b["0" - 0] + s8b * t8b[1] / e8b["1" - 0] + H8b * t8b[2] / e8b[2];H3f.h0T(47);C0b=H3f.H0T(H8b,s8b,U8b);H3f.F0T(60);o8b[F8b]["Result " + J8b.name]=H3f.H0T(A0b,C0b,100);}};v8b.Studies.studyLibrary=v8b.extend(v8b.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:v8b.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"70",studyOverBoughtColor:G7W,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};z6I=N0b=>{var L0b,P7W,W7W,M7W,X7W;L0b=typeof _CIQ !== "undefined"?_CIQ:N0b.CIQ;if(!L0b.Studies){P7W="valuationLines feature requires first ac";P7W+="tivati";P7W+="ng studies featur";P7W+="e.";console.error(P7W);}else {W7W="#0";W7W+="0a";W7W+="fed";M7W="med";M7W+="ia";M7W+="n";X7W="Valuation Li";X7W+="nes";L0b.Studies.calculateValuationLines=function(z0b,Q0b,M0b){var t3f=Y2WW;var N7W,q7W,H7W,W0b,a0b,E0b,Z0b,p0b,K0b,b0b,V0b,m0b,S0b,G0b,g0b,r0b;N7W="Aver";N7W+="age ";N7W+="Type";q7W="Clos";q7W+="e";H7W="fie";H7W+="l";H7W+="d";W0b=Q0b.inputs.Field == H7W?q7W:Q0b.inputs.Field;a0b=Q0b.inputs[N7W];E0b=Q0b.inputs["Display Average"];Z0b=Q0b.inputs["Display 1 Standard Deviation (1\u03C3)"];p0b=Q0b.inputs["Display 2 Standard Deviation (2\u03C3)"];K0b=Q0b.inputs["Display 3 Standard Deviation (3\u03C3)"];b0b=[];for(var T0b=0;T0b < M0b.length;++T0b){if(M0b[T0b] && !isNaN(M0b[T0b][W0b])){b0b.push(M0b[T0b][W0b]);}}V0b=(function(h0b,k0b){var c0b,d0b,u0b,y0b,w0b,x0b;c0b=h0b.length;d0b=0;u0b=0;t3f.E6f();y0b=0;switch(k0b){case "mean":u0b=c0b;for(;y0b < c0b;++y0b){d0b+=h0b[y0b];}break;case "harmonic":d0b=c0b;for(;y0b < c0b;++y0b){u0b+=1 / h0b[y0b];}break;case "median":t3f.F0T(8);w0b=Math.floor(t3f.a0T(c0b,2));x0b=h0b.slice().sort(function(Y0b,I0b){if(Y0b > I0b){return 1;}if(Y0b < I0b){return -1;}t3f.F6f();return +"0";});if(c0b % 2 === 0){d0b=x0b[w0b] + x0b[w0b - 1];u0b=+"2";}else {d0b=x0b[w0b];u0b=1;}break;}t3f.h0T(8);return t3f.a0T(d0b,u0b);})(b0b,a0b);m0b=!(Z0b || p0b || K0b) || (function(o0b,J0b){var v0b,n0b;v0b=o0b.length;n0b=0;for(var O0b=+"0";O0b < v0b;++O0b){n0b+=Math.pow(o0b[O0b] - J0b,"2" << 2018873792);}t3f.h0T(8);return Math.sqrt(t3f.H0T(n0b,v0b));})(b0b,V0b);t3f.E6f();Q0b.data={Average:E0b?[V0b]:null,"1 Standard Deviation (1\u03C3)":Z0b?[V0b + m0b,V0b - m0b]:null,"2 Standard Deviation (2\u03C3)":p0b?[V0b + m0b * 2,V0b - m0b * 2]:null,"3 Standard Deviation (3\u03C3)":K0b?[V0b + m0b * 3,V0b - m0b * +"3"]:null};S0b=m0b;if(!Q0b.parameters){Q0b.parameters={};}if(K0b){t3f.h0T(76);Q0b.parameters.range=[t3f.H0T(m0b,S0b,3,V0b),t3f.a0T(V0b,S0b,m0b,3,t3f.F0T(77))];}else if(p0b){t3f.F0T(78);Q0b.parameters.range=[t3f.H0T(0,"2",m0b,V0b,S0b),t3f.H0T(V0b,S0b,m0b,2,t3f.F0T(77))];}else if(Z0b){t3f.F0T(57);Q0b.parameters.range=[t3f.H0T(m0b,S0b,V0b),t3f.a0T(S0b,m0b,V0b,t3f.h0T(47))];}else if(E0b){t3f.F0T(2);Q0b.parameters.range=[t3f.H0T(S0b,V0b),t3f.H0T(V0b,S0b,t3f.h0T(0))];}if(Q0b.panel){G0b=z0b.panels[Q0b.panel];g0b=z0b.getYAxisByName(G0b,Q0b.name);if(g0b){g0b.decimalPlaces=G0b.chart.yAxis.printDecimalPlaces;r0b={yAxis:g0b};z0b.calculateYAxisRange(G0b,g0b,Q0b.parameters.range[0],Q0b.parameters.range[1]);z0b.createYAxis(G0b,r0b);z0b.drawYAxis(G0b,r0b);}}};L0b.Studies.displayValuationLines=function(j0b,t0b){var z3f=Y2WW;var h7W,K7W,z7W,F0b,e0b,H0b,l0b,Q9T,V9T,m9T,s0b,U0b,i0b,q0b,B0b,A9T,C9T,P0b,R0b,X0b,f9T,S9T,L9T,T7W,o7W,Y7W,A7W,N9T;h7W="ciq-valuation-devi";h7W+="ation-line";z3f.E6f();K7W="ciq-va";K7W+="luation-avera";K7W+="ge-line";z7W="H";z7W+="A";z7W+="V";z7W+="G";F0b=j0b.panels[t0b.panel];e0b=t0b.getYAxis(j0b);H0b=t0b.getContext(j0b);l0b=t0b.data;Q9T=t0b.parameters.labels;V9T=t0b.inputs["Average Type"];m9T={mean:"AVG",median:"MED",harmonic:z7W};s0b=j0b.canvasStyle(K7W);U0b=j0b.canvasStyle(h7W);i0b=3;q0b=j0b.getCanvasFontSize("stx_yaxis") + i0b * +"2";for(var D0b in l0b){if(!l0b[D0b])continue;z3f.F0T(79);B0b=z3f.H0T("Average",D0b);A9T=L0b.Studies.determineColor(t0b.outputs[D0b]);C9T=l0b[D0b];for(P0b=0;P0b < C9T.length;++P0b){T7W=":";T7W+=" ";o7W="l";o7W+="ine";Y7W="d";Y7W+="ash";Y7W+="ed";A7W="n";A7W+="on";A7W+="e";R0b=C9T[P0b];X0b=j0b.pixelFromPrice(R0b,F0b,e0b);if(X0b <= F0b.top || X0b >= F0b.yAxis.bottom)continue;L9T=B0b?{pattern:s0b.borderStyle != "none"?s0b.borderStyle || "solid":"solid",lineWidth:parseFloat(s0b.borderWidth) || +"1",opacity:parseFloat(s0b.opacity) || 1,yAxis:e0b}:{pattern:U0b.borderStyle != A7W?U0b.borderStyle || "dashed":Y7W,lineWidth:parseFloat(U0b.borderWidth) || 1,opacity:parseFloat(U0b.opacity) || +"1",yAxis:e0b};j0b.plotLine(F0b.left,F0b.right,X0b,X0b,A9T,o7W,H0b,F0b,L9T);if(Q9T === "yaxis"){j0b.createYAxisLabel(F0b,j0b.formatYAxisPrice(R0b,F0b),X0b,A9T,null,H0b,e0b);continue;}X0b+=Math.floor(L9T.lineWidth / 2);if(X0b + q0b >= F0b.yAxis.bottom)continue;f9T=(B0b?m9T[V9T] + T7W:D0b[0] + "\u03C3: ") + j0b.formatYAxisPrice(R0b,F0b);S9T=H0b.measureText(f9T).width;N9T=F0b.right - S9T - i0b;if(e0b && e0b.position == "left"){N9T=F0b.left + i0b;}z3f.F0T(80);H0b.strokeText(f9T,N9T,z3f.H0T(q0b,X0b,2,0.5));}}};L0b.Studies.studyLibrary=L0b.extend(L0b.Studies.studyLibrary,{"val lines":{name:X7W,calculateFN:function(){},seriesFN:function(T9T,G9T,z9T){L0b.Studies.calculateValuationLines(T9T,G9T,z9T);L0b.Studies.displayValuationLines(T9T,G9T);},overlay:! !1,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean",M7W,"harmonic"],"Display Average":!"","Display 1 Standard Deviation (1\u03C3)":!1,"Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":!1},outputs:{Average:W7W,"1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};g6I=M9T=>{var g9T,l7W,k5W,r5W;g9T=typeof _CIQ !== "undefined"?_CIQ:M9T.CIQ;if(!g9T.Studies){l7W="volatil";l7W+="ityIndex feature";l7W+=" requires first activating studies feature";l7W+=".";console.error(l7W);}else {k5W="a";k5W+="u";k5W+="t";k5W+="o";r5W="Relative Volatili";r5W+="ty";g9T.Studies.calculateRelativeVolatility=function(y9T,Z9T){var B7W,F7W,c9T,E9T,p9T,b9T,W9T,U7W,n7W,d7W,K9T,a9T,w7W;B7W="s";B7W+="d";B7W+="e";B7W+="v";F7W="f";F7W+="iel";F7W+="d";Y2WW.F6f();Z9T.days=Number(Z9T.inputs["Smoothing Period"]);c9T=Number(Z9T.inputs["STD Period"]);E9T=Z9T.chart.scrubbed;if(E9T.length < Z9T.days + c9T){Z9T.error=! !{};return;}p9T=Z9T.inputs.Field;if(!p9T || p9T == F7W){p9T="Close";}Z9T.std=new g9T.Studies.StudyDescriptor(Z9T.name,B7W,Z9T.panel);Z9T.std.chart=Z9T.chart;Z9T.std.days=c9T;Z9T.std.startFrom=Z9T.startFrom;Z9T.std.inputs={Field:p9T,"Standard Deviations":1,Type:"ma"};Z9T.std.outputs={_STD:null};g9T.Studies.calculateStandardDeviation(y9T,Z9T.std);b9T=0;W9T=0;if(Z9T.startFrom > 1){b9T=E9T[Z9T.startFrom - "1" * 1]["_avgG " + Z9T.name] || 0;W9T=E9T[Z9T.startFrom - 1]["_avgL " + Z9T.name] || "0" ^ 0;}for(var r9T=Math.max(Z9T.startFrom,Z9T.days);r9T < E9T.length;r9T++){U7W="_";U7W+="a";U7W+="vg";U7W+="L ";n7W="_av";n7W+="gG ";d7W="R";d7W+="el Vol ";K9T=E9T[r9T];Y2WW.F0T(33);a9T=E9T[Y2WW.a0T(r9T,"1")];if(!K9T[p9T] && K9T[p9T] !== "0" * 1)continue;if(!a9T[p9T] && a9T[p9T] !== 0)continue;if(!K9T["_STD " + Z9T.name] && K9T["_STD " + Z9T.name] !== 0)continue;if(K9T[p9T] > a9T[p9T]){b9T=(b9T * (Z9T.days - ("1" - 0)) + K9T["_STD " + Z9T.name]) / Z9T.days;W9T=W9T * (Z9T.days - 1) / Z9T.days;}else {w7W="_";w7W+="S";w7W+="TD";w7W+=" ";W9T=(W9T * (Z9T.days - 1) + K9T[w7W + Z9T.name]) / Z9T.days;b9T=b9T * (Z9T.days - 1) / Z9T.days;}K9T[d7W + Z9T.name]=d9T(b9T,W9T);K9T[n7W + Z9T.name]=b9T;K9T[U7W + Z9T.name]=W9T;}function d9T(u9T,h9T){if(u9T + h9T === 0){return 100;}Y2WW.F0T(64);return Y2WW.a0T(u9T,u9T,"100",h9T);}Z9T.zoneOutput="Rel Vol";};g9T.Studies.calculateHistoricalVolatility=function(o9T,w9T){var i3f=Y2WW;var x9T,O9T,v9T,X9T,I9T,k9T,J9T,F9T,g7W,j9T;x9T=w9T.chart.scrubbed;function t9T(e9T){var v7W;v7W="mon";v7W+="th";if(isNaN(e9T)){e9T=365;}if(o9T.layout.interval == "day"){return e9T;}else if(o9T.layout.interval == "week"){return 52;}else if(o9T.layout.interval == v7W){return 12;}return e9T;}if(x9T.length < w9T.days + 1){w9T.error=! ![];return;}O9T=w9T.inputs.Field;if(!O9T || O9T == "field"){O9T="Close";}v9T=w9T.inputs["Standard Deviations"];if(v9T < 0){i3f.h0T(27);v9T=i3f.H0T("1",1235218848);}X9T=+"100" * Math.sqrt(t9T(w9T.inputs["Days Per Year"])) * v9T;I9T=[];k9T=0;if(w9T.startFrom > 1){k9T=x9T[w9T.startFrom - 1]["_state " + w9T.name][0];I9T=x9T[w9T.startFrom - 1]["_state " + w9T.name][1].slice();}i3f.F6f();for(var Y9T=Math.max(1,w9T.startFrom);Y9T < x9T.length;Y9T++){i3f.h0T(2);J9T=x9T[i3f.a0T(1,Y9T)][O9T];if(J9T){F9T=Math.log(x9T[Y9T][O9T] / J9T);I9T.push(F9T);k9T+=F9T;if(Y9T >= w9T.days){g7W="Re";g7W+="sul";g7W+="t ";j9T=0;k9T/=w9T.days;for(var n9T=0;n9T < I9T.length;n9T++){j9T+=Math.pow(I9T[n9T] - k9T,2);}k9T*=w9T.days;k9T-=I9T.shift();x9T[Y9T][g7W + w9T.name]=Math.sqrt(j9T / w9T.days) * X9T;}}x9T[Y9T]["_state " + w9T.name]=[k9T,I9T.slice()];}};g9T.Studies.studyLibrary=g9T.extend(g9T.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:g9T.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:r5W,range:"0 to 100",calculateFN:g9T.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:k5W}}}});}};M6I=H9T=>{var S5W,D9T,L5W;S5W="undef";S5W+="ine";S5W+="d";D9T=typeof _CIQ !== S5W?_CIQ:H9T.CIQ;if(!D9T.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {L5W="#";L5W+="b";L5W+="64";L5W+="a96";D9T.Studies.displayVolumeProfile=function(l9T,R9T,K6T){var C5W,s5W,j5W,P9T,B9T,f6T,Q6T,V6T,g6T,U9T,L6T,i9T,b6T,N6T,C6T,E5W,s9T,M6T,Z6T,T6T,G6T,q9T,W6T,p6T,E6T,z6T;function r6T(O6T,u6T){var m2f=Y2WW;m2f.E6f();var w6T,h6T,y6T,c6T,d6T,x6T,k6T,y5W,Y6T,I6T;if(!u6T){q9T-=2;}z6T.canvasColor(O6T);s9T.beginPath();m2f.F0T(13);w6T=U9T[0][m2f.a0T("0",1527343104)];h6T=q9T;for(var a6T=1;a6T < U9T.length;a6T++){if(U9T[a6T][1]){y6T=Math.round(q9T - U9T[a6T][1] * W6T / L6T) - +"0.5";c6T=Math.round(z6T.pixelFromTransformedValue(w6T,T6T)) + 0.5;d6T=Math.round(z6T.pixelFromTransformedValue(U9T[a6T][+"0"],T6T)) + 0.5;if(!u6T){c6T-=0.5;d6T+=0.5;y6T+=0.5;}if(c6T > G6T){c6T=G6T;}if(d6T < G6T){s9T.moveTo(q9T,c6T);s9T.lineTo(q9T,d6T);s9T.lineTo(y6T,d6T);s9T.lineTo(y6T,c6T);if(u6T){if(h6T > y6T || a6T == 1){s9T.lineTo(h6T,c6T);};}else {s9T.lineTo(q9T,c6T);if(V6T){x6T=D9T.condenseInt(U9T[a6T][1]);m2f.F0T(2);k6T=m2f.H0T(d6T,c6T);if(Z6T <= k6T - +"2"){y5W="t";y5W+="o";y5W+="p";try{Y6T=s9T.measureText(x6T).width;}catch(v6T){Y6T=0;}s9T.textBaseline=y5W;I6T=s9T.fillStyle;s9T.fillStyle=p6T;m2f.h0T(57);s9T.fillText(x6T,m2f.H0T(Y6T,3,y6T),m2f.a0T(0,Z6T,2,"2",d6T,k6T,m2f.F0T(81)));s9T.fillStyle=I6T;}}}}h6T=y6T;}else {h6T=q9T;;}w6T=U9T[a6T][0];}if(!R9T.highlight && l9T.highlightedDraggable){s9T.globalAlpha*=0.3;}if(!u6T){s9T.fill();}s9T.strokeStyle=p6T;if(u6T){s9T.stroke();}s9T.closePath();}C5W="stx_volum";C5W+="e_pr";C5W+="ofile";s5W="st";s5W+="x_v";s5W+="olume_profil";s5W+="e";j5W="stx_volum";j5W+="e_pr";j5W+="ofil";j5W+="e";if(!l9T || !l9T.chart.dataSet){return;}P9T=l9T.chart;B9T=R9T.parameters.numberOfBars;f6T=R9T.parameters.widthPercentage;Q6T=R9T.parameters.displayBorder;V6T=R9T.parameters.displayVolume;if(!B9T || B9T < 0){B9T=30;}B9T=Math.ceil(B9T);if(!f6T || f6T < +"0"){f6T=+"0.25";}if(Q6T !== ! !""){Q6T=! !{};}if(V6T !== ! ![]){V6T=!{};}g6T=(P9T.highValue - P9T.lowValue) / B9T;if(g6T === ("0" | 0)){return;}U9T=[];for(var m6T=P9T.lowValue;m6T < P9T.highValue + 0.1;m6T+=g6T){U9T.push([m6T,0]);}if(U9T.length < 2){l9T.displayErrorAsWatermark("chart",l9T.translateIf("Not enough data to render the Volume Profile"));return;}L6T=0;for(var S6T=0;S6T < K6T.length;S6T++){i9T=K6T[S6T];if(!i9T)continue;b6T=i9T.Volume;if(R9T.panel == P9T.name && i9T.transform){i9T=i9T.transform;}N6T=U9T[0][0];C6T=0;for(var A6T=1;A6T < U9T.length;A6T++){C6T=U9T[A6T][0];if(i9T.Low >= N6T && i9T.Low <= C6T || i9T.Low < N6T && i9T.High > C6T || i9T.High >= N6T && i9T.High <= C6T){U9T[A6T][1]+=b6T;if(U9T[A6T][1] > L6T){L6T=U9T[A6T][1];}}N6T=C6T;}}if(L6T === 0){E5W="ch";E5W+="ar";E5W+="t";l9T.displayErrorAsWatermark(E5W,l9T.translateIf("Not enough data to render the Volume Profile"));return;}l9T.setStyle(j5W,"color",D9T.Studies.determineColor(R9T.outputs["Bars Color"]));s9T=R9T.getContext(l9T);M6T="stx-float-date";l9T.canvasFont(M6T,s9T);Z6T=l9T.getCanvasFontSize(M6T);T6T=P9T.panel;G6T=T6T.yAxis.bottom;q9T=Math.round(P9T.right) - 0.5;W6T=P9T.width * f6T;p6T=l9T.canvasStyle("stx_volume_profile").borderTopColor;E6T=!D9T.isTransparent(l9T.canvasStyle(s5W).borderTopColor) && Q6T;z6T=l9T;r6T(C5W,!1);Y2WW.F6f();if(E6T){r6T("stx_volume_profile",!0);}s9T.globalAlpha=1;};D9T.Studies.studyLibrary=D9T.extend(D9T.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:D9T.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":L5W},customRemoval:! ![],parameters:{init:{displayBorder:! !1,displayVolume:!1,numberOfBars:"30" * 1,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !"1"},flippedEnabled:{hidden:! !1}}}});}};Z6I=o6T=>{var n6T,R5W,D5W,a5W,p5W,m5W;Y2WW.E6f();n6T=typeof _CIQ !== "undefined"?_CIQ:o6T.CIQ;if(!n6T.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {R5W="#";R5W+="8cc17";R5W+="6";D5W="m";D5W+="a";a5W="#";a5W+="FF0000";p5W="a";p5W+="u";p5W+="t";p5W+="o";m5W="f";m5W+="i";m5W+="eld";n6T.Studies.calculateOnBalanceVolume=function(l6T,j6T){var b3f=Y2WW;var Z5W,J6T,X6T,U6T,A8J,Y8J,o8J,e6T,D6T,t6T,H6T,s6T;Z5W="fi";Z5W+="eld";J6T=j6T.inputs.Field;if(!J6T || J6T == Z5W){J6T="Close";}X6T=j6T.inputs["Min Tick Value"];U6T=![];if(!X6T && X6T !== 0){U6T=! !{};A8J=-132288513;Y8J=-828087899;o8J=2;for(var X8J=1;b3f.K5J(X8J.toString(),X8J.toString().length,89010) !== A8J;X8J++){X6T=5;o8J+=2;}if(b3f.z5J(o8J.toString(),o8J.toString().length,25526) !== Y8J){X6T=6;}X6T=0;}e6T=j6T.chart.scrubbed;D6T=0;for(var F6T=j6T.startFrom;F6T < e6T.length;F6T++){t6T=e6T[F6T];if(!F6T || !t6T[J6T])continue;if(e6T[F6T - +"1"][J6T]){b3f.F0T(33);H6T=e6T[b3f.H0T(F6T,"1")];}if(!H6T)continue;if(t6T[J6T] - H6T[J6T] > X6T){D6T=1;}else if(H6T[J6T] - t6T[J6T] > X6T){b3f.F0T(13);D6T=-b3f.H0T("1",2058469920);}else if(U6T){D6T=0;}s6T=H6T["Result " + j6T.name];if(!s6T){s6T=0;}s6T+=t6T.Volume * D6T;t6T["Result " + j6T.name]=s6T;}};n6T.Studies.calculatePriceVolumeTrend=function(A3T,q6T){var w4J,d4J,n4J,R6T,i6T,B6T;w4J=-1371527375;d4J=2017407716;n4J=2;Y2WW.E6f();for(var v4J=1;Y2WW.K5J(v4J.toString(),v4J.toString().length,26874) !== w4J;v4J++){R6T=q6T.inputs.Field;if(!R6T || R6T == "field"){R6T="Close";}n4J+=+"2";}if(Y2WW.K5J(n4J.toString(),n4J.toString().length,86661) !== d4J){R6T=q6T.inputs.Field;if(~R6T && R6T === "Close"){R6T="Close";}}i6T=q6T.chart.scrubbed;B6T=0;if(q6T.startFrom > 1){B6T=i6T[q6T.startFrom - +"1"]["Result " + q6T.name];}for(var P6T=Math.max(1,q6T.startFrom);P6T < i6T.length;P6T++){if(!i6T[P6T][R6T])continue;if(!i6T[P6T - +"1"][R6T])continue;B6T+=i6T[P6T].Volume * (i6T[P6T][R6T] - i6T[P6T - 1][R6T]) / i6T[P6T - 1][R6T];i6T[P6T]["Result " + q6T.name]=B6T;}};n6T.Studies.calculateVolumeIndex=function(G3T,C3T){var u3f=Y2WW;var J5W,V3T,f3T,m3T,x5W,c5W,e5W,N3T,S3T,Q3T,T3T;J5W="Movin";J5W+="g Average Ty";J5W+="pe";V3T=C3T.inputs.Field;if(!V3T || V3T == "field"){V3T="Close";}f3T=C3T.chart.scrubbed;if(f3T.length < C3T.days + 1){C3T.error=! !"1";return;}m3T=100;if(C3T.startFrom > 1){m3T=f3T[C3T.startFrom - +"1"]["Index " + C3T.name];}for(var L3T=Math.max("1" - 0,C3T.startFrom);L3T < f3T.length;L3T++){x5W="N";x5W+="eg ";x5W+="Vol";c5W="Po";c5W+="s V";c5W+="o";c5W+="l";e5W="o";e5W+="bje";e5W+="c";e5W+="t";N3T=f3T[L3T][V3T];S3T=f3T[L3T].Volume;if(N3T && typeof N3T == "object"){S3T=N3T.Volume;N3T=N3T[C3T.subField];}u3f.F0T(11);Q3T=f3T[u3f.a0T(1,"1",L3T)][V3T];T3T=f3T[L3T - 1].Volume;if(Q3T && typeof Q3T == e5W){T3T=Q3T.Volume;Q3T=Q3T[C3T.subField];}if(!N3T)continue;if(!Q3T)continue;if(C3T.type == c5W && S3T > T3T || C3T.type == x5W && S3T < T3T){u3f.h0T(8);m3T*=u3f.H0T(N3T,Q3T);}f3T[L3T]["Index " + C3T.name]=m3T;}n6T.Studies.MA(C3T.inputs[J5W],C3T.days,"Index " + C3T.name,0,"MA",G3T,C3T);};n6T.Studies.studyLibrary=n6T.extend(n6T.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:n6T.Studies.calculateVolumeIndex,inputs:{Period:"255" - 0,Field:m5W,"Moving Average Type":"ma"},outputs:{Index:p5W,MA:a5W}},"On Bal Vol":{name:"On Balance Volume",calculateFN:n6T.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:n6T.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":D5W},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:n6T.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:n6T.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":+"0.5"}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(z3T,g3T){var I5W;Y2WW.F6f();if(n6T.Studies.calculateRateOfChange){n6T.Studies.calculateRateOfChange(z3T,g3T);}else {I5W="Vo";I5W+="lume Rate of Change study requires first activating ";I5W+="momentu";I5W+="m feature.";console.error(I5W);n6T.Studies.calculateRateOfChange=function(M3T,Z3T){};}},parameters:{init:{isVolume:! !{}}}},"vol undr":{name:"Volume Underlay",underlay:! !{},range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,position:"none",zoom:0,heightFactor:0.25},seriesFN:n6T.Studies.createVolumeChart,calculateFN:n6T.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":R5W,"Down Volume":"#b82c0c"},customRemoval:! !{},removeFN:function(p3T,K3T){p3T.layout.volumeUnderlay=!{};p3T.changeOccurred("layout");},attributes:{panelName:{hidden:!""}}}});}};p6I=W3T=>{var Q5W,b3T;Q5W="u";Q5W+="ndef";Q5W+="ined";b3T=typeof _CIQ !== Q5W?_CIQ:W3T.CIQ;Y2WW.E6f();if(!b3T.Studies){console.error("vortex feature requires first activating studies feature.");}else {b3T.Studies.calculateVortex=function(k3T,E3T){var L3f=Y2WW;var y3T,d3T,r3T,b5W,O5W,i5W,a3T,u3T,h3T,w3T,x3T,u5W,f5W,t5W;y3T=E3T.chart.scrubbed;d3T=E3T.days;if(y3T.length < d3T + 1){E3T.error=! !1;return;}r3T={tr:0,vmPlus:0,vmMinus:0};if(E3T.startFrom > +"1"){r3T=b3T.clone(y3T[E3T.startFrom - 1]["_totals " + E3T.name]);}for(var c3T=Math.max(E3T.startFrom,1);c3T < y3T.length;c3T++){b5W="_to";b5W+="t";b5W+="als";b5W+=" ";O5W="_VMM";O5W+="i";O5W+="nu";O5W+="s ";i5W="_VM";i5W+="Plus ";a3T=y3T[c3T];L3f.F0T(2);u3T=y3T[L3f.H0T(1,c3T)];h3T=Math.abs(a3T.High - u3T.Low);w3T=Math.abs(a3T.Low - u3T.High);x3T=Math.max(a3T.High,u3T.Close) - Math.min(a3T.Low,u3T.Close);r3T.tr+=x3T;r3T.vmPlus+=h3T;r3T.vmMinus+=w3T;if(c3T > d3T){u5W="_VMMinu";u5W+="s";u5W+=" ";L3f.h0T(2);r3T.tr-=y3T[L3f.a0T(d3T,c3T)]["_True Range " + E3T.name];L3f.F0T(2);r3T.vmPlus-=y3T[L3f.H0T(d3T,c3T)]["_VMPlus " + E3T.name];L3f.F0T(2);r3T.vmMinus-=y3T[L3f.H0T(d3T,c3T)][u5W + E3T.name];}a3T["_True Range " + E3T.name]=x3T;a3T[i5W + E3T.name]=h3T;a3T[O5W + E3T.name]=w3T;if(c3T >= d3T){f5W="-";f5W+="V";f5W+="I";f5W+=" ";t5W="+";t5W+="VI";t5W+=" ";a3T[t5W + E3T.name]=r3T.vmPlus / r3T.tr;a3T[f5W + E3T.name]=r3T.vmMinus / r3T.tr;}a3T[b5W + E3T.name]=b3T.clone(r3T);}};b3T.Studies.studyLibrary=b3T.extend(b3T.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:b3T.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:+"0.9",studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};K6I=I3T=>{var V5W,Y3T,P5W;V5W="undefi";V5W+="ned";Y3T=typeof _CIQ !== V5W?_CIQ:I3T.CIQ;if(!Y3T.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {P5W="0 ";P5W+="to";P5W+=" max";Y3T.Studies.calculateMFI=function(X3T,O3T){var v3T,F3T,o3T,J3T,j3T,n3T,G5W;v3T=O3T.chart.scrubbed;o3T=0;J3T=O3T.inputs["Scale Factor"];if(!J3T){J3T=O3T.study.inputs["Scale Factor"];}j3T=Math.pow(10,Number(J3T));Y2WW.F6f();if(O3T.startFrom > 1){o3T=v3T[O3T.startFrom - ("1" - 0)]["_high " + O3T.name];}for(n3T=O3T.startFrom;n3T < v3T.length;n3T++){if(!v3T[n3T])continue;if(v3T[n3T].Volume){G5W="_h";G5W+="is";G5W+="t";v3T[n3T][O3T.name + G5W]=F3T=j3T * (v3T[n3T].High - v3T[n3T].Low) / v3T[n3T].Volume;v3T[n3T]["_high " + O3T.name]=o3T=Math.max(o3T,F3T);}}O3T.outputMap={};O3T.outputMap[O3T.name + "_hist"]="";};Y3T.Studies.displayMFI=function(e3T,t3T,P3T){var h3f=Y2WW;var R3T,s3T,i3T,q3T,l3T,B3T,A4T,C4T,f4T,D3T,H3T;R3T=e3T.panels[t3T.panel];s3T=t3T.getContext(e3T);i3T=t3T.getYAxis(e3T);q3T=i3T.flipped?i3T.top:i3T.bottom;l3T=e3T.layout.candleWidth - ("2" >> 572789024);if(l3T < ("2" ^ 0)){h3f.h0T(2);l3T=h3f.H0T(0,"1");}B3T=Y3T.Studies.determineColor(t3T.outputs.Green);A4T=Y3T.Studies.determineColor(t3T.outputs.Fade);C4T=Y3T.Studies.determineColor(t3T.outputs.Fake);f4T=Y3T.Studies.determineColor(t3T.outputs.Squat);e3T.canvasColor("stx_histogram");if(!t3T.underlay){s3T.globalAlpha=1;}s3T.fillStyle="#CCCCCC";e3T.startClip(t3T.panel);if(!t3T.highlight && e3T.highlightedDraggable){s3T.globalAlpha*=0.3;}for(var U3T=0;U3T < P3T.length;U3T++){D3T=P3T[U3T];h3f.h0T(2);H3T=P3T[h3f.a0T(1,U3T)];if(!H3T){H3T=e3T.getPreviousBar(e3T.chart,t3T.name + "_hist",U3T);}if(!D3T)continue;if(!H3T);else if(H3T[t3T.name + "_hist"] < D3T[t3T.name + "_hist"]){if(H3T.Volume < D3T.Volume){s3T.fillStyle=B3T;}else if(H3T.Volume > D3T.Volume){s3T.fillStyle=C4T;}}else if(H3T[t3T.name + "_hist"] > D3T[t3T.name + "_hist"]){if(H3T.Volume < D3T.Volume){s3T.fillStyle=f4T;}else if(H3T.Volume > D3T.Volume){s3T.fillStyle=A4T;}}if(D3T.candleWidth){l3T=Math.floor(Math.max(+"1",D3T.candleWidth - ("2" << 1969931200)));}s3T.fillRect(Math.floor(e3T.pixelFromBar(U3T,R3T.chart) - l3T / 2),Math.floor(q3T),Math.floor(l3T),Math.floor(e3T.pixelFromPrice(D3T[t3T.name + "_hist"],R3T,i3T) - q3T));}e3T.endClip();};Y3T.Studies.studyLibrary=Y3T.extend(Y3T.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:Y3T.Studies.displayMFI,calculateFN:Y3T.Studies.calculateMFI,yAxis:{ground:! !"1"},range:P5W,inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}};a6I={CIQ:A9I,SplinePlotter:b6I,timezoneJS:W6I,$$:E6I,$$$:r6I};export {C9I as aggregations};export {f9I as drawingAdvanced};export {L9I as equationsAdvanced};export {N9I as highPerformanceMarkers};export {Q9I as renderersAdvanced};export {V9I as accumulationDistribution};export {m9I as adx};export {S9I as alligator};export {T9I as aroon};export {G9I as atr};export {z9I as awesomeOscillator};export {g9I as balanceOfPower};export {M9I as bollinger};export {Z9I as cci};export {p9I as centerOfGravity};export {K9I as chaikin};export {b9I as chande};export {W9I as choppiness};export {E9I as comparisonStudies};export {r9I as coppock};export {a9I as darvasBox};export {c9I as detrended};export {y9I as disparity};export {d9I as easeOfMovement};export {u9I as ehlerFisher};export {h9I as elder};export {w9I as fractalChaos};export {x9I as highLowStudies};export {k9I as ichimoku};export {Y9I as intradayMomentum};export {I9I as keltner};export {O9I as klinger};export {v9I as linearRegression};export {n9I as macd};export {o9I as massIndex};export {J9I as moneyFlow};export {F9I as movingAverages};export {j9I as parabolicSAR};export {X9I as pivotPoints};export {t9I as prettyGoodOscillator};export {e9I as priceMomentumOscillator};export {D9I as priceVolumeOscillator};export {H9I as primeNumber};export {s9I as pring};export {U9I as projectedVolume};export {l9I as psychologicalLine};export {i9I as qstick};export {P9I as rainbow};export {R9I as randomWalk};export {q9I as relativeVigor};export {B9I as rsi};export {A6I as schaffTrendCycle};export {C6I as shinohara};export {f6I as stochastics};export {L6I as supertrend};export {N6I as swingIndex};export {Q6I as trendIntensity};export {V6I as trix};export {m6I as twiggsMoneyFlow};export {S6I as typicalPrice};export {T6I as ulcerIndex};export {G6I as ultimateOscillator};export {z6I as valuationLines};export {g6I as volatilityIndex};export {M6I as volumeProfile};export {Z6I as volumeStudies};export {p6I as vortex};export {K6I as williamsMFI};export {A9I as CIQ, b6I as SplinePlotter, W6I as timezoneJS, E6I as $$, r6I as $$$};if(typeof __TREE_SHAKE__ === T6LL || !__TREE_SHAKE__){(a6I.CIQ || A9I).activateImports(C9I,f9I,L9I,N9I,Q9I,V9I,m9I,S9I,T9I,G9I,z9I,g9I,M9I,Z9I,p9I,K9I,b9I,W9I,E9I,r9I,a9I,c9I,y9I,d9I,u9I,h9I,w9I,x9I,k9I,Y9I,I9I,O9I,v9I,n9I,o9I,J9I,F9I,j9I,X9I,t9I,e9I,D9I,H9I,s9I,U9I,l9I,i9I,P9I,R9I,q9I,B9I,A6I,C6I,f6I,L6I,N6I,Q6I,V6I,m6I,S6I,T6I,G6I,z6I,g6I,M6I,Z6I,p6I,K6I,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */


